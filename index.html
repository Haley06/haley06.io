<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="haley">
<meta property="og:url" content="http://haley06.com/index.html">
<meta property="og:site_name" content="haley">
<meta property="og:locale">
<meta property="article:author" content="haley06">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://haley06.com/"/>





  <title>haley</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">haley</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/04/24/JS%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0(%E4%B8%8B)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/04/24/JS%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0(%E4%B8%8B)/" itemprop="url">JS基础学习（下）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-04-23T19:35:09Z">
                2021-04-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h1><h2 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h2><ul>
<li><p>当<strong>事件</strong>的<strong>响应函数触发（用户执行了此事件）</strong>时，<strong>浏览器</strong>每次都会<strong>将一个事件对象</strong>作为**实参传入响应函数 **</p>
</li>
<li><p>在<strong>事件对象中封装了当前事件相关的一切信息</strong>，比如，鼠标坐标，哪个按键被按下，鼠标滚轮移动方向</p>
</li>
<li><p>事件通常与<strong>函数</strong>配合使用，这样就可以通过发生的事件来驱动函数执行</p>
</li>
<li><p>由于浏览器要在事件执行的函数中传<strong>事件对象</strong>,所以事件的响应函数要有形参,一般设置为<strong>event</strong></p>
</li>
<li><p>也可以在响应函数中使用**arguments[0]**获取事件</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;box1&quot;</span>);</span><br><span class="line"><span class="comment">//onmousemove事件会在鼠标移动时被触发</span></span><br><span class="line">box1.onmousemove=<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(event);<span class="comment">//MouseEvent &#123;isTrusted: true, screenX: 419, screenY: 191, clientX: 85, clientY: 88, …&#125;  是一个事件对象</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获取鼠标位置</span></span><br><span class="line">    <span class="keyword">var</span> x=event.clientX;</span><br><span class="line">    <span class="keyword">var</span> y=event.clientY;</span><br><span class="line">    <span class="comment">// 在box2中显示（一般显示文字想innerHTML）鼠标坐标</span></span><br><span class="line">    box2.innerHTML=<span class="string">&quot;x=&quot;</span>+x+<span class="string">&quot;,y=&quot;</span>+y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="常见的事件"><a href="#常见的事件" class="headerlink" title="常见的事件"></a>常见的事件</h2><ul>
<li><p>浏览器事件</p>
</li>
<li><p>鼠标事件</p>
</li>
<li><p>键盘事件</p>
</li>
<li><p>表单事件</p>
</li>
<li><p>触摸事件</p>
<blockquote>
<p><code>onbort</code> 图像加载被中断</p>
<p><code>onblur</code>元素失去焦点</p>
<p><code>onchange</code>域的内容被改变</p>
<p><code>ondbclick</code>用户双击某个对象时</p>
<p><code>onclick</code>用户单击某个对象时</p>
<p><code>onerror</code>加载文档或者图像时发生错误</p>
<p><code>onfocus</code>元素获得焦点</p>
<p><code>onkeydown</code> 某个键盘按键按下时</p>
<p><code>onkeypress</code>某个按键按下并被松开时</p>
<p><code>onkeyup</code>某个键盘按键松开</p>
<p><code>onload</code>一张页面或一张图加载完成时</p>
<p><code>onmousedown</code>鼠标按钮按下</p>
<p><code>onmousemove</code>鼠标被移动</p>
<p><code>onmouseover</code>鼠标移到某元素上时</p>
<p><code>onmouseout</code>鼠标被移开时</p>
<p><code>onreset</code>重置按钮被点击时</p>
<p><code>onresize</code>窗口或框架大小被调整时</p>
<p><code>onselect</code>文本被选中</p>
<p><code>onsubmit</code>确认按钮被点击时</p>
<p><code>onunload</code>用户退出页面时</p>
<p><code>onwheel</code>鼠标滚轮滚动事件，会在滚轮滚动时触发</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">上述事件都可以有单击响应函数,</span><br><span class="line">    !!!记得加event做参数才能通过event获取下方的属性!!!在函数中进行操作</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="鼠标-键盘属性"><a href="#鼠标-键盘属性" class="headerlink" title="鼠标/键盘属性"></a>鼠标/键盘属性</h2><ul>
<li><p><code>altKey</code>  返回当事件被触发时，”ALT” 是否被按下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.altKey=<span class="literal">true</span>|<span class="literal">false</span>|<span class="number">1</span>|<span class="number">0</span>  </span><br></pre></td></tr></table></figure></li>
<li><p><code>button</code>返回当事件被触发时，哪个鼠标按钮被点击</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.button=<span class="number">0</span>|<span class="number">1</span>|<span class="number">2</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>鼠标左键</td>
</tr>
<tr>
<td>1</td>
<td>鼠标中键</td>
</tr>
<tr>
<td>2</td>
<td>鼠标右键</td>
</tr>
<tr>
<td>1<code>(ie)</code></td>
<td>鼠标左键</td>
</tr>
<tr>
<td>4<code>(ie)</code></td>
<td>鼠标中键</td>
</tr>
<tr>
<td>2<code>(ie)</code></td>
<td>鼠标右键</td>
</tr>
</tbody></table>
</li>
<li><p><code>clientX/Y</code>返回当事件被触发时，鼠标<strong>指针的水平/垂直坐标</strong></p>
</li>
<li><p><code>ctrlKey</code>返回当事件被触发时，<code>&quot;CTRL&quot;</code> 键是否被按下</p>
</li>
<li><p><code>relatedTarget</code>该属性返回与事件的目标节点相关的节点。</p>
<ul>
<li>对于 <code>mouseover</code> 事件来说，该属性是鼠标指针移到目标节点上时所离开的那个节点。</li>
<li>对于 <code>mouseout</code> 事件来说，该属性是离开目标时，鼠标指针进入的节点。</li>
<li>对于其他类型的事件来说，这个属性没有用。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.relatedTarget.tagName</span><br></pre></td></tr></table></figure></li>
<li><p><code>screenX/Y</code>返回当事件被触发时，鼠标<strong>指针的水平/垂直坐标</strong></p>
</li>
<li><p><code>shiftKey</code>返回当事件被触发时，”SHIFT” 键是否被按下。</p>
</li>
<li><p><code>event.keyCode===40...</code>可以用于判断哪个具体键被按下,需要知道键盘编码</p>
</li>
<li><p>左上右下箭头键盘编码为37 38 39 40</p>
</li>
<li><p>其他属性: <a target="_blank" rel="noopener" href="https://www.w3school.com.cn/jsref/dom_obj_event.asp">https://www.w3school.com.cn/jsref/dom_obj_event.asp</a></p>
<ul>
<li>对于–X/Y使用区别见:  <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41342585/article/details/80659736">https://blog.csdn.net/weixin_41342585/article/details/80659736</a></li>
</ul>
</li>
</ul>
<p><strong>标准event属性,几乎event都有</strong></p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>bubbles</td>
<td>返回布尔值，指示事件是否是起泡事件类型</td>
</tr>
<tr>
<td><code>cancelable</code></td>
<td>返回布尔值，指示事件是否可拥可取消的默认动作</td>
</tr>
<tr>
<td><code>currentTarget</code></td>
<td>返回其事件监听器触发该事件的元素</td>
</tr>
<tr>
<td><code>eventPhase</code></td>
<td>返回事件传播的当前阶段。</td>
</tr>
<tr>
<td><strong><code>target</code></strong></td>
<td><strong>返回触发此事件的元素（事件的目标节点,节点有许多属性可以用(<code>className</code>..)）</strong></td>
</tr>
<tr>
<td><code>timeStamp</code></td>
<td>返回事件生成的日期和时间。</td>
</tr>
<tr>
<td><code>type</code></td>
<td>返回当前 Event 对象表示的事件的名称</td>
</tr>
</tbody></table>
<h2 id="事件的方法"><a href="#事件的方法" class="headerlink" title="事件的方法"></a>事件的方法</h2><ul>
<li><code>event.preventDefault()</code>可以取消默认行为</li>
<li><code>stopPropagation()</code>不再派发事件</li>
<li><code>initEvent</code>初始化新创建的 Event 对象的属性</li>
</ul>
<h2 id="事件的冒泡"><a href="#事件的冒泡" class="headerlink" title="事件的冒泡"></a>事件的冒泡</h2><ul>
<li><p>所谓的冒泡指的就是事件的向上传导，当后代元素事件被触发时，其他祖先元素相同事件也会被触发</p>
</li>
<li><p> 开发中冒泡很有用,如果不希望发生事件冒泡，可以通过事件对象取消冒泡</p>
</li>
</ul>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 可以将事件对象的cancelBubble设置为true，即可取消冒泡</span></span><br><span class="line">event.cancelBubble=<span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<h2 id="事件委派"><a href="#事件委派" class="headerlink" title="事件委派"></a>事件委派</h2><ul>
<li>事件的委派：将<strong>指定事件统一绑定给元素的祖先元素</strong>，这样当后代元素上的事件触发时，会一直冒泡到祖先元素    从而通过祖先元素的响应函数来处理事件</li>
<li>事件委派是利用了冒泡，通过委派可减少事件绑定次数，提高程序性能</li>
</ul>
<h2 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h2><ul>
<li><p>问题</p>
<blockquote>
<ul>
<li>使用**对象.事件=函数 **的形式绑定响应函数,它只能同时为一个元素绑定的一个事件绑定一个单击响应函数，不能绑定多个响应函数</li>
<li>如果绑定多个，后边会覆盖前边的</li>
</ul>
</blockquote>
</li>
<li><p>解决使用**<code>addEventListener</code>**</p>
<blockquote>
<p><code>addEventListener()</code></p>
<p>​        -通过这个方法也可以<strong>为元素绑定单击响应函数</strong></p>
<p>​        -参数：</p>
<ul>
<li>1.事件的字符串，不要on</li>
<li>2.回调函数，当事件触发时该函数会被回调</li>
<li> 3.是否在捕获阶段触发事件，一般都传递false,不传也为false</li>
</ul>
<p>​        使用<code>addEventListener（）</code><strong>可以为一个元素的相同事件同时绑定多个响应函数</strong>, 这样事件被触发时，函数将会按照函数的绑定顺序执行</p>
<p>​        这个方法不支持<code>ie8</code>及以下浏览器</p>
<p>​            <code>attachEvent </code>代替<code>addEventListener</code>在：IE 7 8 下使用</p>
</blockquote>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> 		<span class="comment">//绑定会让第二个覆盖第一个最终只执行第二个</span></span><br><span class="line">		btn01.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                alert(<span class="string">&quot;jsid&quot;</span>)</span><br><span class="line">            &#125; </span><br><span class="line">       <span class="comment">// 为btn01绑定第二个函数</span></span><br><span class="line">            btn01.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="comment">// alert(&quot;jsyfyfud&quot;)</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//下边两个会依次执行,所以以后用addEventListener()</span></span><br><span class="line"> btn01.addEventListener(<span class="string">&quot;click&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">               alert(<span class="number">1</span>);</span><br><span class="line">           &#125;,<span class="literal">false</span>);</span><br><span class="line">           btn01.addEventListener(<span class="string">&quot;click&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">               alert(<span class="built_in">this</span>);<span class="comment">//this是绑定事件的对象</span></span><br><span class="line">           &#125;,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<h2 id="事件的传播"><a href="#事件的传播" class="headerlink" title="事件的传播"></a>事件的传播</h2><ul>
<li><p>关于<strong>事件传播</strong>网景和微软理解不同</p>
<ul>
<li><strong>微软</strong>：由内向外传播，也就是当事件触发时，应该先触发当前元素上的事件，然后向当前元素的祖先元素上传播,即<strong>事件的冒泡</strong></li>
<li> <strong>网景</strong>公司：认为由外向内传播，为<strong>事件捕获阶段</strong></li>
</ul>
</li>
<li><p><code>w3c</code>综合两个方案：将事件传播分为3个阶段：</p>
<ul>
<li><strong>事件捕获</strong>：由祖先（document）（大部分浏览器为window）向目标元素进行事件捕获，但是默认不会触发</li>
<li><strong>目标</strong>阶段：事件捕获到目标元素，捕获结束开始在目标元素上触发事件</li>
<li><strong>冒泡</strong>阶段：事件从目标元素上向他的祖先元素传递，依次触发事件</li>
</ul>
</li>
</ul>
<p>​        <strong>如果希望捕获阶段就执行，可将<code>addEventListener()</code>第三个参数设置为true，一般情况不使用，用true，</strong></p>
<ul>
<li><em><code> ie8</code>不会捕获，只有冒泡</em></li>
</ul>
<h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><h2 id="BOM对象"><a href="#BOM对象" class="headerlink" title="BOM对象"></a><code>BOM</code>对象</h2><ul>
<li><p><code>BOM</code>是浏览器对象 </p>
</li>
<li><p><code>BOM</code>可以使我们通过<code>js</code>操作浏览器(不是操作网页)</p>
</li>
<li><p>在<code>BOM</code>中为我们提供一组对象,用来完成浏览器操作</p>
<ul>
<li><blockquote>
<p> Window</p>
<p>​            -代表整个浏览器窗口,同时window也是网页全局对象</p>
</blockquote>
</li>
<li><blockquote>
<p>Navigator</p>
<p>​            –代表当前浏览器信息,通过该对象可识别不同浏览器</p>
</blockquote>
</li>
<li><blockquote>
<p>Location</p>
<p>​            –代表当前浏览器的地址栏信息,通过location可以获取地址栏信息,或者操作浏览器跳转页面</p>
</blockquote>
</li>
<li><blockquote>
<p> History</p>
<p>​            –代表浏览器历史记录,可通过该对象来操作浏览器历史记录</p>
<p>​              由于隐私原因,该对象不能获取具体历史记录,只能操作浏览器前进或后退</p>
<p>​              而且该操作只在当此访问时间有效</p>
</blockquote>
</li>
<li><blockquote>
<p>Screen</p>
<p>​            –代表用户屏幕信息,通过该对象可获取用户显示器相关信息</p>
</blockquote>
</li>
</ul>
</li>
<li><p>这些<code>BOM</code>对象在<code>window</code>中都是作为<code>window</code>对象属性保存的,可以通过<code>window</code>对象来使用,也可<strong>直接使用</strong></p>
</li>
</ul>
<h2 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a>navigator</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*navigator</span></span><br><span class="line"><span class="comment">--代表当前浏览器信息,通过该对象可识别不同浏览器 ,由于历史原因,Navigator对象中大部分属性已经不能帮助我们识别浏览器</span></span><br><span class="line"><span class="comment"> --一般使用userAgent判断浏览器的信息,userAgent是字符串,这个字符串包含用来指浏览器信息的内容,不同浏览器有不同的userAgent*/</span></span><br><span class="line"></span><br><span class="line"> <span class="built_in">console</span>.log(navigator.appName);<span class="comment">//Netscape</span></span><br><span class="line">              <span class="built_in">console</span>.log(navigator.userAgent);</span><br><span class="line">              <span class="comment">/* Chrome:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36</span></span><br><span class="line"><span class="comment">Navigator.html:45  */</span></span><br></pre></td></tr></table></figure>

<h2 id="history"><a href="#history" class="headerlink" title="history"></a>history</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">属性:</span></span><br><span class="line"><span class="comment">	-length属性:可以用来获取到当前链接访问的数量</span></span><br><span class="line"><span class="comment">方法:</span></span><br><span class="line"><span class="comment">	historyback()  可以用来回退到上一页个页面,和浏览器回退按钮一样 </span></span><br><span class="line"><span class="comment">	history.forward()  可以跳转到下一个页面,与浏览器前进相同</span></span><br><span class="line"><span class="comment">	history.go()</span></span><br><span class="line"><span class="comment">		go()可以用来跳转到指定的页面,它需要一个整数参数</span></span><br><span class="line"><span class="comment">        1表示向前跳转一个页面,2表示向前跳转两个页面,</span></span><br><span class="line"><span class="comment">        -1表示向后跳转一个页面,-2表示向后跳转两个页面</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="location"><a href="#location" class="headerlink" title="location"></a>location</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	location中封装了地址栏的信息</span></span><br><span class="line"><span class="comment">	-直接打印location可获取地址栏信息（当前页面完整路径）</span></span><br><span class="line"><span class="comment">	-直接将location属性修改为一个完整路径，或相对路径，则页面会自动跳转到该路径,生成相应历史记录</span></span><br><span class="line"><span class="comment">	方法:</span></span><br><span class="line"><span class="comment">	-location.assign()用于跳转到其他页面，和location一样，会生成历史记录</span></span><br><span class="line"><span class="comment">	- location.reload():用于重新加载当前页面</span></span><br><span class="line"><span class="comment">   如果在方法中传递一个true，作为参数，则会强制清空缓存刷新页面</span></span><br><span class="line"><span class="comment">   	- location.replace()会使用一个新页面替换当前页面，调用完毕也会跳转页面,不会生成历史记录，不能使用回退按钮回退</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">	location=<span class="string">&quot;http://www.baidu.com&quot;</span></span><br><span class="line">    <span class="built_in">console</span>.log(location);</span><br><span class="line"></span><br><span class="line">	location.assign(<span class="string">&quot;http:www.baidu.com&quot;</span>);</span><br><span class="line">	location.reload(<span class="literal">true</span>);</span><br><span class="line">	location.replace(<span class="string">&quot;test02.html&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><p><strong><code>setInterval()</code></strong>   定时调用</p>
<p><strong>到时间只执行一次</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	-定时调用</span></span><br><span class="line"><span class="comment">    -可以将一个函数，每隔一段时间执行一次</span></span><br><span class="line"><span class="comment">    -参数：1.回调函数：该函数会每隔一段时间被调用一次</span></span><br><span class="line"><span class="comment">          2.每次调用间隔的时间，单位是ms(1000ms=1s)</span></span><br><span class="line"><span class="comment">     -返回值：返回一个NUmber类型数据</span></span><br><span class="line"><span class="comment">clearInterval()</span></span><br><span class="line"><span class="comment">      -可用来关闭一个定时器,方法中需要一个定时器标识作为参数,这样将关闭标识对应的计时器</span></span><br><span class="line"><span class="comment">		clearInterval(timer)</span></span><br><span class="line"><span class="comment">		-如果参数是一个有效的定时器标识符,则停止对应定时器</span></span><br><span class="line"><span class="comment">        -如果参数不是一个有效标识,则什么也不做</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count=<span class="built_in">document</span>.getElementById(<span class="string">&quot;count&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> num=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="comment">//    每隔1snum自增，并将其赋值给count.innerhtml（h1内容）</span></span><br><span class="line">               count.innerHTML=num++;</span><br><span class="line">               <span class="keyword">if</span>(num==<span class="number">11</span>)&#123;</span><br><span class="line">                   <span class="built_in">clearInterval</span>(timer)</span><br><span class="line">               &#125;</span><br><span class="line">  &#125;,<span class="number">100</span>);</span><br></pre></td></tr></table></figure>

<p><strong><code>setTImeout() </code></strong> 延时调用</p>
<p><strong>到时间会自动执行多次</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 延时调用</span></span><br><span class="line"><span class="comment">     指一个函数不马上执行，隔一段时间后才执行,而且只执行一次</span></span><br><span class="line"><span class="comment">      延时调用和定时调用区别：定时调用执行多次，延时调用执行一次</span></span><br><span class="line"><span class="comment">      二者可以相互替代，在开发中可以根据自己需要选择，定时调用多用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">           <span class="keyword">var</span> num=<span class="number">1</span>;</span><br><span class="line">           <span class="keyword">var</span> timer=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">               <span class="built_in">console</span>.log(num++);</span><br><span class="line">           &#125;,<span class="number">3000</span>);</span><br><span class="line">        <span class="comment">//    关闭延时调用</span></span><br><span class="line">           <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<ul>
<li><code>js</code>中的对象只有<code>js</code>认识，其他语言都不认识</li>
<li><code>JSON</code>是一个<strong>特殊格式字符串</strong>，这个字符串可以被任意语言识别，并且可以转为任意语言对象</li>
<li>   <code>JSON</code>主要用来<strong>数据交互</strong>在开发中</li>
<li><code>JSON</code>与<code>js</code>对象格式一样，只不过<code>JSON</code>字符串中的属性名必须加双引号,其他和<code>js</code>语法一样</li>
</ul>
</blockquote>
<h3 id="其他JSON知识"><a href="#其他JSON知识" class="headerlink" title="其他JSON知识"></a>其他JSON知识</h3><ul>
<li><p>分类</p>
<ul>
<li>对象 {}</li>
<li>[]</li>
</ul>
</li>
<li><p>允许的值:</p>
</li>
<li><p>字符串、数值、布尔值、null、对象、数组</p>
</li>
<li><p><code>JS</code>与<code>JSON</code>转化</p>
<p><strong>在<code>js</code>中，为我们提供了工具类，叫<code>JSON</code>,这个对象可以帮助我们将<code>JSON</code>转换为<code>JS</code>对象，也可以将<code>js</code>转为<code>JSON</code></strong></p>
<ul>
<li><p><code>JSON</code>-&gt;<code>JS</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> json=<span class="string">&#x27;&#123;&quot;name&quot;:&quot;haley&quot;,&quot;age&quot;:18&#125;&#x27;</span>;</span><br><span class="line">      <span class="keyword">var</span> arr=<span class="string">&#x27;[1,2,3,&quot;hello&quot;,true,&#123;&quot;name&quot;:&quot;haley&quot;,&quot;age&quot;:18&#125;]&#x27;</span>;</span><br><span class="line">    </span><br><span class="line">      <span class="comment">/* </span></span><br><span class="line"><span class="comment">      json--》js对象：</span></span><br><span class="line"><span class="comment">          -JSON.parse() 可以将以JSON字符串转为js对象</span></span><br><span class="line"><span class="comment">          -它需要一个JSON字符串作为参数，会将该字符串转为JS对象并返回</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">  <span class="keyword">var</span> o=<span class="built_in">JSON</span>.parse(json);</span><br><span class="line">  <span class="built_in">console</span>.log(o);<span class="comment">//&#123;name: &quot;haley&quot;, age: 18&#125;</span></span><br><span class="line">  <span class="keyword">var</span> o2=<span class="built_in">JSON</span>.parse(arr);</span><br><span class="line">  <span class="built_in">console</span>.log(o2);<span class="comment">//[1, 2, 3, &quot;hello&quot;, true, &#123;…&#125;]</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>JS</code>-&gt;<code>JSON</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	JSON.Stringify()</span></span><br><span class="line"><span class="comment">            -可以将一个js对象转换为JSON字符串</span></span><br><span class="line"><span class="comment">            -需要一个js对象作为参数，会返回JSON字符串</span></span><br><span class="line"><span class="comment">*/</span>		</span><br><span class="line">		<span class="keyword">var</span> obj=&#123;<span class="attr">name</span>:<span class="string">&#x27;haley&#x27;</span>,<span class="attr">age</span>:<span class="number">28</span>,<span class="attr">gender</span>:<span class="string">&#x27;nv&#x27;</span>&#125;</span><br><span class="line"> 		<span class="keyword">var</span> str=<span class="built_in">JSON</span>.stringify(obj);</span><br><span class="line">        <span class="built_in">console</span>.log(str);<span class="comment">//&#123;&quot;name&quot;:&quot;haley&quot;,&quot;age&quot;:28,&quot;gender&quot;:&quot;nv&quot;&#125;</span></span><br><span class="line">        <span class="keyword">var</span> str1=<span class="string">&#x27;&#123;&quot;name&quot;:&quot;haley&quot;,&quot;age&quot;:28,&quot;gender&quot;:&quot;nv&quot;&#125;&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>其他知识</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* eval():</span></span><br><span class="line"><span class="comment">            -这个函数可以用来执行一段字符串形式的js代码，并将执行结果返回</span></span><br><span class="line"><span class="comment">            -如果使用eval（）执行的字符串中含有&#123;&#125;，它会将&#123;&#125;当成代码块</span></span><br><span class="line"><span class="comment">                如果不希望将其作为代码块解析，则需要在字符串前后各加一个（）</span></span><br><span class="line"><span class="comment">            -eval()功能很强大，可以直接执行一个字符串中js代码，但在开发中尽量不要使用</span></span><br><span class="line"><span class="comment">            首先，其执行性能差，还有安全隐患</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">      <span class="keyword">var</span> str3=<span class="string">&quot;alert(&#x27;hello&#x27;);&quot;</span></span><br><span class="line">      <span class="keyword">var</span> obj=<span class="built_in">eval</span>(<span class="string">&quot;(&quot;</span>+str3+<span class="string">&quot;)&quot;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="高级JS"><a href="#高级JS" class="headerlink" title="高级JS"></a>高级<code>JS</code></h1><ul>
<li>这是简单的深入了一下学习<code>JS</code></li>
</ul>
<h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><h3 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h3><p><strong>数据类型</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">数据类型:<span class="number">8</span>种</span><br><span class="line">基本数据类型:	<span class="built_in">Number</span>,string,<span class="built_in">BigInt</span>,<span class="built_in">Boolean</span>,Undefined,Null,<span class="built_in">Symbol</span></span><br><span class="line">引用数据类型: <span class="built_in">Object</span>(<span class="built_in">Function</span>,<span class="built_in">Array</span>)</span><br><span class="line"></span><br><span class="line">基本:</span><br><span class="line">string:任意字符串	<span class="built_in">Number</span>:任意数字   <span class="built_in">Boolean</span>:<span class="literal">true</span>/<span class="literal">false</span>	Undefined:<span class="literal">undefined</span> Null:<span class="literal">null</span></span><br><span class="line">引用(对象)类型:</span><br><span class="line"><span class="built_in">Object</span> 任意对象		<span class="built_in">Function</span> 一种特别对象(可执行)</span><br><span class="line"><span class="built_in">Array</span>:一种特别对象 (数值下标,内部数据是有序的)</span><br></pre></td></tr></table></figure>

<p><strong>判断</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">		<span class="keyword">typeof</span> 返回数据类型字符串表示</span><br><span class="line">        <span class="keyword">instanceof</span></span><br><span class="line">        ===/==（会数据转换）</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;undefined&quot;</span>==<span class="literal">undefined</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span>==<span class="number">0</span>)<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span>==<span class="literal">undefined</span>)<span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<p><strong>问题</strong></p>
<ul>
<li><p>undefined与null的区别?</p>
<p><strong>undefined</strong></p>
<ul>
<li><p>字面上,未定义的值;</p>
<p>语义:表示一个变量最原始的状态,非人为操作结果</p>
</li>
<li><p>4种场景常见</p>
<ul>
<li><p>声明一个变量,没有赋值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a)<span class="comment">//undefined 表示该变量没有使用过自声明以来,也没有定义过任何有效值</span></span><br></pre></td></tr></table></figure></li>
<li><p>访问对象上不存在属性或未定义的变量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.foo)<span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> deml)<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure></li>
<li><p>函数定义了形参,没有传实参</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a);<span class="comment">//undefined</span></span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br></pre></td></tr></table></figure></li>
<li><p>使用void表达式求值和当函数没有返回值或返回return;时的返回值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">void</span> [];</span><br><span class="line"><span class="keyword">void</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">结果均为<span class="literal">undefined</span></span><br></pre></td></tr></table></figure>

<p>ES规定void操作符对任何表达式求值都返回undefined,这和函数执行操作后没有返回值作用一样.</p>
</li>
</ul>
</li>
</ul>
<p><strong>null</strong></p>
<ul>
<li>字面上:空值。</li>
<li>希望一个对象被人为重置为空对象,而非一个变量最原始状态</li>
<li>在内存里表示的是**:栈中的变量没有指向堆中的内存对象**</li>
<li>一般以下两种情况会变量赋值为null<ul>
<li>定义的变量将来用于保存对象,初始化为null,利于区分null和undefined</li>
<li>当一个数据不再使用时,最好通过将其设置为null来释放其引用,叫做<strong>解除引用。</strong>解除引用以便垃圾收集器下次运行时将其回收。</li>
<li><code>typeof null</code> 结果为<code>object</code></li>
</ul>
</li>
</ul>
</li>
<li><p>严格区别变量类型与数据类型？</p>
<p>​       数据类型：基本类型</p>
<p>​                            对象类型</p>
<p>​       变量类型：（变量内存值的类型）</p>
<p>​            基本类型：保存的是基本类型数据</p>
<p>​            引用类型：保存的地址值</p>
</li>
</ul>
<h3 id="数据-变量-内存"><a href="#数据-变量-内存" class="headerlink" title="数据,变量,内存"></a>数据,变量,内存</h3><ul>
<li><p>什么是数据?</p>
<blockquote>
<ul>
<li>存储在内存中代表特定信息的东东，本质是0101.。。</li>
<li>数据的特点：可传递，可运算</li>
<li>一切皆数据</li>
<li> 内存中所以操作的目标：数据</li>
<li>算术运算，逻辑运算，赋值运算，运行函数</li>
</ul>
</blockquote>
</li>
<li><p>什么是内存?</p>
<blockquote>
<ul>
<li><p>内存空间是临时的，硬盘空间是持久的</p>
</li>
<li><p>内存条通电后产生的可存储数据的空间（临时的）</p>
</li>
<li><p> 内存产生和死亡：内存条（电路板）<code>==》</code>通电<code>==》</code>产生内存空间<code>==》</code>存储数据<code>==》</code>处理数据<code>==》</code>断电==》内存空间和数据都消失</p>
</li>
<li><p> 一块小内存包含2个数据</p>
</li>
<li><p>内部存储的数据（一般数据/地址数据）</p>
</li>
<li><p>地址值</p>
</li>
<li><p>内存分类：</p>
<ul>
<li>栈:全局变量/局部变量 标识函数函数名在栈空间 空间较小</li>
<li>堆：对象（函数）</li>
</ul>
</li>
</ul>
</blockquote>
</li>
<li><p>什么是变量?</p>
<blockquote>
<ul>
<li>可变化的量：由变量名和变量值组成，</li>
<li>每个变量都对应一块小内存，变量名（内存标识）用来查找对应内存，变量值就是内存中保存的数据</li>
</ul>
</blockquote>
</li>
<li><p>内存，数据，变量的关系</p>
<p><strong>内存</strong>是用来<strong>存储数据</strong>的<strong>空间</strong>，<strong>变量</strong>是内存的<strong>标识</strong>，通过变量找到对应内存进而<strong>操作（读/写）数据</strong></p>
</li>
</ul>
<p><strong>问题</strong></p>
<ul>
<li><p>1.<code>var a=xxx,</code>a内存中到底保存的是什么？</p>
<blockquote>
<p>​     <code>xxx</code>是基本数据，保存的就是这个数据</p>
<p>​     <code>xxx</code>是对象，保存的是对象地址值</p>
<p>​     <code>xxx</code>是一个变量,保存的是<code>xxx</code>的内存的内容（可能是基本数据，也可能是地址值）</p>
</blockquote>
</li>
<li><p>2.关于引用变量赋值问题</p>
<blockquote>
<ul>
<li>n个引用变量指向同一个对象，通过一个变量修改对象内部数据，其他所有变量看到的是修改之后的数据</li>
<li>2个引用变量指向同一个对象,让其中一个引用变量指向另一个对象，另一引用变量依然指向前一个对象</li>
</ul>
</blockquote>
</li>
<li><p>3.在<code>js</code>调用函数时传递变量参数时，是值传递还是引用传递？</p>
<blockquote>
<p>​        理解一：值传递（基本/地址值）</p>
<p>​        理解二：可能是值传递，也可能是引用传递（地址值）</p>
</blockquote>
</li>
<li><p>4.<code>js</code>引擎如何管理内存？</p>
<blockquote>
<p>  1.内存生命周期</p>
<ul>
<li>分配小内存空间，得到它的使用权</li>
<li>存储数据，可以反复进行操作、</li>
<li>释放小内存空间</li>
</ul>
<p>2.释放内存  </p>
<p>​        局部变量：函数执行完自动释放</p>
<p>​        对象：成为垃圾对象==》垃圾回收器回收</p>
</blockquote>
</li>
</ul>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><ul>
<li><p>什么是函数?</p>
<blockquote>
<p>​     实现特定功能的n条<strong>语句的封装体</strong></p>
<p>​      <strong>只有函数是可以执行的，其他类型数据不能执行</strong></p>
</blockquote>
</li>
<li><p>为什么要调用函数?</p>
<ul>
<li>提高代码复用,便于阅读交流</li>
</ul>
</li>
<li><p>如何定义函数?</p>
<ul>
<li>函数声明</li>
<li>表达式</li>
</ul>
</li>
<li><p>如何调用执行函数</p>
<ul>
<li><p><code>test()</code>直接调用</p>
</li>
<li><p><code>obj.tets()</code>通过对象调用</p>
</li>
<li><p><code>new test()</code>new 调用</p>
</li>
<li><p><code>test.call/apply(obj,参数)</code></p>
<p>修改test函数的this调用</p>
</li>
</ul>
</li>
</ul>
<p><strong>回调函数</strong></p>
<ul>
<li><p>什么是回调函数?</p>
<blockquote>
<p>​     1.你定义的</p>
<p>​      2.你没有调</p>
<p>​      3.但最终它执行了</p>
</blockquote>
</li>
<li><p>常见的回调函数</p>
<blockquote>
<p>​     1.定时器回调函数</p>
<p>​      2.<code>dom</code>事件回调函数(<code>addEventListener(&#39;click&#39;,function()&#123;&#125;,false)</code>)</p>
<p>​      3.<code>ajax</code>请求回调函数 与后端交互</p>
<p>​      4.<code>vue</code>生命周期回调函数</p>
</blockquote>
</li>
</ul>
<p><strong><code>IIFE</code></strong></p>
<ul>
<li><p>全称：<code>Innediately-INvoked Function Expression</code> 匿名函数自调用</p>
</li>
<li><p>作用</p>
<ul>
<li><p>隐藏实现</p>
</li>
<li><p>不会污染全局作用域</p>
</li>
<li><p>用它可以编写<code>JS</code>模块</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">         <span class="built_in">console</span>.log(++a); </span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">       <span class="built_in">window</span>.$ = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="comment">//向外暴露一个全局函数</span></span><br><span class="line">         <span class="keyword">return</span> &#123;</span><br><span class="line">           test: test,</span><br><span class="line">         &#125;;</span><br><span class="line">       &#125;;</span><br><span class="line">     &#125;)();<span class="comment">//这里调用了一遍 </span></span><br><span class="line">     <span class="comment">//下边调用里边test函数又一遍</span></span><br><span class="line">     $().test(); <span class="comment">//2  $是一个函数名，$执行后返回的是一个对象，对象里有个test方法</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>加分号问题</p>
<blockquote>
<p>1.<code>js</code>一条语句后面可以不加分号</p>
<p>2.是否加分号是编码风格问题，没有应不应该，只有喜不喜欢</p>
<p>3.下面2种情况下不加分号会有问题</p>
<pre><code>   小括号开头的前一条语句
   
   中方括号开头的前一条语句
</code></pre>
<p>4.解决办法：在行首加分号</p>
<p>5.强有力例子：<code>vue.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> a = <span class="number">3</span>   <span class="comment">//应该加;</span></span><br><span class="line">      (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;)();</span><br><span class="line">      <span class="comment">/* </span></span><br><span class="line"><span class="comment">错误理解：</span></span><br><span class="line"><span class="comment"> var a=3(function()&#123;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">        &#125;)()</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">      <span class="keyword">var</span> b = <span class="number">4</span><span class="comment">//应该加;</span></span><br><span class="line">      [<span class="number">1</span>, <span class="number">3</span>].forEach(<span class="function">(<span class="params">element</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(element);</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">/* </span></span><br><span class="line"><span class="comment">错误理解： var b=4[1,3].forEach(element =&gt; &#123;</span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">        &#125;);</span></span><br></pre></td></tr></table></figure>

<p>形参的本质是变量</p>
</blockquote>
</li>
</ul>
<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><blockquote>
<pre><code> 1.作用域：一块地盘，一个代码所在区域
</code></pre>
<p>​                        它是静态的（相当于上下文对象），在编写代码时就确定了</p>
<p>​    2.分类：全局作用域</p>
<p>​                    函数作用域</p>
<p>​                    块级作用域（<code>Es6</code>有了）</p>
<p>​    3.作用：</p>
<p>​                  隔离变量，不同作用域下同名变量不会有冲突</p>
</blockquote>
<p><strong>总结</strong></p>
<blockquote>
<ul>
<li><p>找变量<code>（a）</code>沿着作用域链找，找属性<code>（a.b）</code>找原型链</p>
</li>
<li><p>作用域：代码块区域</p>
<ul>
<li>个数：n+1个（n为代码块数）</li>
<li>作用：隔离变量</li>
<li>作用域链：嵌套函数，先看当前作用域再看出一层作用域有没有，如果找完还没有，就报错</li>
<li>作用：查找变量</li>
</ul>
</li>
</ul>
</blockquote>
<p><strong>执行上下文与作用域区别</strong>：</p>
<ul>
<li><p>全局作用域之外每个函数都会创建自己的作用域，作用域在函数定义时就已经确定，不是在函数调用时</p>
</li>
<li><p>全局执行上下文在全局作用域确定后，<code>js</code>代码马上执行之前创建</p>
<p>函数执行上下文在调用函数时，函数体代码执行前创建</p>
</li>
</ul>
<ul>
<li>作用域是静态的，只要函数定义好就一直存在，不会在改变</li>
<li>上下文是环境动态的，调用函数时创建，函数调用结束时上下文环境会被释放</li>
</ul>
<p><strong>联系</strong>：</p>
<p>​    上下文环境（对象）是从属于所在作用域</p>
<p>​    全局上下文环境==》全局作用域</p>
<p>​    函数上下文环境==》对应函数作用域 </p>
<p><strong>练习</strong></p>
<ul>
<li>练习1</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(x);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> x = <span class="number">20</span>;</span><br><span class="line">   f();</span><br><span class="line"> &#125;</span><br><span class="line"> show(fn); <span class="comment">//10  fn作用域和show作用域是并列的，他们自己作用域没有变量就直接向全局作用域找</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* </span></span><br><span class="line"><span class="comment"> 题2 */</span></span><br><span class="line"> <span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(fn);</span><br><span class="line"> &#125;;</span><br><span class="line"> fn();</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> obj = &#123;</span><br><span class="line">   fn2: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="comment">// console.log(fn2);//error 此时函数作用域中没有fn2,就直接去全局中找，不在对象中找，而全局没有，所以报错</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">this</span>.fn2); <span class="comment">//这样才会输出obj的fn2</span></span><br><span class="line">   &#125;,</span><br><span class="line"> &#125;;</span><br><span class="line"> obj.fn2();</span><br></pre></td></tr></table></figure>

<ul>
<li><p>练习2</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">c=<span class="number">3</span><span class="comment">//window里有c</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">window</span>.c);<span class="comment">//3</span></span><br><span class="line">       <span class="comment">//  全局执行上下文 找变量从window中找</span></span><br><span class="line">        <span class="built_in">console</span>.log(a1,<span class="built_in">window</span>.a1);<span class="comment">//undefined undefined</span></span><br><span class="line">       a2();<span class="comment">//jkfld</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);<span class="comment">//window</span></span><br><span class="line">        <span class="keyword">var</span> a1=<span class="number">3</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">a2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">&#x27;jkfld&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;----------------&#x27;</span>);</span><br><span class="line">        </span><br><span class="line">       <span class="comment">//  函数执行上下文  执行才会创建堆空间</span></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a1</span>)</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(a1);<span class="comment">//2</span></span><br><span class="line">           <span class="built_in">console</span>.log(a2);<span class="comment">//undefined</span></span><br><span class="line">           a3();<span class="comment">//fun()</span></span><br><span class="line">           <span class="built_in">console</span>.log(<span class="built_in">this</span>);<span class="comment">//window</span></span><br><span class="line">           <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);<span class="comment">//2,3  伪数组（2，3）</span></span><br><span class="line">           <span class="keyword">var</span> a2=<span class="number">3</span>;</span><br><span class="line">           <span class="function"><span class="keyword">function</span> <span class="title">a3</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">&#x27;fun()&#x27;</span>);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       fn(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">       <span class="comment">// 局部变量在栈里</span></span><br></pre></td></tr></table></figure>

<p><strong>练习3(典型)</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">      测试题3</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    <span class="keyword">var</span> c = <span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//   c(2); //error</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> c); <span class="comment">//number</span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">var</span> c; <span class="comment">//变量声明提升！！！！不是赋值</span></span><br><span class="line">    <span class="comment">// 函数提升优先级高于变量提升优先级，函数提升的晚</span></span><br><span class="line">    <span class="comment">// 此处变量c先声明未赋值，之后函数提升，最后才是c赋值，所以为number</span></span><br><span class="line">    <span class="comment">// 若c没有赋值，则c为function，function会覆盖undefined（测试题一就是这样）</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(c);</span><br><span class="line">    &#125;</span><br><span class="line">    c = <span class="number">1</span>;</span><br><span class="line">    c(<span class="number">2</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>执行上下文栈</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*1.在全局代码执行前，js引擎会创建一个栈来存储管理所有执行上下文的对象</span></span><br><span class="line"><span class="comment">      2.在全局执行上下文（window）确定后，将其添加到栈中（压栈）</span></span><br><span class="line"><span class="comment">      3.在函数执行上下文创建后，将其添加到栈中（压栈）</span></span><br><span class="line"><span class="comment">      4.在当前函数执行完后，将栈顶对象移除（出栈）</span></span><br><span class="line"><span class="comment">      5.当所有代码执行完后，栈中只剩下window*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h2><p><strong>五种方式</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/* </span></span><br><span class="line"><span class="comment">        Object构造函数模式</span></span><br><span class="line"><span class="comment">        套路：先创建空Object对象，再动态添加属性和方法</span></span><br><span class="line"><span class="comment">        使用场景：起始时不确定对象内部数据,之后重新赋值</span></span><br><span class="line"><span class="comment">        问题：语句太多</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">       <span class="comment">/* 创建一个人 */</span></span><br><span class="line">       <span class="keyword">var</span> p=<span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">       p.name=<span class="string">&#x27;Tom&#x27;</span>;</span><br><span class="line">       p.age=<span class="number">12</span></span><br><span class="line">       p.setName=<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.name=name;</span><br><span class="line">       &#125;</span><br><span class="line">    <span class="comment">//    测试</span></span><br><span class="line">    p.setName(<span class="string">&#x27;John&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(p.name);<span class="comment">//John</span></span><br><span class="line">       </span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">    方法二：对象字面量模式</span></span><br><span class="line"><span class="comment">    套路：使用&#123;&#125;创建对象，同时指定属性/方法</span></span><br><span class="line"><span class="comment">    使用场景：起始时对象内部数据是确定的</span></span><br><span class="line"><span class="comment">    问题：如果创建多个对象有代码重复问题</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">var</span> p1=&#123;</span><br><span class="line">       name:<span class="string">&#x27;Tom&#x27;</span>,</span><br><span class="line">       age:<span class="number">12</span>,</span><br><span class="line">       setName:<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.name=name;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"><span class="comment">//    测试</span></span><br><span class="line"><span class="built_in">console</span>.log(p1.name,p1.age);</span><br><span class="line">p1.setName(<span class="string">&#x27;hjkhk&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p1.name,p1.age);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">方法3：工厂模式</span></span><br><span class="line"><span class="comment">   套路：通过工厂模式动态创建对象并返回</span></span><br><span class="line"><span class="comment">   使用场景：创建多个对象</span></span><br><span class="line"><span class="comment">   问题：对象没有一个具体类型(都是人，不知道是老师，学生，还是父母。。。)，都是Object类型</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">creatPerson</span>(<span class="params">name,age</span>)</span>&#123;<span class="comment">//返回一个对象的函数可称为工厂函数</span></span><br><span class="line">       <span class="keyword">var</span> obj=&#123;</span><br><span class="line">           name:name,</span><br><span class="line">           age:age,</span><br><span class="line">           setName:<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">               <span class="built_in">this</span>.name=name;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> obj;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">var</span> p3=creatPerson(<span class="string">&#x27;ghjg&#x27;</span>,<span class="number">15</span>);</span><br><span class="line">   <span class="keyword">var</span> p4=creatPerson(<span class="string">&#x27;ghjg&#x27;</span>,<span class="number">16</span>);</span><br><span class="line">   <span class="built_in">console</span>.log(p3 <span class="keyword">instanceof</span> creatPerson);<span class="comment">//false</span></span><br><span class="line">   <span class="comment">/* </span></span><br><span class="line"><span class="comment">   方法四：</span></span><br><span class="line"><span class="comment">   自定义构造函数模式：</span></span><br><span class="line"><span class="comment">    套路：自定义构造函数，通过new创建对象</span></span><br><span class="line"><span class="comment">    使用场景：需要创建多个类型确定的对象</span></span><br><span class="line"><span class="comment">    问题：每个对象都有相同数据，浪费内存</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Person1</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.name=name;</span><br><span class="line">      <span class="built_in">this</span>.age=age;</span><br><span class="line">      <span class="built_in">this</span>.setName=<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">this</span>.name=name;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//不用return</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> p5=<span class="keyword">new</span> Person1(<span class="string">&#x27;Tom0&#x27;</span>,<span class="number">15</span>);</span><br><span class="line">  p5.setName(<span class="string">&#x27;Jack&#x27;</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(p5.name,p5.age);</span><br><span class="line">  <span class="built_in">console</span>.log(p5 <span class="keyword">instanceof</span> Person);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name,address</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.name=name;</span><br><span class="line">      <span class="built_in">this</span>.address=address;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> s=<span class="keyword">new</span> Student(<span class="string">&#x27;haley&#x27;</span>,<span class="number">16</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Student);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> p6=<span class="keyword">new</span> Person1(<span class="string">&#x27;sdfas&#x27;</span>,<span class="number">15</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(p5,p6);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* </span></span><br><span class="line"><span class="comment">  方法五：</span></span><br><span class="line"><span class="comment">    构造函数+原型组合模式</span></span><br><span class="line"><span class="comment">    套路：自定义构造函数，属性在函数中初始化，方法添加到原型上</span></span><br><span class="line"><span class="comment">    使用场景：需要创建多个类型确定的对象</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.name=name;</span><br><span class="line">      <span class="built_in">this</span>.age=age;</span><br><span class="line">      &#125;</span><br><span class="line">      Person.prototype.setName=<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">this</span>.name=name;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> p7=<span class="keyword">new</span> Person(<span class="string">&#x27;haleuy&#x27;</span>,<span class="number">18</span>);</span><br><span class="line">      <span class="keyword">var</span> p8=<span class="keyword">new</span> Person(<span class="string">&#x27;hauy&#x27;</span>,<span class="number">20</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(p7,p8);</span><br></pre></td></tr></table></figure>

<p><strong>原型链继承</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">        原型链继承：</span></span><br><span class="line"><span class="comment">        1.套路：</span></span><br><span class="line"><span class="comment">            1.定义父类型构造函数</span></span><br><span class="line"><span class="comment">            2.给父类型原型添加方法</span></span><br><span class="line"><span class="comment">            3.定义子类型构造函数</span></span><br><span class="line"><span class="comment">            4.创建父类型对象赋值给子类型的原型</span></span><br><span class="line"><span class="comment">            5.将子类型原型的构造属性设置为子类型//constructor</span></span><br><span class="line"><span class="comment">            6.给子类型原型添加方法</span></span><br><span class="line"><span class="comment">            7.创建子类型对象：可以调用父类型方法</span></span><br><span class="line"><span class="comment">        2.关键：</span></span><br><span class="line"><span class="comment">            子类型的原型为父类型的一个实例对象</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">//  父类型</span></span><br><span class="line">         <span class="function"><span class="keyword">function</span> <span class="title">Supper</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             <span class="built_in">this</span>.supSuper=<span class="string">&#x27;Supper property&#x27;</span></span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         Supper.prototype.showSupperProp=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">             <span class="built_in">console</span>.log(<span class="built_in">this</span>.supSuper);</span><br><span class="line">         &#125;</span><br><span class="line">        <span class="comment">//  子类型</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.Subprop=<span class="string">&#x27;Sub property&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 子类型的原型为父类型的一个实例对象  想看到Super方法就找Super实例</span></span><br><span class="line">        Sub.prototype=<span class="keyword">new</span> Supper();</span><br><span class="line">        <span class="comment">// 让子类型的原型constructor指向子类型</span></span><br><span class="line">        Sub.prototype.constructor=Sub;</span><br><span class="line">        Sub.prototype.showSubprop=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>);<span class="comment">//谁调用此方法将来谁就是this</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.Subprop);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> sub=<span class="keyword">new</span> Sub();</span><br><span class="line">        <span class="comment">// sub.showSupperProp();  error</span></span><br><span class="line">        sub.toString();<span class="comment">//toString()在Object上</span></span><br><span class="line">        sub.showSupperProp();<span class="comment">//加了38行不报错</span></span><br><span class="line">        sub.showSubprop();</span><br><span class="line"></span><br><span class="line">        <span class="built_in">console</span>.log(sub.constructor);<span class="comment">//查看Sub构造函数  此时指向Supper（）</span></span><br><span class="line">        <span class="built_in">console</span>.log(sub.constructor);<span class="comment">//添加38行后查看Sub构造函数  此时指向Sub（）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">/* </span></span><br><span class="line"><span class="comment">        方式2： 借用构造函数继承（假的）</span></span><br><span class="line"><span class="comment">            1.套路：</span></span><br><span class="line"><span class="comment">                1.定义父类型构造函数</span></span><br><span class="line"><span class="comment">                2.定义子类型构造函数</span></span><br><span class="line"><span class="comment">                3.在子类型构造函数中调用父类型构造函数</span></span><br><span class="line"><span class="comment">            2.关键：</span></span><br><span class="line"><span class="comment">                1.在子类型构造函数中用Call（）调用父类型构造函数</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.name=name;</span><br><span class="line">            <span class="built_in">this</span>.age=age;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name,age,price</span>)</span>&#123;</span><br><span class="line">           Person.call(<span class="built_in">this</span>,name,age);<span class="comment">//相当于：this.Person（name，age） 为了得到父类型方法</span></span><br><span class="line">            <span class="comment">//  this是new出的s，s为子类型实例</span></span><br><span class="line">           <span class="built_in">this</span>.price=price;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">var</span> s=<span class="keyword">new</span> Student(<span class="string">&#x27;TOm&#x27;</span>,<span class="number">16.14000</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       <span class="comment">/* </span></span><br><span class="line"><span class="comment">       方式3：原型链+使用构造函数的组合要求</span></span><br><span class="line"><span class="comment">       1.利用原型链实现对父类对象的方法继承</span></span><br><span class="line"><span class="comment">       2.利用Super（）借用父类型构建函数初始化相同属性       </span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.name=name;</span><br><span class="line">            <span class="built_in">this</span>.age=age;</span><br><span class="line">       &#125;</span><br><span class="line">       Person.prototype.setName=<span class="function"><span class="keyword">function</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">           <span class="built_in">this</span>.name=name;</span><br><span class="line">           <span class="built_in">this</span>.age=age;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name,age,price</span>)</span>&#123;</span><br><span class="line">           Person.call(<span class="built_in">this</span>,name,age);<span class="comment">//相当于：this.Person（name，age） 为了得到父类型方法</span></span><br><span class="line">            <span class="comment">//  this是new出的s</span></span><br><span class="line">           <span class="built_in">this</span>.price=price;</span><br><span class="line">       &#125;</span><br><span class="line">    <span class="comment">//    继承</span></span><br><span class="line">       Student.prototype=<span class="keyword">new</span> Person();<span class="comment">//为了能看到父类型方法  子类型的原型指向父类型实例</span></span><br><span class="line">       Student.prototype.constructor=Student;<span class="comment">//修正constructor</span></span><br><span class="line">       Student.prototype.setPrice=<span class="function"><span class="keyword">function</span>(<span class="params">price</span>)</span>&#123;</span><br><span class="line">           <span class="built_in">this</span>.price=price;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">var</span> s=<span class="keyword">new</span> Student(<span class="string">&quot;Tom&quot;</span>,<span class="number">16</span>,<span class="number">1000000</span>);</span><br><span class="line">       s.setName(<span class="string">&#x27;haley&#x27;</span>);</span><br><span class="line">       s.setPrice(<span class="string">&#x27;1600000000&#x27;</span>)</span><br><span class="line">       <span class="built_in">console</span>.log(s);</span><br></pre></td></tr></table></figure>

<h2 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h2><ul>
<li><p><strong>原型型链顶端</strong></p>
<p><strong>Object的原型对象所指向的原型对象为null</strong></p>
<p><strong><code>Object.prototype.__proto__===null  //true</code></strong></p>
</li>
<li><p><strong>构造函数与Function</strong>的关系</p>
<p><em>所有构造函数对象的隐式原型对象都指向<code>Function</code>的显示原型对象</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.__proto===<span class="built_in">Function</span>.prototype</span><br><span class="line"><span class="built_in">Array</span>.__proto__===<span class="built_in">Function</span>.prototype</span><br><span class="line"><span class="built_in">Object</span>.__proto__===<span class="built_in">Function</span>.prototype</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">Person.__proto__===<span class="built_in">Function</span>.prototype</span><br><span class="line">Person.prototype.__proto__===<span class="built_in">Object</span>.prototype</span><br></pre></td></tr></table></figure></li>
<li><p>Function与Object关系</p>
<ul>
<li><p><code>Object</code>为构造函数,所以有<code>Object.__proto===Function.prototype</code></p>
</li>
<li><p><code>Function</code>是对象</p>
<p><code>Function.prototype.__proto__===Object.prototype</code></p>
</li>
</ul>
</li>
<li><p>**构造函数与<code>Object</code>**的关系</p>
<p><em>所以构造函数的显示原型对象的隐式原型对象都指向Object的显式原型对象</em></p>
<p><em>只有Object的显示原型对象的隐式原型对象指向null</em></p>
</li>
<li><p><strong>构造函数实例与构造函数</strong>关系</p>
<p><em>构造函数实例的隐式原型对象指向构造函数的显示原型对象</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">obj=<span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">obj.__proto__===Person.prototype;</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>**对象不一定是构造函数,所以通过构造函数创建的obj对象只有<code>__proto__</code>**属性</li>
<li><strong>构造函数,一定是对象,所以构造函数一般有prototype(显示原型)和<code>___proto__</code>隐式原型</strong></li>
</ul>
<ul>
<li><p>**显示原型对象(prototype)**是一个对象,不是构造函数,所以只有<code>__proto__</code>属性</p>
</li>
<li><p>任何一个函数都有<code>__proto__</code>和<code>prototype</code>属性,但是要想让该函数的原型对象可以被使用,就需要<code>new 函数()</code>则有<br><code>let obj=new Person(); obj.__proto__===Person.prototype</code></p>
</li>
<li><p><code>Array Object Function都可以看作 new Function()的结果</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">Object</span>=<span class="keyword">new</span> <span class="built_in">Function</span>(); <span class="comment">//返回一个空函数给Object,此时Object的原型链断开了 不要这样做容易乱套</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.__proto__===<span class="built_in">Object</span>.prototype<span class="comment">//false</span></span><br><span class="line"><span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="built_in">Object</span>()<span class="comment">//返回一个空对象给obj</span></span><br></pre></td></tr></table></figure>

<p><strong>一般说原型对象是说prototype</strong></p>
</li>
<li><p>对象的<code>toString/valueof/hasOwnProperty等方法</code>都在<code>Object.prototype</code>对象里边</p>
</li>
<li><p><code>Object函数</code>对象自身上也有许多方法</p>
</li>
</ul>
<h3 id="函数的prototype"><a href="#函数的prototype" class="headerlink" title="函数的prototype"></a>函数的prototype</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*1. 函数的prototype属性：</span></span><br><span class="line"><span class="comment">           每个函数都有一个prototype属性(引用对象属性)，它默认指向一个Object空对象（即原型对象）</span></span><br><span class="line"><span class="comment">           原型对象中有一个属性constructor，它指向函数对象</span></span><br><span class="line"><span class="comment">           构造函数的显示原型先产生，new出的该构造函数的实例的隐式原型后产生</span></span><br><span class="line"><span class="comment">       2.给原型对象添加属性（一般都是方法）</span></span><br><span class="line"><span class="comment">           作用：函数的所有对象自动拥有原型中的属性（方法）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">           复习：</span></span><br><span class="line"><span class="comment">           1.执行函数定义：运行时，函数体没有执行，只是创建了函数对象，</span></span><br><span class="line"><span class="comment">   函数内部执行了语句this.prototype=&#123;&#125;  this为函数对象，向定义的这个函数中添加了属性，属性值为对象（即原型对象）</span></span><br><span class="line"><span class="comment">           执行函数：调用函数时，加（）</span></span><br><span class="line"><span class="comment">       2.实例对象：-函数（类型对象） 是Function，Object的实例</span></span><br><span class="line"><span class="comment">                   -new 构造函数产生的对象（隐式原型属性就是这时产生的）</span></span><br><span class="line"><span class="comment">               new 构造函数（） 内部 ：this.__proto__=构造函数名.prototype  this为创建的实例对象</span></span><br><span class="line"><span class="comment">       3.将一个引用变量赋值给另一个引用变量即可指向同一个对象</span></span><br><span class="line"><span class="comment">       4.原型链：-隐式原型属性，</span></span><br><span class="line"><span class="comment">               -原型链尽头是Object的隐式原型：null，不是Object， Object是函数</span></span><br><span class="line"><span class="comment">               -用于查找对象属性</span></span><br><span class="line"><span class="comment">       -构造函数实例对象的隐式原型指向构造函数的显式原型，构造函数的的隐式原型等于Function的显示原型</span></span><br><span class="line"><span class="comment">       Function：其隐式原型等于其显式原型</span></span><br><span class="line"><span class="comment">       -新给构造函数添加的显示原型属性不会影响到以前新建的实例对象的隐式原型属性，会影响到后来创建的实例对象的隐式原型属性</span></span><br><span class="line"><span class="comment">    --&gt;*/</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype === <span class="built_in">Function</span>.__proto__); <span class="comment">//true</span></span><br><span class="line">   <span class="keyword">var</span> fn = <span class="keyword">new</span> <span class="built_in">Function</span>();</span><br><span class="line">   fn.a = <span class="built_in">console</span>.log(<span class="string">&quot;dksjd&quot;</span>); <span class="comment">//相当于给fn加了个方法</span></span><br><span class="line"></span><br><span class="line">   fn(); <span class="comment">///dksjd</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> fn1 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&quot;dklsd&quot;</span>);</span><br><span class="line">   &#125;;</span><br><span class="line">   fn1(); <span class="comment">//dklsd</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">   <span class="built_in">console</span>.log(obj.prototype); <span class="comment">//undefined</span></span><br><span class="line">   <span class="built_in">console</span>.log(obj.__proto__); <span class="comment">//object</span></span><br><span class="line">   <span class="built_in">console</span>.log(obj.__proto__ === <span class="built_in">Object</span>.prototype); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="built_in">Date</span>.prototype, <span class="keyword">typeof</span> <span class="built_in">Date</span>.prototype);</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Fun</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">   <span class="built_in">console</span>.log(Fun.prototype); <span class="comment">//默认指向一个Object空对象（没有我们设置的属性）  &#123;&#125;</span></span><br><span class="line"></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="built_in">Date</span>.prototype.constructor === <span class="built_in">Date</span>); <span class="comment">//true</span></span><br><span class="line">   <span class="built_in">console</span>.log(Fun.prototype.constructor === Fun); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">   Fun.prototype.test = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&quot;test()&quot;</span>);</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="keyword">var</span> fun = <span class="keyword">new</span> Fun();</span><br><span class="line">   fun.test();</span><br></pre></td></tr></table></figure>

<h3 id="显-隐式原型对象"><a href="#显-隐式原型对象" class="headerlink" title="显/隐式原型对象"></a>显/隐式原型对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">      1.每个函数function都有一个prototype，即显式原型（属性）</span></span><br><span class="line"><span class="comment">      2.每个实例对象都有一个__proto__,可称为隐式原型（属性）</span></span><br><span class="line"><span class="comment">      3.对象的隐式原型的值为其对应构造函数的显式原型的值</span></span><br><span class="line"><span class="comment">      4.内存结构（图）</span></span><br><span class="line"><span class="comment">      5.总结：</span></span><br><span class="line"><span class="comment">          函数的prototype属性：在定义函数时自动添加，默认值为是一个空object对象</span></span><br><span class="line"><span class="comment">          对象的__proto__属性：创建对象时自动添加的，默认值为构造函数的prototype属性值 undefined</span></span><br><span class="line"><span class="comment">          程序员能直接操作显式原型，但不能直接操作隐式原型</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    <span class="comment">//    定义构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">//this.prototype=&#123;&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(Fn.prototype);</span><br><span class="line">    <span class="keyword">var</span> fn = <span class="keyword">new</span> Fn();</span><br><span class="line">    <span class="built_in">console</span>.log(fn._proto__); <span class="comment">//undefined 内部语句：this.__proto__=Fn.prototype</span></span><br><span class="line">    <span class="built_in">console</span>.log(Fn.prototype === fn.__proto__); <span class="comment">//true</span></span><br><span class="line">    <span class="comment">//给Fn原型对象（是个空对象）里边添加一个方法test</span></span><br><span class="line">    Fn.prototype.test = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">//程序员能直接操作显式原型</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;hjsdd&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">   <span class="comment">// 通过实例调用原型方法;</span></span><br><span class="line">    fn.test();</span><br></pre></td></tr></table></figure>

<h3 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">       原型链（图解）</span></span><br><span class="line"><span class="comment">       访问一个对象属性时，</span></span><br><span class="line"><span class="comment">           先在自身属性中查找，找到返回</span></span><br><span class="line"><span class="comment">           如果没有，再沿着__proto__这条链向上查找，找到返回</span></span><br><span class="line"><span class="comment">           如果最终没有找到，返回undefined</span></span><br><span class="line"><span class="comment">           原型链本质：隐式原型链，找对象属性</span></span><br><span class="line"><span class="comment">       别名：查找对象的属性（方法）</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       1.函数的显示原型：默认的空的Object实例对象</span></span><br><span class="line"><span class="comment">                       但是Object()显示原型不满足它</span></span><br><span class="line"><span class="comment">       2.Function是它自身的实例</span></span><br><span class="line"><span class="comment">           所有函数都是Function的实例（包括Function本身）</span></span><br><span class="line"><span class="comment">       3.Object的原型对象是原型链的尽头</span></span><br><span class="line"><span class="comment">         console.log(Object.prototype instanceof Object); //false</span></span><br><span class="line"><span class="comment">       instanceof的判断依据是查找原型链。 而 Object.prototype已经到原型链最顶层了， Object.prototype.__proto__ 值为null。</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">     <span class="comment">//    console.log(Object);</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype); <span class="comment">//默认为空的object对象</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.__proto__); <span class="comment">//null  object的原型对象的隐式原型</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="comment">//Fn是Object的实例</span></span><br><span class="line">       <span class="built_in">this</span>.test1 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">&quot;test1()&quot;</span>);</span><br><span class="line">       &#125;;</span><br><span class="line">     &#125;</span><br><span class="line">     Fn.prototype.test2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&quot;test2()&quot;</span>);</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="keyword">var</span> fn = <span class="keyword">new</span> Fn();</span><br><span class="line">     <span class="built_in">console</span>.log(Fn.prototype <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Object</span> <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></span><br><span class="line">     fn.test1();</span><br><span class="line">     fn.test2();</span><br><span class="line">     <span class="built_in">console</span>.log(fn.toString());</span><br><span class="line">     <span class="comment">//    fn.test3();</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 所有函数都是Function的实例（包括Function本身）</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Function</span>.__proto__ == <span class="built_in">Function</span>.prototype); <span class="comment">//true</span></span><br><span class="line">     <span class="comment">// 3.Object的原型对象是原型链的尽头</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.__proto__); <span class="comment">//null</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Object</span>.__proto__ === <span class="built_in">Function</span>.prototype); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p><strong>查找顺序</strong></p>
<blockquote>
<p>1.读取对象属性值时：会自动到原型链中查找</p>
<p> 2.设置对象属性时：不会查找原型链，如果对象中没有此属性，直接添加次属性并设置其值</p>
<p>3.方法一般定义在原型中，属性一般通过构造函数定义在对象本身上</p>
</blockquote>
<h3 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">        instanceof:判断左边对象是不是右边实例</span></span><br><span class="line"><span class="comment">        1.如何判断？</span></span><br><span class="line"><span class="comment">            表达式：A instanceof B</span></span><br><span class="line"><span class="comment">            如果B函数的显示原型对象在A对象的原型链上，返回true，否则返回false</span></span><br><span class="line"><span class="comment">            A找隐式原型，B找显示原型有交叉则返回true</span></span><br><span class="line"><span class="comment">            一般A为实例对象，B为构造函数</span></span><br><span class="line"><span class="comment">        2.Function是通过new自己产生实例的</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">      <span class="comment">/* </span></span><br><span class="line"><span class="comment">       案例1</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">      <span class="keyword">var</span> f1 = <span class="keyword">new</span> Foo();</span><br><span class="line">      <span class="built_in">console</span>.log(f1 <span class="keyword">instanceof</span> Foo); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(f1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Object</span>.__proto__ == <span class="built_in">Function</span>.prototype); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Function</span>.__proto__ == <span class="built_in">Object</span>.prototype); <span class="comment">//false</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Object</span>.__proto__);</span><br><span class="line"></span><br><span class="line">      <span class="comment">/* </span></span><br><span class="line"><span class="comment">      案例二</span></span><br><span class="line"><span class="comment">      实例对象隐式原型等于构造函数显式原型</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Object</span> <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Object</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true Object可以既当构造函数又可以当构造函数实例</span></span><br><span class="line">      <span class="comment">//  所有函数原型对象默认都是Object实例，Object除外</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Function</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Object</span> <span class="keyword">instanceof</span> Foo); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<p><strong>练习</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*第1题</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">     A.prototype.n = <span class="number">1</span>;</span><br><span class="line">     <span class="keyword">var</span> b = <span class="keyword">new</span> A();</span><br><span class="line">     A.prototype = &#123;</span><br><span class="line">       n: <span class="number">2</span>,</span><br><span class="line">       m: <span class="number">3</span>,</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="keyword">var</span> c = <span class="keyword">new</span> A();</span><br><span class="line">     <span class="built_in">console</span>.log(b.n, b.m, c.n, c.m); <span class="comment">//1 undefined  2 3</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">/* </span></span><br><span class="line"><span class="comment">       第二题</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">     <span class="built_in">Object</span>.prototype.a = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&quot;a()&quot;</span>);</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="built_in">Function</span>.prototype.b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&quot;b()&quot;</span>);</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="keyword">var</span> f = <span class="keyword">new</span> F();</span><br><span class="line">     f.a(); <span class="comment">//a（）  fn.__proto___===F.prototype ;但是没有b,F.prototype.__proto__===Object.prototype,还是没有b只有a</span></span><br><span class="line">     <span class="comment">// f.b();//f的隐式原型链找不到Function的隐式原型链</span></span><br><span class="line">     F.a(); <span class="comment">//a（） F.prototype.__proto__===Object.prototype 可以找到a</span></span><br><span class="line">     F.b(); <span class="comment">//b()//F.__proto__===Function.prototype 可以找到b</span></span><br><span class="line">     <span class="built_in">console</span>.log(f);</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype);</span><br></pre></td></tr></table></figure>

<h2 id="浅析闭包"><a href="#浅析闭包" class="headerlink" title="浅析闭包"></a>浅析闭包</h2><p><strong>闭包理解</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*1.如何产生闭包？</span></span><br><span class="line"><span class="comment">            当一个嵌套的内部（子）函数引用了嵌套的外部（父）函数的变量函数时，就产生了闭包</span></span><br><span class="line"><span class="comment">        2.闭包到底是什么？</span></span><br><span class="line"><span class="comment">            使用Chrome查看</span></span><br><span class="line"><span class="comment">            理解一：闭包是嵌套的内部函数（绝大部分人）</span></span><br><span class="line"><span class="comment">            理解二：包含被引用变量（函数）的内部函数（变量）  保存着引用变量的内部函数</span></span><br><span class="line"><span class="comment">            注意：闭包存在于嵌套内部函数中</span></span><br><span class="line"><span class="comment">        3.产生闭包的条件？ </span></span><br><span class="line"><span class="comment">            函数嵌套</span></span><br><span class="line"><span class="comment">            内部函数引用了外部函数数据（变量/函数）*/</span></span><br><span class="line">         <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> c=<span class="string">&quot;kdlfjk&quot;</span></span><br><span class="line">                    <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;<span class="comment">//执行函数定义就会产生闭包，fn1内部得调用fn2</span></span><br><span class="line">                        <span class="built_in">console</span>.log(c)</span><br><span class="line">                    &#125;</span><br><span class="line">                    fn2();</span><br><span class="line">                &#125;</span><br><span class="line">                fn1();</span><br></pre></td></tr></table></figure>

<p><strong>常见闭包</strong></p>
<blockquote>
<p>1.将函数作为另一个函数返回值 最外部的函数调用几次，闭包就创建几次</p>
<p>2.将函数作为实参传递给另一个调用 </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  1.将函数作为另一个函数返回值 </span></span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line">                <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                   a++;</span><br><span class="line">                   <span class="built_in">console</span>.log(a);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> fn2;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">var</span> f=fn1();<span class="comment">//闭包创建1次</span></span><br><span class="line">        f()<span class="comment">//3</span></span><br><span class="line">        f()<span class="comment">//4</span></span><br><span class="line">            fn1()<span class="comment">//闭包创建2次</span></span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">           <span class="comment">//  2.将函数作为实参传递给另一个调用</span></span><br><span class="line">           <span class="function"><span class="keyword">function</span> <span class="title">showDelay</span>(<span class="params">msg,time</span>)</span>&#123;</span><br><span class="line">               <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                   alert(msg)<span class="comment">//内部函数引用了msg，所以有闭包</span></span><br><span class="line">               &#125;,time)<span class="comment">//time的引用不在内部函数里，不算闭包</span></span><br><span class="line">           &#125;</span><br><span class="line">           showDelay(<span class="string">&#x27;dfjdlk&#x27;</span>,<span class="number">200</span>)<span class="comment">//闭包调用一次</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>闭包作用</strong></p>
<blockquote>
<p>​    1.使用函数内部的变量在函数执行完后，仍然存活在内存中（延长了局部变量的生命周期）</p>
<p>​      2.让外部函数可以操作（读写）到内部的数据（变量/函数）</p>
<p>​      问题：</p>
<p>​        1.函数执行完后，函数内部声明的局部变量是否还存在？一般不存在，存在于闭包中的变量才可能存在</p>
<p>​        2.在函数外部可以直接访问函数内部的局部变量吗？不能，但我们可以通过闭包让外部操作它</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="comment">//此时闭包就已经产生了（函数提升，内部函数对象已经创建了）</span></span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          a--;</span><br><span class="line">          <span class="built_in">console</span>.log(a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          a--;</span><br><span class="line">          <span class="built_in">console</span>.log(a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fn3;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> f = fn1(); <span class="comment">//函数执行完只有a在闭包里，fn3和fn2变量都被自由释放了，但函数对象没有当成垃圾对象</span></span><br><span class="line">      <span class="comment">//  f指向函数对象，闭包使得函数对象没有被释放根本原因是f导致的，（也是因为有return fn3）fn3变量本身不在了，而是外部变量f引用了fn3地址，f此时指向函数对象</span></span><br><span class="line">      f(); <span class="comment">//1</span></span><br><span class="line">      f(); <span class="comment">//0</span></span><br><span class="line">f=<span class="literal">null</span>;<span class="comment">//闭包死亡（包含闭包的函数对象成为垃圾对象）</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>闭包生命周期</strong></p>
<ul>
<li>闭包产生：在 嵌套内部函数定义 执行完成时产生（不是在调用）</li>
<li>死亡：在嵌套内部函数成为垃圾对象时</li>
</ul>
<p><strong>应用</strong></p>
<blockquote>
<p>闭包应用：</p>
<ul>
<li><p>定义<code>js</code>模块</p>
<ul>
<li>具有特定功能的js文件</li>
<li> 将所有数据和功能都封装在一个函数内部（私有的）</li>
<li>只向外暴露一个包含n个方法的对象或函数</li>
<li>模块的使用者，只需要通过模块暴露对象调用方法来实现对应功能 </li>
</ul>
</li>
<li><p>对象不私有函数才私有</p>
</li>
</ul>
<ul>
<li>想暴露两个函数，就封装对象后返回</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myModule</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 私有数据</span></span><br><span class="line">    <span class="keyword">var</span> msg=<span class="string">&#x27;shjkd&#x27;</span>;</span><br><span class="line">    <span class="comment">// 操作数据的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;doSomething()&#x27;</span>+msg.toUpperCase);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doOtherthing</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;doOtherthing()&#x27;</span>+msg.toLowerCase);</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">// 向外暴露一个对象</span></span><br><span class="line">    <span class="comment">// return doOtherthing;</span></span><br><span class="line">    <span class="comment">// 向外暴露2个对象 给外部使用的方法</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        doSomething:doSomething,</span><br><span class="line">        doOtherthing:doOtherthing</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">myModule</span>(<span class="params"><span class="built_in">window</span></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 私有数据</span></span><br><span class="line">    <span class="keyword">var</span> msg=<span class="string">&#x27;shjkd&#x27;</span>;</span><br><span class="line">    <span class="comment">// 操作数据的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;doSomething()&#x27;</span>+msg.toUpperCase);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doOtherthing</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;doOtherthing()&#x27;</span>+msg.toLowerCase);</span><br><span class="line">    &#125; </span><br><span class="line"> </span><br><span class="line">     <span class="built_in">window</span>.myModule2= &#123;</span><br><span class="line">        doSomething:doSomething,</span><br><span class="line">        doOtherthing:doOtherthing</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./myModule.js&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./myModule2.js&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> &gt;</span></span><br><span class="line">    myModule2.doOtherthing();</span><br><span class="line">    myModule2.doSomething();</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> <span class="built_in">module</span>=myModule();</span></span><br><span class="line"><span class="javascript">    <span class="built_in">module</span>.doOtherthing();</span></span><br><span class="line"><span class="javascript">    <span class="built_in">module</span>.doSomething();  </span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>闭包缺点</strong></p>
<blockquote>
<p> 缺点：</p>
<ul>
<li>函数执行完后，函数内的局部变量没有释放，占用内存时间会变长</li>
<li>容易造成内存泄漏</li>
</ul>
<p>2.解决：</p>
<ul>
<li>能不用闭包就不用</li>
<li>及时释放 </li>
</ul>
<p>3.内存溢出：</p>
<p>​      一种程序运行时出现的错误</p>
<p>​      当程序运行需要的内存超过了剩余的内存时，就出现内存溢出的错误</p>
<p>4.内存泄漏： </p>
<ul>
<li>一次泄漏还能正常运行</li>
<li>占用内存没有及时释放</li>
<li> 内存泄漏积累多了就容易导致内存溢出</li>
</ul>
<ul>
<li>常见内存泄漏：<ul>
<li>意外全局变量</li>
<li>没有及时清理计时器或回调函数</li>
<li>闭包</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment">// 内存溢出</span></span><br><span class="line">       <span class="keyword">var</span> obj=&#123;&#125;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++)&#123;</span><br><span class="line">          obj[i]=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10000</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// 此时obj为伪数组</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 意外全局变量</span></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           a=<span class="number">3</span></span><br><span class="line">           <span class="built_in">console</span>.log(a);</span><br><span class="line">       &#125; </span><br><span class="line">       fn()<span class="comment">//a is not released</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有及时清理计时器或回调函数</span></span><br><span class="line">      <span class="keyword">var</span> timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">&#x27;-------&#x27;</span>);</span><br><span class="line">       &#125;,<span class="number">1000</span>)</span><br><span class="line">       <span class="comment">// clearInterval(timer);</span></span><br><span class="line">      </span><br><span class="line">       <span class="comment">//     闭包</span></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="keyword">var</span> a=<span class="number">4</span>;</span><br><span class="line">           <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">               <span class="built_in">console</span>.log(++a);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">return</span> fn2;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">var</span> f=fn1();</span><br><span class="line">       f();</span><br><span class="line">       <span class="comment">// f=null  不执行此操作a不会被释放</span></span><br></pre></td></tr></table></figure>

<p><strong>练习</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;The Window&quot;</span>;</span><br><span class="line">      <span class="keyword">var</span> <span class="built_in">Object</span> = &#123;</span><br><span class="line">        name: <span class="string">&quot;My Object&quot;</span>,</span><br><span class="line">        getNameFun: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="comment">//无闭包</span></span><br><span class="line">          <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">//bject.getNameFun()相当返回了函数本身,再次加()调用时,是window在调用</span></span><br><span class="line">      alert(<span class="built_in">Object</span>.getNameFun()()); <span class="comment">// The Window   this代表的是window</span></span><br><span class="line">      </span><br><span class="line">  <span class="comment">// 代码片段二</span></span><br><span class="line">      <span class="keyword">var</span> name2 = <span class="string">&quot;The Window&quot;</span>;</span><br><span class="line">      <span class="keyword">var</span> Object1 = &#123;</span><br><span class="line">        name2: <span class="string">&quot;My Object&quot;</span>,</span><br><span class="line">        getNameFunc: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="comment">//有闭包</span></span><br><span class="line">          <span class="keyword">var</span> that = <span class="built_in">this</span>; <span class="comment">//that等于Object</span></span><br><span class="line">          <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> that.name2; <span class="comment">//that等于Object</span></span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">      alert(Object1.getNameFunc()()); <span class="comment">// My Object</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;The Window&quot;</span>;</span><br><span class="line">     <span class="keyword">var</span> <span class="built_in">Object</span> = &#123;</span><br><span class="line">       name: <span class="string">&quot;My Object&quot;</span>,</span><br><span class="line">       getNameFun: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="comment">//无闭包</span></span><br><span class="line">         <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">         &#125;;</span><br><span class="line">       &#125;,</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="comment">//bject.getNameFun()相当返回了函数本身,再次加()调用时,是window在调用</span></span><br><span class="line">     alert(<span class="built_in">Object</span>.getNameFun()()); <span class="comment">// The Window   this代表的是window</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 代码片段二</span></span><br><span class="line">     <span class="keyword">var</span> name2 = <span class="string">&quot;The Window&quot;</span>;</span><br><span class="line">     <span class="keyword">var</span> Object1 = &#123;</span><br><span class="line">       name2: <span class="string">&quot;My Object&quot;</span>,</span><br><span class="line">       getNameFunc: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="comment">//有闭包</span></span><br><span class="line">         <span class="keyword">var</span> that = <span class="built_in">this</span>; <span class="comment">//that等于Object</span></span><br><span class="line">         <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">           <span class="keyword">return</span> that.name2; <span class="comment">//that等于Object</span></span><br><span class="line">         &#125;;</span><br><span class="line">       &#125;,</span><br><span class="line">     &#125;;</span><br><span class="line">     alert(Object1.getNameFunc()()); <span class="comment">// My Object</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 代码片段3</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">n, o</span>) </span>&#123;</span><br><span class="line">       <span class="comment">//有闭包n 闭包在对象内部</span></span><br><span class="line">       <span class="built_in">console</span>.log(o);</span><br><span class="line">       <span class="keyword">return</span> &#123;</span><br><span class="line">         fun: <span class="function"><span class="keyword">function</span> (<span class="params">m</span>) </span>&#123;</span><br><span class="line">           <span class="keyword">return</span> fun(m, n);</span><br><span class="line">         &#125;,</span><br><span class="line">       &#125;;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">var</span> a = fun(<span class="number">0</span>); <span class="comment">//调用完后返回对象，对象里在调用fun</span></span><br><span class="line">     <span class="built_in">console</span>.log(a); <span class="comment">//a是对象   &#123;fun:function(m)&#123;return fun(m,n);&#125;</span></span><br><span class="line">     a.fun(<span class="number">1</span>); <span class="comment">// fun（m，n）  fun（1，0） 此时fun调用的是里面的fun 所以是0，调用a.fun（1，0）下一次执行到停在return&#123;&#125;前，所以执行了外部fun又产生新的闭包</span></span><br><span class="line">     <span class="comment">//  如果是 var xxx=a.fun（1），则xxx里边有闭包，且闭包值为1，即此时n为1，但是现在没有xxx接收，所以无论传什么，都用a的闭包n为0</span></span><br><span class="line">     <span class="built_in">console</span>.log(a);</span><br><span class="line">     a.fun(<span class="number">2</span>);</span><br><span class="line">     a.fun(<span class="number">3</span>); <span class="comment">//undefined  0 0 0</span></span><br><span class="line">     </span><br><span class="line">     <span class="keyword">var</span> b = fun(<span class="number">0</span>).fun(<span class="number">1</span>).fun(<span class="number">2</span>).fun(<span class="number">3</span>); <span class="comment">//undefined  0   1  2 3     0后产生了新的闭包 相当于fun（0）.fun(1).  此时新的闭包n是1，所以输出1  之后调.fun（2）又产生新的闭包，n=2</span></span><br><span class="line">     <span class="keyword">var</span> c = fun(<span class="number">0</span>).fun(<span class="number">1</span>); <span class="comment">// undefined  0</span></span><br><span class="line">     c.fun(<span class="number">2</span>); <span class="comment">//1</span></span><br><span class="line">     c.fun(<span class="number">3</span>); <span class="comment">//1    50 51行c都是 &#123;fun:function(m)&#123;return fun(m,1);&#125;&#125;; 传入的2，3是m</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/04/21/JS%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0(%E4%B8%8A)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/04/21/JS%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0(%E4%B8%8A)/" itemprop="url">JS基础学习(上)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-04-21T15:30:44Z">
                2021-04-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="JavaScript介绍"><a href="#JavaScript介绍" class="headerlink" title="JavaScript介绍"></a>JavaScript介绍</h1><ul>
<li><p>JS历史:  js最初的用途是为来实现用户与浏览器的交互</p>
</li>
<li><p><code>JS</code>是动态弱类型脚本语言</p>
</li>
<li><p>功能</p>
<ul>
<li>嵌入动态文本于HTML页面</li>
<li>对浏览器事件做出响应</li>
<li>读写HTML元素</li>
<li>在数据被提交到服务器之前验证数据</li>
<li>检测访客浏览信息</li>
<li>基于node.js技术进行服务端编程</li>
</ul>
</li>
<li><p>语言组成</p>
<ul>
<li><code>ECMAScript</code>描述了该语言语法和基本对象</li>
<li><code>DOM</code>(文档对象模型)描述处理网页内容方法和接口</li>
<li><code>BOM</code>(浏览器对象模型) ,描述与浏览器进行交互的方法和接口</li>
</ul>
</li>
<li><p>特点</p>
<ul>
<li>JavaScript是一种<strong>解释型</strong>的<strong>脚本</strong>语言,不是先编译后执行,而是在<strong>运行过程中解释</strong></li>
<li>简单。JavaScript语言中采用的是<strong>弱类型</strong>的变量类型，对使用的数据类型未做出严格的要求，是基于Java基本语句和控制的脚本语言，其设计简单紧凑。</li>
<li><strong>动态性</strong>。JavaScript是一种采用事件驱动的脚本语言，它不需要经过Web服务器就可以对用户的输入做出响应。在访问一个网页时，鼠标在网页中进行鼠标点击或上下移、窗口移动等操作JavaScript都可直接对这些事件给出相应的响应。</li>
<li><strong>跨平台性</strong>。JavaScript脚本语言不依赖于操作系统，仅需要浏览器的支持。</li>
</ul>
</li>
<li><p><code>ECMAScript </code>和 JavaScript的关系</p>
<ul>
<li><code>ECMAScript</code>是一个国际通过的标准化脚本语言</li>
<li>JavaScript由<code>ECMAScript</code>和<code>DOM</code>、<code>BOM</code>三者组成。</li>
<li>可以简单理解为：<code>ECMAScript</code>是JavaScript的语言规范，JavaScript是<code>ECMAScript</code>的实现和扩展。</li>
</ul>
</li>
</ul>
<h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="字面量和变量"><a href="#字面量和变量" class="headerlink" title="字面量和变量"></a>字面量和变量</h4><ul>
<li><p>字面量:  都是一些不可改变的值：1 2 3 4 5 即常量，可直接使用,但一般不会直接使用字面量</p>
</li>
<li><p>变量：可以用来保存字面量，而且变量值可以任意改变，更方便使用，所以用变量保存字面量</p>
</li>
<li><p>变量声明:</p>
<ul>
<li><p><code>var</code>定义的变量,没有块的概念,可以<strong>跨块</strong>访问,<strong>不能跨函数</strong>访问,但是var定义变量会被<strong>提升</strong>,其<strong>声明可以进行重修声明</strong></p>
</li>
<li><p><code>let</code>定义的变量，<strong>只能在块作用域里访问</strong>，不能跨块访问，也不能跨函数访问。<strong>不能重新声明变量</strong></p>
</li>
<li><p><code>const</code></p>
<ul>
<li><p>用来定义常量，使用时<strong>必须初始化</strong>(即必须赋值)，只能在<strong>块作用域里访问</strong>，而且<strong>不能修改</strong>。</p>
</li>
<li><p><strong>定义的对象属性可以修改</strong></p>
<p>原因:<code>const</code>仅保证指针不发生改变，修改对象的属性不会改变对象的指针，所以是被允许的</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="变量使用"><a href="#变量使用" class="headerlink" title="变量使用"></a>变量使用</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.用户输入姓名 存到myname变量里</span></span><br><span class="line">         <span class="keyword">var</span> myname = prompt(<span class="string">&#x27;请输入您的名字&#x27;</span>);</span><br><span class="line">         <span class="comment">//输出用户名</span></span><br><span class="line">         alert(myname);</span><br><span class="line"><span class="comment">//2.变量更新</span></span><br><span class="line">		<span class="keyword">var</span> myname = <span class="string">&#x27;pink老师&#x27;</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(myname);</span><br><span class="line">        myname = <span class="string">&#x27;haley6&#x27;</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(myname);</span><br><span class="line"><span class="comment">//3.  声明多个变量</span></span><br><span class="line">        <span class="keyword">var</span> myname = <span class="string">&#x27;haley6&#x27;</span>, age = <span class="number">18</span>, address = <span class="string">&#x27;火影村&#x27;</span>, age = <span class="number">18</span>, gz = <span class="number">2000</span>;</span><br><span class="line">        alert(age);</span><br><span class="line"><span class="comment">//4.声明变量特殊情况</span></span><br><span class="line">        <span class="comment">//只声明不赋值  结果为undefined</span></span><br><span class="line">        <span class="keyword">var</span> a;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">        <span class="comment">// 不声明，不赋值，直接使用 报错(RHS查询)</span></span><br><span class="line">        <span class="built_in">console</span>.log(b); </span><br><span class="line">        <span class="comment">//不声明 只赋值 也可输出 默认加window上加属性</span></span><br><span class="line">        qq = <span class="number">110</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(qq);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// var 18age 错误</span></span><br><span class="line">        <span class="comment">//var var;因为var 特殊意义，关键字，不能做变量名  for while if</span></span><br><span class="line">        <span class="comment">//name不要使用作为变量名，输出为空，不报错</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//标识符 </span></span><br><span class="line">        <span class="comment">/* 在js中，所有可以由我们自主命名的都可以称为标识符    变量名  函数名 属性名*/</span></span><br><span class="line">        <span class="comment">// 标识符可以含有_  0-9 字母 $ ,不能用数字开头，不能用关键字，保留字，一般驼峰命名</span></span><br><span class="line">        <span class="comment">// js底层保存标识符实际上3采用Unicode编码，理论上，所有UTF-8含有内容都可作为标识符</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// var 汇款=10;</span></span><br><span class="line">        <span class="comment">// console.log(汇款);能用但别用</span></span><br></pre></td></tr></table></figure>

<h4 id="声明提升"><a href="#声明提升" class="headerlink" title="声明提升"></a>声明提升</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">   -- 变量声明提前</span></span><br><span class="line"><span class="comment">         -使用var关键字声明的变量，会在所有的代码执行之前被声明（var a）被执行在最前面</span></span><br><span class="line"><span class="comment">   --函数声明提前</span></span><br><span class="line"><span class="comment">         -使用函数声明创建函数function 函数()&#123;&#125;会在所有代码执行之前就创建</span></span><br><span class="line"><span class="comment">           可写在声明函数以前就调用</span></span><br><span class="line"><span class="comment">         - 使用函数表达式创建的函数要先创建函数，在调用   </span></span><br><span class="line"><span class="comment">  --当函数声明的名字和变量名一样时,函数声明会优先变量提升</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">   <span class="built_in">console</span>.log(a); <span class="comment">//undefined RHS查询</span></span><br><span class="line">   <span class="keyword">var</span> a = <span class="number">123</span>;<span class="comment">//LHS查询</span></span><br><span class="line">   <span class="comment">// console.log(c);//error  RHS查询</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fun2)<span class="comment">//undefined</span></span><br><span class="line">   fun2(); <span class="comment">//error</span></span><br><span class="line">   fun();</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&quot;我是fun函数&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">var</span> fun2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">//这里的fun2声明会先被提升并且赋值为undefined</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&quot;我是fun2函数&quot;</span>);</span><br><span class="line">   &#125;;</span><br></pre></td></tr></table></figure>

<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><blockquote>
<p>数据类型:8种<br>        基本数据类型:    Number,string,BigInt,Boolean,Undefined,Null,Symbol<br>        引用数据类型: Object(Function,Array)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//int num=10 </span></span><br><span class="line">        <span class="keyword">var</span> a;<span class="comment">//不确定变量数据类型</span></span><br><span class="line">        a=<span class="number">10</span>;<span class="comment">//a为数字类型</span></span><br><span class="line">        <span class="comment">//js数据类型只有在程序运行过程，根据等号右边值确定</span></span><br><span class="line">        <span class="keyword">var</span> str=<span class="string">&#x27;hsley6&#x27;</span>;<span class="comment">//str为字符串型</span></span><br><span class="line">        <span class="comment">//js为动态语言 变量数据类型可变化</span></span><br><span class="line">        <span class="keyword">var</span> x=<span class="number">10</span>;<span class="comment">//x数字型</span></span><br><span class="line">        x=<span class="string">&#x27;haley6&#x27;</span>;<span class="comment">//x字符串型</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//String 用单或双引号  引号不能嵌套</span></span><br><span class="line">        <span class="keyword">var</span> str=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        str=<span class="string">&#x27;ghyyu&#x27;</span>;</span><br><span class="line">        str=<span class="string">&quot;he\&quot;hahaha\&quot;llo&quot;</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(str);<span class="comment">//不加引号叫变量 加了叫字面量</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/*    \n 换行</span></span><br><span class="line"><span class="comment">        \t 四个空格缩进</span></span><br><span class="line"><span class="comment">        \&quot;hh\&quot;  \&#x27;df\&#x27;打印单双引号 */</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// Number ：整数和浮点数, NaN</span></span><br><span class="line">        <span class="keyword">var</span> a=<span class="number">123</span>;</span><br><span class="line">        a=<span class="number">156.9</span>;</span><br><span class="line">        <span class="keyword">var</span> b=<span class="string">&quot;123&quot;</span>;</span><br><span class="line">        <span class="keyword">var</span> c=<span class="literal">NaN</span>;</span><br><span class="line">        <span class="keyword">var</span> d=<span class="string">&quot;NaN&quot;</span>;</span><br><span class="line"><span class="comment">/* 可以使用typeof检查变量类型 */</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//number</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> b);<span class="comment">//String</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> c);<span class="comment">//number</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> d);<span class="comment">//String</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Boolean：值：true false</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">//Null(空值)和Undefined（未定义）</span></span><br><span class="line">        <span class="comment">// null值用来表示一个为空对象</span></span><br><span class="line">        <span class="keyword">var</span> n=<span class="literal">null</span></span><br><span class="line">        <span class="built_in">console</span>.log(n);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> n);<span class="comment">//object</span></span><br><span class="line">        <span class="comment">// undefined值</span></span><br><span class="line">        <span class="keyword">var</span> u;</span><br><span class="line">        <span class="built_in">console</span>.log(u);<span class="comment">//undefined</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> u);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

<h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.进制</span></span><br><span class="line"><span class="comment">//0表示八进制</span></span><br><span class="line"><span class="comment">// 二进制以0b开头,但不是所有浏览器都支持</span></span><br><span class="line"><span class="comment">//十六进制0x开头</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.数字型最大,最小值</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">Number</span>.MAX_VALUE);</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="built_in">Number</span>.MIN_VALUE); <span class="comment">//无穷小</span></span><br><span class="line"><span class="comment">//3.正无穷Infinity   负无穷-Infinity（5e-324）</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.MAX_VALUE * <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(-<span class="built_in">Number</span>.MAX_VALUE * <span class="number">2</span>);</span><br><span class="line"><span class="comment">//4. 非数字</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;pink&quot;</span> - <span class="number">5</span>); <span class="comment">//NaN</span></span><br><span class="line"><span class="comment">// js进行浮点数运算不精确 不要用js进行对精确度要求比较高的运算</span></span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">0.1</span> + <span class="number">0.2</span>;<span class="comment">//0.30000000000000004</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//      console.log(typeof debugge); LHS查询</span></span><br></pre></td></tr></table></figure>

<h4 id="强制数据类型转换"><a href="#强制数据类型转换" class="headerlink" title="强制数据类型转换"></a>强制数据类型转换</h4><blockquote>
<p>1.将一个数据类型转换为其他数据类型, 类型转换主要指<strong>其他数据类型转为Sting Number Boolean</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*1. 其他数据类型转为Sting</span></span><br><span class="line"><span class="comment">方式一：调用被转换数据类型的toString（）方法 </span></span><br><span class="line"><span class="comment">该方法不会影响原变量，会将转换的结果返回，不适用于null和undefined</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">方法二：调用String（）函数 并将被转换的数据作为参数传给函数</span></span><br><span class="line"><span class="comment">对于Number 和Boolean实际上就是调用toString（）方法 </span></span><br><span class="line"><span class="comment">但对于null和undefined，不调用toString（）方法 ，会将null直接转为”null“，将undefined直接转为”undefined“</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*方法一：*/</span></span><br><span class="line"><span class="keyword">let</span> a=<span class="number">123</span>;</span><br><span class="line"><span class="keyword">let</span> b=<span class="literal">true</span>;</span><br><span class="line"><span class="keyword">let</span> c=<span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> d=<span class="literal">undefined</span>; <span class="comment">//c,d没有toString方法，调用会报错 </span></span><br><span class="line"><span class="comment">// 调用a的toString方法,      </span></span><br><span class="line"><span class="keyword">var</span> b=a.toString();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="number">123</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b);<span class="comment">//string</span></span><br><span class="line"><span class="built_in">console</span>.log(b);<span class="comment">//&quot;123&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法二</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">123</span>;</span><br><span class="line">a=<span class="literal">null</span>;</span><br><span class="line">a=<span class="literal">undefined</span>;</span><br><span class="line"><span class="comment">// 调String（）函数，将a转为字符串</span></span><br><span class="line">a=<span class="built_in">String</span>(a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//string</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>2.强制类型转为Number</p>
<ul>
<li><p>方法一：调Number（）函数</p>
<p>​    字符串————》数字：</p>
<p>​            1.纯数字字符串直接转为数字</p>
<p>​            2.<strong>字符串中有非法数字转为NaN</strong></p>
<p>​            3.如果字符串为<strong>空</strong>或<strong>空格</strong>转为数字0</p>
</li>
<li><p>布尔: true–&gt;1  false—–&gt;0</p>
</li>
<li><p>null–&gt;0    undefined—&gt;NaN</p>
</li>
<li><p>方法二：这种方式专门用来对付字符串的函数</p>
<ul>
<li>parseInt（）把<strong>字符串</strong>转为整数,将字符串<strong>有效整数</strong>内容取出来，转为数字</li>
<li>parseInt()可以传第二个参数.指定进制数</li>
<li>  parseFloat（）把字符串转为浮点数</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">a = <span class="string">&quot;acb&quot;</span>;</span><br><span class="line">a = <span class="built_in">Number</span>(a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//NaN</span></span><br><span class="line"></span><br><span class="line">a = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">a = <span class="string">&quot; &quot;</span>;</span><br><span class="line">a = <span class="built_in">Number</span>(a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//0</span></span><br><span class="line"></span><br><span class="line">a = <span class="literal">true</span>;</span><br><span class="line">a = <span class="literal">false</span>;</span><br><span class="line">a = <span class="built_in">Number</span>(a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//0</span></span><br><span class="line"></span><br><span class="line">a = <span class="literal">null</span>;</span><br><span class="line">a =<span class="built_in">Number</span>(a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//0</span></span><br><span class="line"></span><br><span class="line">a = <span class="literal">undefined</span>;</span><br><span class="line">a = <span class="built_in">Number</span>(a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//NaN</span></span><br><span class="line"></span><br><span class="line">a = <span class="string">&quot;123px456&quot;</span>;</span><br><span class="line"><span class="comment">// a=Number(a);//NaN</span></span><br><span class="line">a = <span class="built_in">parseInt</span>(a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//123</span></span><br><span class="line"></span><br><span class="line">a=<span class="string">&quot;123.456.789px123&quot;</span>;</span><br><span class="line">a=<span class="built_in">parseFloat</span>(a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a); <span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//123.456</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对非String使用parsesInt（）或parseFloat()会先将其转为String，再操作，相当于a=parseInt(“true”);  NaN</span></span><br><span class="line">a=<span class="literal">true</span>;</span><br><span class="line">a=<span class="number">198.23</span>;<span class="comment">//a=&quot;198.23&quot;</span></span><br><span class="line">a=<span class="built_in">parseInt</span>(a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//198</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 有些浏览器会当成8进制解析，有些会当成十进制解析</span></span><br><span class="line"><span class="keyword">var</span> b=<span class="string">&#x27;070&#x27;</span>;</span><br><span class="line"><span class="comment">// 可以在parseInt中传第二个参数，指定数字进制</span></span><br><span class="line">b=<span class="built_in">parseInt</span>(b,<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b);<span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(b);<span class="comment">//70</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>3.强制数据类型转Boolean</p>
<ul>
<li>使用Boolean（）函数<ul>
<li>数字–》布尔：除<strong>0和NaN</strong>，其余都为true，他们为false</li>
<li>  字符串–》布尔：除<strong>空串</strong>为false(空格不为<strong>false</strong>)，其余都为true</li>
<li>  <strong>null和undefined</strong>都转为false</li>
<li>对象也会转为true</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a=&quot;&quot;;</span></span><br><span class="line">a=<span class="string">&quot;&quot;</span></span><br><span class="line">a=<span class="built_in">Boolean</span>(a);</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"></span><br><span class="line">a=<span class="literal">null</span>;</span><br><span class="line">a=<span class="built_in">Boolean</span>(a);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">a=<span class="literal">undefined</span>;</span><br><span class="line">a=<span class="built_in">Boolean</span>(a);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"></span><br><span class="line">a=<span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(a));<span class="comment">//NaN</span></span><br><span class="line"></span><br><span class="line">a=<span class="string">&quot; &quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(a));<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>运算符也叫操作符，不对原变量产生影响,通过运算符可以对一个或多个值进行运算，并获取运算结果</p>
<h4 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h4><blockquote>
<ul>
<li><p> <code>+</code>  加法运算，返回结果</p>
</li>
<li><p>能转数字的转数字(true/false/null/undefined与数字相加会优先转为数字)</p>
</li>
<li><p>对两个字符串相加会将两个字符串拼接为一个字符串，最后返回</p>
</li>
<li><p>任何值和字符串相加，都会先转为字符串，然后和字符串拼串,可以利用这一特点，将一个任意数据类型转换为String，只需要为任意数据类型+’‘；</p>
</li>
<li><p>此为隐式转换，浏览器自动完成，实际也调用String（）函数</p>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> result=a+<span class="number">1</span>;<span class="comment">//124</span></span><br><span class="line">result=<span class="number">456</span>+<span class="number">789</span>;<span class="comment">//1245</span></span><br><span class="line">result=<span class="literal">true</span>+<span class="number">1</span>;<span class="comment">//2</span></span><br><span class="line">result=<span class="literal">true</span>+<span class="literal">false</span>;<span class="comment">//1</span></span><br><span class="line">result=<span class="number">2</span>+<span class="literal">null</span>;<span class="comment">//2  把null转为了0</span></span><br><span class="line">result=<span class="number">2</span>+<span class="literal">NaN</span>;<span class="comment">//NaN</span></span><br><span class="line">result=<span class="string">&quot;13&quot;</span>+<span class="string">&quot;45&quot;</span>;<span class="comment">//拼接 1345</span></span><br><span class="line">result=<span class="string">&quot;12&quot;</span>+<span class="number">5</span>;<span class="comment">//125</span></span><br><span class="line">result=<span class="string">&#x27;TRUE&#x27;</span>+<span class="number">789</span></span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//True789</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c=<span class="number">123</span>;</span><br><span class="line">c=c+<span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> c=<span class="literal">null</span>;</span><br><span class="line">c=c+<span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> c);<span class="comment">//number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;c=&quot;</span>+c);<span class="comment">//c=null 此时为字符串</span></span><br><span class="line"></span><br><span class="line">result=<span class="number">1</span>+<span class="number">2</span>+<span class="string">&#x27;3&#x27;</span><span class="comment">//33</span></span><br><span class="line">result=<span class="string">&#x27;1&#x27;</span>+<span class="number">2</span>+<span class="number">3</span>;<span class="comment">//123</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>减法运算，返回结果,与字符串相减字符串都转为number</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">result=<span class="number">100</span>-<span class="literal">true</span>;<span class="comment">//99</span></span><br><span class="line">result=<span class="number">100</span>-<span class="string">&#x27;1&#x27;</span>;<span class="comment">//99*</span></span><br><span class="line">result=<span class="number">100</span>-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//NaN</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>/</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* / */</span></span><br><span class="line">result =<span class="number">2</span>*<span class="number">2</span>;</span><br><span class="line">result=<span class="number">2</span>*<span class="literal">null</span>;<span class="comment">//0</span></span><br><span class="line">result=<span class="number">2</span>*<span class="literal">undefined</span>;<span class="comment">//NaN</span></span><br><span class="line">result=<span class="number">2</span>*<span class="string">&#x27;1&#x27;</span>;<span class="comment">//2</span></span><br><span class="line">result=<span class="number">3</span>/<span class="number">2</span>;<span class="comment">//1.5</span></span><br><span class="line">result=<span class="number">3</span>/<span class="string">&#x27;d&#x27;</span>;<span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li><p> *同/</p>
</li>
<li><p>当对非Number类型值进行运算时会将这些值转为number在运算,任何值和NaN做运算结果都为NaN</p>
</li>
<li><p>typeof就是运算符，可以来获得一个值类型,它会将该值以字符串形式返回number string Boolean undefined object</p>
</li>
<li><p> *<em>字符串转number 隐式类型转换-0 /1 <em>1</em></em></p>
</li>
</ul>
</blockquote>
<h4 id="一元运算符"><a href="#一元运算符" class="headerlink" title="一元运算符"></a>一元运算符</h4><blockquote>
<p>一元运算符 只需要一个操作数</p>
<ul>
<li>+正号 - 负号(会先转换为数字，再运算) </li>
<li><strong>注意是正号,不是加号,加号与字符串会转为字符串,但+号不会</strong></li>
<li>  可以对一个其他数据类型使用+，将其转换为number</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result=<span class="number">1</span>+ +<span class="string">&quot;2&quot;</span>+<span class="number">3</span>;<span class="comment">//6</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;result=&quot;</span>+result);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result2=<span class="number">1</span>+<span class="string">&quot;2&quot;</span>+<span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result2);<span class="comment">//123</span></span><br></pre></td></tr></table></figure>

<h4 id="自增自减"><a href="#自增自减" class="headerlink" title="自增自减"></a>自增自减</h4><blockquote>
<ul>
<li>自增：a++；++a;<ul>
<li>使变量再自身基础上+1</li>
<li>a++；++a;都会对一个变量自增后使得<strong>原变量</strong>值会立即自增1</li>
</ul>
</li>
</ul>
<p>不同的是a++（等于自增前值）和++a（等于自增后的值）的值不同</p>
<ul>
<li>自减</li>
</ul>
<p>使变量再自身基础上-1,其他规则同上</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c=<span class="number">10</span>;</span><br><span class="line">c++;<span class="comment">//11</span></span><br><span class="line"><span class="built_in">console</span>.log(c++);<span class="comment">//11</span></span><br><span class="line"><span class="built_in">console</span>.log(c);<span class="comment">//12</span></span><br><span class="line"><span class="keyword">var</span> d=<span class="number">20</span>;</span><br><span class="line"><span class="built_in">console</span>.log(++d);<span class="comment">//21</span></span><br><span class="line"><span class="built_in">console</span>.log(++d);<span class="comment">//22</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d=<span class="number">20</span>;</span><br><span class="line"><span class="keyword">var</span> result=d++ + ++d+d;<span class="comment">//20+22+22=64</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;result=&quot;</span>+result);</span><br></pre></td></tr></table></figure>

<h4 id="逻辑-赋值-关系运算"><a href="#逻辑-赋值-关系运算" class="headerlink" title="逻辑 赋值 关系运算"></a>逻辑 赋值 关系运算</h4><blockquote>
<ol>
<li>  布尔值与和或 </li>
</ol>
<p>   三种</p>
<ul>
<li><p><strong>！</strong>：非运算,对bool值取反</p>
<ul>
<li>  对非Boolean值运算，则会先转为Boolean值，再取反</li>
<li>  可利用该特点，将一个其他数据类型转为Boolean值，可以<strong>为任意一个数据类型取两次反，来转换</strong></li>
</ul>
</li>
<li><p><strong>&amp;&amp;</strong>:与运算并返回结果，两真都真，一假则假，且为短路与，第一个为false，不看第二个,第一个假返回第一个值,否则返回第二个值</p>
</li>
<li><p><strong>||</strong>:或运算   一真都真，全假才假 短路或 第一个为true，不看第二个；第一个为false才看第二个,第一个为真返回第一个值,否则返回第二个</p>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;a=&quot;</span>+!a);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;a=&quot;</span>+!!a);<span class="comment">//true</span></span><br><span class="line"><span class="keyword">var</span> b=<span class="number">0</span>;</span><br><span class="line">b=!!b;<span class="comment">//false</span></span><br><span class="line">b=<span class="literal">undefined</span>;</span><br><span class="line">b=!!b; <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b);<span class="comment">//bollean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;b=&quot;</span>+b); <span class="comment">//b = false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">true</span> &amp;&amp; <span class="literal">true</span>;<span class="comment">//true</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">true</span> &amp;&amp; <span class="literal">false</span>;<span class="comment">//false</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">false</span> &amp;&amp; <span class="literal">false</span>;<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="comment">// 第一个值true，会检查第二个；第一个false不检查第二个</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a=<span class="literal">true</span>||<span class="literal">false</span>;<span class="comment">//true</span></span><br><span class="line">a=<span class="literal">false</span>||<span class="literal">false</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>2.非布尔值运算与和或:</p>
<ul>
<li>会先将其转为布尔值再进行运算，并返回原值<ul>
<li>与：第一个值为true，返回第二个值；如果第一值为false，返回第一个false原值</li>
<li>或：如果第一个值为true，返回第一个值；如果第一个值为false，返回第二个值</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//两个值都为true，则返回后边的原值</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">1</span>&amp;&amp;<span class="number">2</span>;<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// false &amp;&amp;true</span></span><br><span class="line">a=<span class="number">0</span>&amp;&amp;<span class="number">2</span>;<span class="comment">//0</span></span><br><span class="line">a=<span class="number">2</span>&amp;&amp;<span class="number">0</span>;<span class="comment">//0</span></span><br><span class="line"><span class="comment">//两个值都为false，返回前边的false的值</span></span><br><span class="line">a=<span class="number">0</span>&amp;&amp;<span class="literal">NaN</span>;<span class="comment">//0</span></span><br><span class="line">a=<span class="literal">NaN</span>&amp;&amp;<span class="number">0</span>;<span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">2</span>||<span class="number">1</span>;<span class="comment">//2</span></span><br><span class="line">a=<span class="number">1</span>||<span class="number">2</span>;<span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">a=<span class="literal">NaN</span>||<span class="number">2</span>;<span class="comment">//2</span></span><br><span class="line">a=<span class="string">&#x27;&#x27;</span>||<span class="string">&quot;hello&quot;</span>;<span class="comment">//hello</span></span><br><span class="line">a=<span class="string">&#x27;dor&#x27;</span>||<span class="literal">undefined</span>;<span class="comment">//dor</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>3.赋值运算符：= += -= *= /= %=</p>
</blockquote>
<blockquote>
<p>4.关系运算符：</p>
<ul>
<li><p>比较两个值之间大小，关系成立返回true，不成立返回false</p>
</li>
<li><p>&gt;   &gt;=   &lt;    &lt;=</p>
</li>
<li><p>非数值比较：会将其<strong>转换为数值然后比较</strong></p>
</li>
<li><p>如果符号两侧值都是字符串，则不会将其转为数字，会比较两字符串中的Unicode编码</p>
<ul>
<li>两字符串比较比编码,一位一位进行比较,两位一样比较下一位，借他可对英文排序</li>
</ul>
</li>
<li><p>任何值和NaN做比较都是false</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b=<span class="number">10</span>&gt;<span class="literal">undefined</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b);<span class="comment">//false</span></span><br><span class="line">因为<span class="literal">undefined</span>的数字转为<span class="literal">NaN</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">5</span>&lt;<span class="number">4</span>;<span class="comment">//false</span></span><br><span class="line">a=<span class="number">1</span>&gt;<span class="literal">true</span>;<span class="comment">//false</span></span><br><span class="line">a=<span class="number">1</span>&gt;=<span class="literal">true</span>;<span class="comment">//true</span></span><br><span class="line">a=<span class="number">1</span>&gt;=<span class="string">&#x27;0&#x27;</span>;<span class="comment">//true</span></span><br><span class="line">a=<span class="number">10</span>&gt;<span class="literal">null</span>;<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">a=<span class="string">&#x27;1&#x27;</span>&lt;<span class="string">&#x27;5&#x27;</span>;<span class="comment">//true</span></span><br><span class="line">a=<span class="string">&#x27;11&#x27;</span>&lt;<span class="string">&#x27;5&#x27;</span>;<span class="comment">//true  1的编码比5小，只看第一个</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 比较两个字符串型数字，一定要转型，不然结果不一定为预料的</span></span><br><span class="line"><span class="comment">// console.log(&quot;1111123&quot;&gt;&#x27;5&#x27;);//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;111111123&#x27;</span>&gt;+<span class="string">&#x27;2&#x27;</span>);<span class="comment">//+&#x27;2&#x27;为数字2，前边字符串会转为数字，与其比较</span></span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<h4 id="相等运算符"><a href="#相等运算符" class="headerlink" title="相等运算符"></a>相等运算符</h4><blockquote>
<p>相等运算符用来比较两个值是否相等</p>
<p>相等返回true，否则返回false</p>
<ul>
<li><p><code>==</code>做相等运算:当<code>==</code>比两个值时，如果类型不同会自动转换为相同类型，然后比较</p>
</li>
<li><p>！=: 如果类型不同会自动转换为相同类型**(null除外)**，然后比较</p>
</li>
<li><p><code>===</code>:全等 用来判断两个值是否全等，和相等类似，不同的是它不进行自动类型转换，两个值类型不同，返回false</p>
</li>
<li><p><code>！==</code>：用来判断两个值是否不全等，和不相等类似，不同的是它不进行自动类型转换，两个值类型不同，返回true</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">false</span>==<span class="number">0</span>);<span class="comment">//true</span></span><br><span class="line">a=<span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a==<span class="number">4</span>);<span class="comment">//falae</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;1&quot;</span>==<span class="number">1</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span>==<span class="string">&#x27;1&#x27;</span>);<span class="comment">//true 都转为number1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span>==<span class="number">0</span>);<span class="comment">//false</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">undefined衍生自null，所以这两个值做相等判断时，会返回true</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span>==<span class="literal">null</span>);<span class="comment">//true</span></span><br><span class="line"><span class="comment">/* NaN不和任何值相等，包括它本身 */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span>==<span class="literal">NaN</span>);<span class="comment">//false</span></span><br><span class="line"><span class="keyword">var</span> b=<span class="literal">NaN</span>;</span><br><span class="line"><span class="comment">//判断b的值是否为NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(b==<span class="literal">NaN</span>);<span class="comment">//false  不能用此方法判断一个值是否为null，可调用isNaN（）函数,是NaN返回true，不是返回false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(b));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">10</span>!=<span class="number">5</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;1&quot;</span>!=<span class="number">1</span>);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;123&#x27;</span>===<span class="number">123</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span>===<span class="literal">undefined</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>!==<span class="string">&#x27;1&#x27;</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<ul>
<li>==<strong>在关系运算符中，null，undefined会被Number()<strong>强制转换</strong>成数字类型；</strong>==</li>
<li>==<strong>在相等运算符中，null，undefined则不会转化为数字类型，而是经过</strong>特殊处理<strong>后转化为false（当然，除了与自身对比，或者是null与undefined对比，即都为true）</strong>==</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span>  == <span class="literal">undefined</span>  <span class="comment">//true</span></span><br><span class="line"><span class="literal">null</span>  == <span class="literal">null</span>  <span class="comment">//true</span></span><br><span class="line"><span class="literal">undefined</span>  ==  <span class="literal">undefined</span>  <span class="comment">//true</span></span><br><span class="line"><span class="literal">null</span>  == <span class="number">0</span>  <span class="comment">//false</span></span><br><span class="line"><span class="literal">undefined</span>  ==  <span class="number">0</span>  <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h4 id="条件运算符"><a href="#条件运算符" class="headerlink" title="条件运算符"></a>条件运算符</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">三元运算符:  语法：条件表达式？语句<span class="number">1</span>：语句<span class="number">2</span>；</span><br><span class="line"><span class="comment">// 获取a和b中最大值</span></span><br><span class="line"><span class="keyword">var</span> max=a&gt;b?a:b;</span><br><span class="line"><span class="comment">//如果条件表达式求值结果为非布尔值，会将其转换为布尔值然后再运算</span></span><br><span class="line"><span class="string">&#x27;hello&#x27;</span>?<span class="built_in">console</span>.log(<span class="string">&#x27;sdf&#x27;</span>):<span class="built_in">console</span>.log(<span class="string">&#x27;asd&#x27;</span>);<span class="comment">//sdf</span></span><br><span class="line"><span class="string">&#x27;&#x27;</span>?<span class="built_in">console</span>.log(<span class="string">&#x27;sdf&#x27;</span>):<span class="built_in">console</span>.log(<span class="string">&#x27;asd&#x27;</span>);<span class="comment">//asd</span></span><br></pre></td></tr></table></figure>

<h4 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h4><blockquote>
<p>运算符优先级 </p>
<ul>
<li><p>声明多个变量用逗号，运算符</p>
</li>
<li><p>先乘除 后加减</p>
</li>
<li><p>js中有优先级表 表中越靠上，优先级越高越先计算</p>
</li>
<li><p>如果优先级一样从左往右算</p>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="number">1</span>||<span class="number">2</span>&amp;&amp;<span class="number">3</span>;<span class="comment">//或优先级高，返回3； 与优先级高返回1</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//1  与比或优先级高</span></span><br></pre></td></tr></table></figure>

<p><strong>与比或优先级高</strong></p>
<h4 id="Unicode编码"><a href="#Unicode编码" class="headerlink" title="Unicode编码"></a>Unicode编码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;\u0031&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;\u0021&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;\u9856&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;\u2620&quot;</span>);<span class="comment">//查unicode表加\u+4位的编号（十六进制），即可输出</span></span><br><span class="line"><span class="comment">/*网页中也可以，但要转为十进制</span></span><br><span class="line"><span class="comment">&lt;h1&gt;&amp;#9760;&lt;/h1&gt;*/</span></span><br></pre></td></tr></table></figure>

<h1 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h1><ul>
<li><p>对象属于一种复合数据类型，对象中可以保留多个不同数据类型的属性</p>
</li>
<li><p>对象分类</p>
<ul>
<li><p>内建对象：</p>
<p>​              由ES标准中定义的对象，在任何的ES的实现中都可以使用</p>
<p>​              比如：Math String Number Boolean Function Object….</p>
</li>
<li><p>宿主对象：</p>
<p>​              js环境提供的对象，主要指由浏览器提供的对象BoM，DoM</p>
<p>​              console.log()中的console为宿主对象</p>
</li>
<li><p>自建对象</p>
<p>​              由开发人员创建对象</p>
</li>
</ul>
</li>
</ul>
<h2 id="创建对象方法"><a href="#创建对象方法" class="headerlink" title="创建对象方法"></a>创建对象方法</h2><p><code>什么是对象？</code></p>
<ul>
<li> 多个数据的封装体</li>
<li>​    用来<strong>保存多个数据的容器</strong></li>
<li>一个对象代表现实中的一个事物</li>
</ul>
<p><code>为什么要用对象？</code>统一管理多个数据</p>
<p> <code> 对象的组成</code></p>
<ul>
<li>属性：由属性名和属性值组成，属性名都是字符串类型，属性值是任意类型</li>
<li> 方法：特别的函数 属性值是函数</li>
</ul>
<p>  <code>如何访问对象？</code></p>
<p>​      .属性名：但有时不能用</p>
<p>​      [属性名]：通用，此时<strong>属性可以为变量</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj3 = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj3.__proto__ == <span class="built_in">Object</span>.prototype); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>new Object()</code>创建</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建对象</span></span><br><span class="line">     <span class="comment">/* </span></span><br><span class="line"><span class="comment">     使用new关键字调用的函数，是构造函数constructor</span></span><br><span class="line"><span class="comment">     构造函数是专门用来创建对象的函数</span></span><br><span class="line"><span class="comment">     使用typeof检查一个对象时 会返回object</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">     <span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="built_in">Object</span>();<span class="comment">//创建好一个对象赋值给obj 这里使用内置函数Object()创建的对象</span></span><br><span class="line">     <span class="comment">// console.log( typeof obj);//object</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">/*</span></span><br><span class="line"><span class="comment">     向对象中保存的值称为属性，向对象添加属性</span></span><br><span class="line"><span class="comment">     语法：对象.属性名=属性值*/</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 向obj中添加一个name属性</span></span><br><span class="line">     obj.name=<span class="string">&#x27;孙悟空&#x27;</span>;</span><br><span class="line">     <span class="comment">// 向obj属性中添加gender属性</span></span><br><span class="line">     obj.gender=<span class="string">&#x27;nv&#x27;</span>;</span><br><span class="line">     <span class="comment">// 向obj中添加age属性</span></span><br><span class="line">     obj.age=<span class="number">18</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(obj);</span><br><span class="line"></span><br><span class="line">     <span class="comment">/*读取对象中的属性</span></span><br><span class="line"><span class="comment">     语法：对象.属性名</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     如果读取对象中没有的属性，不会报错，而是会返回undefined  因为它是LHS查询</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">console</span>.log(obj.name);<span class="comment">//读取obj对象的属性name的值</span></span><br><span class="line">    <span class="built_in">console</span>.log(obj.age);</span><br><span class="line">    <span class="built_in">console</span>.log(obj.hello);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*修改对象的属性值</span></span><br><span class="line"><span class="comment">    语法：对象.属性名=新值</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="built_in">console</span>.log(obj.name);</span><br><span class="line">   obj.name=<span class="string">&quot;Tom&quot;</span>;</span><br><span class="line">   <span class="built_in">console</span>.log(obj.name);</span><br><span class="line"></span><br><span class="line">   <span class="comment">/*删除对象属性</span></span><br><span class="line"><span class="comment">   语法：delete 对象.属性名</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">   <span class="keyword">delete</span> obj.name;</span><br><span class="line">   <span class="built_in">console</span>.log(obj.name);</span><br></pre></td></tr></table></figure>

<p><strong>删除对象属性使用  <code>delete obj.name</code></strong></p>
<ul>
<li><p>对象字面量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line">       <span class="comment">// console.log(typeof obj);</span></span><br><span class="line">       obj.name=<span class="string">&quot;haley&quot;</span>;</span><br><span class="line">       <span class="comment">// console.log(obj.name);</span></span><br><span class="line">  </span><br><span class="line">       <span class="comment">/* </span></span><br><span class="line"><span class="comment">       使用对象字面量，可以在创建对象时，指定对象中的属性</span></span><br><span class="line"><span class="comment">       语法：&#123;属性名：属性值，属性名：属性值。。。。&#125; </span></span><br><span class="line"><span class="comment">       对象字面量的属性名可以加双引号也可不加,如果使用一些特殊名字必须加引号</span></span><br><span class="line"><span class="comment">       属性名和属性值是一组一组名值对结构</span></span><br><span class="line"><span class="comment">       名和值之间冒号连接，多个名值对之间逗号，隔开，如果一个属性之后没有其他属性就不要写，</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">var</span> obj2=&#123;</span><br><span class="line">          <span class="string">&quot;name&quot;</span>:<span class="string">&quot;haley&quot;</span>,</span><br><span class="line">           age:<span class="number">48</span>,</span><br><span class="line">           gender:<span class="string">&quot;nv&quot;</span>,</span><br><span class="line">           test:&#123;<span class="attr">name</span>:<span class="string">&quot;h2&quot;</span>&#125;<span class="comment">//把没有命名的对象直接赋值给test属性，test属性值为对象&#123;&#125;</span></span><br><span class="line">       &#125;;</span><br><span class="line">      <span class="built_in">console</span>.log(obj2);</span><br></pre></td></tr></table></figure></li>
<li><p>工厂方式创建对象</p>
<ul>
<li><p>使用工厂方法创建对象,通过该方法大批量创建对象 </p>
</li>
<li><p><strong>主要是该构造函数返回一个在构造函数中new Object()的对象,设置对象属性在函数中操作,创建对象传参即可</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">creatPerson</span>(<span class="params">name,age,gender</span>)</span>&#123;</span><br><span class="line">          <span class="comment">// 创建一个新对象</span></span><br><span class="line">          <span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">          <span class="comment">// 向对象中添加属性</span></span><br><span class="line">          obj.name=name,</span><br><span class="line">          obj.age=age,</span><br><span class="line">          obj.gender=gender,</span><br><span class="line">          obj.sayName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              alert(<span class="built_in">this</span>.name);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// 返回新对象</span></span><br><span class="line">          <span class="keyword">return</span> obj;</span><br><span class="line">      &#125;</span><br><span class="line">    </span><br><span class="line">      <span class="keyword">var</span> obj2=creatPerson(<span class="string">&quot;h1&quot;</span>,<span class="number">18</span>,<span class="string">&quot;nv&quot;</span>);</span><br><span class="line">      <span class="keyword">var</span> obj3=creatPerson(<span class="string">&quot;h2&quot;</span>,<span class="number">12</span>,<span class="string">&quot;nv&quot;</span>);</span><br><span class="line">      <span class="keyword">var</span> obj4=creatPerson(<span class="string">&quot;h3&quot;</span>,<span class="number">113</span>,<span class="string">&quot;nan&quot;</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(obj2);</span><br><span class="line">      <span class="built_in">console</span>.log(obj3);</span><br><span class="line">      <span class="built_in">console</span>.log(obj4);</span><br><span class="line">      obj4.sayName();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">      <span class="comment">// 创建狗对象</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">ceratDog</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">          <span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">          obj.name=name;</span><br><span class="line">          obj.age=age;</span><br><span class="line">          obj.sayHello=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              alert(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> obj;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 创建狗对象</span></span><br><span class="line">      <span class="keyword">var</span> obj2=ceratDog(<span class="string">&quot;wo&quot;</span>,<span class="number">1</span>);</span><br><span class="line">      <span class="keyword">var</span> obj3=ceratDog(<span class="string">&quot;wo1&quot;</span>,<span class="number">2</span>);</span><br><span class="line">      <span class="keyword">var</span> obj4=ceratDog(<span class="string">&quot;wo2&quot;</span>,<span class="number">5</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(obj2);</span><br><span class="line">      <span class="built_in">console</span>.log(obj3);</span><br><span class="line">      <span class="built_in">console</span>.log(obj4);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>构造函数创建对象</p>
<ul>
<li><p>创建一个构造函数，专门用来创建Person对象</p>
</li>
<li><p>构造函数就是一个普通函数，创建方式和普通函数没有区别，但构造函数要首字母大写</p>
<p>​    并且构造函数调用<strong>需要new</strong>调用</p>
<blockquote>
<ul>
<li>new 函数名();<strong>创建对象的步骤</strong><ol>
<li>创建一个空对象  <code>let obj=new Object()</code></li>
<li>让<strong>构造函数的this</strong>指向创建的对象,并执行构造函数体</li>
<li>设置<strong>原型链</strong>,将创建对象的``<strong>proto</strong>`指向构造函数的prototype</li>
<li>判断构造函数有无返回值类型,如果是值类型,返回新对象;引用类型返回这个引用对象</li>
</ol>
</li>
<li>字面量创建的对象的<code>__proto__</code>也会指向prototype</li>
</ul>
</blockquote>
</li>
<li><p>使用同一个构造函数创建的对象，称为一类对象，也将一个构造函数称为一个类</p>
<p>​    我们将创建的一个该类的对象称为该类的实例</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建构造函数</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.name=name;</span><br><span class="line">            <span class="built_in">this</span>.age=age;</span><br><span class="line">            <span class="built_in">this</span>.sayName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="comment">// alert(this);</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 创建对象</span></span><br><span class="line">        <span class="keyword">var</span> per=Person();</span><br><span class="line">        <span class="built_in">console</span>.log(per);<span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> per=<span class="keyword">new</span> Person(<span class="string">&quot;haley001&quot;</span>,<span class="number">112</span>);</span><br><span class="line">        <span class="keyword">var</span> per2=<span class="keyword">new</span> Person(<span class="string">&quot;haley002&quot;</span>,<span class="number">12</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(per);<span class="comment">//Person&#123;&#125;</span></span><br><span class="line">        <span class="built_in">console</span>.log(per2.name);<span class="comment">//haley002</span></span><br><span class="line">        per2.sayName();</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> dog1=<span class="keyword">new</span> Dog();</span><br><span class="line">        <span class="built_in">console</span>.log(dog1);</span><br></pre></td></tr></table></figure></li>
<li><p>​     使用instanceof可以检查一个对象是否为一个类的实例</p>
<ul>
<li><p>语法:</p>
<p>**对象名字  instanceof  构造函数名 **       是返回true 不是返回false</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(per <span class="keyword">instanceof</span> Person);<span class="comment">//true</span></span><br><span class="line">    </span><br><span class="line"> <span class="built_in">console</span>.log(dog1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">//返回true</span></span><br><span class="line"> <span class="built_in">console</span>.log(per <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">//返回true</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>在构造函数中添加方法,每创建一个对象就会创建一个方法,我们可以让所有对象共有一个方法，将sayName方法在全局作用域中定义</p>
</li>
<li><p>但是函数定义在全局作用域中，污染了全局作用域的命名空间,  而且定义在全局作用域中不安全,转原型对象</p>
</li>
</ul>
<h2 id="原型对象"><a href="#原型对象" class="headerlink" title="原型对象"></a>原型对象</h2><ul>
<li><p>原型prototype</p>
<ul>
<li><p>我们创建的每一个函数，解释器都会向函数中添加一个属性prototype</p>
<p>prototype这个属性对应着一个对象，就是我们所谓的原型对象</p>
</li>
<li><p>如果<strong>函数作为普通函数调用prototype没有任何作用</strong></p>
</li>
<li><p>当函数以构造函数形式(new fun();)调用时，它所建的对象中都会有一个隐含的属性指向该构造函数的原型对象，我们可以通过``<strong>proto</strong>`来访问该属</p>
</li>
</ul>
</li>
<li><p>原型对象相当于公共区域，所有同一个类的实例都可以访问到这个原型对象,我们可以将对象中共有的部分，统一设置到原型对象中</p>
</li>
<li><p>当我们访问对象属性或方法时，会先在对象自身中寻找，如果有则直接使用，没有则取原型对象中找，有则使用  </p>
</li>
<li><p>以后我们创建构造函数时，可以将这些对象共有的属性和方法，通过原型对象统一添加到构造函数原型对象中,这样就不用分别为每一个对象添加，也不会影响全局作用域，就可使得每个对象都具有这些属性和方法 </p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">MyClass</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">       &#125;<span class="comment">//含有原型对象属性prototype</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//  向MyClass原型对象中添加属性a</span></span><br><span class="line">      MyClass.prototype.a=<span class="number">123</span>;</span><br><span class="line">      <span class="comment">// 向MyClass中添加方法</span></span><br><span class="line">      MyClass.prototype.sayHello=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">       <span class="keyword">var</span> mc=<span class="keyword">new</span> MyClass();<span class="comment">//含有prototype</span></span><br><span class="line">       <span class="keyword">var</span> mc2=<span class="keyword">new</span> MyClass();</span><br><span class="line">      <span class="built_in">console</span>.log(Person.prototype==MyClass.prototype);<span class="comment">//false</span></span><br><span class="line">      <span class="built_in">console</span>.log(mc2.__proto__==MyClass.prototype);<span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(mc.__proto__==MyClass.prototype);<span class="comment">//同样属性指向原型对象__proto__里存着地址（原型对象的）</span></span><br><span class="line">      <span class="built_in">console</span>.log(mc.a);<span class="comment">//mc里没有a，从原型对象中找</span></span><br><span class="line"></span><br><span class="line">      <span class="built_in">console</span>.log(mc.__proto__);</span><br><span class="line">      <span class="comment">// 向mc中添加属性a</span></span><br><span class="line">      mc.a=<span class="number">456</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(mc.a);<span class="comment">//456</span></span><br><span class="line">      <span class="built_in">console</span>.log(mc2.a);<span class="comment">//123</span></span><br><span class="line">      mc.sayHello();</span><br></pre></td></tr></table></figure>

<ul>
<li><p>用in检查对象中是否含有某个属性时，如果对象中没有原型中有，也会返回true</p>
</li>
<li><p>想要<strong>不查找原型链</strong>,可以使用``hasOwnPrperty`方法,检查对象自身是否含有该属性,该方法只有当对象自身中含有属性时，才返回true</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">MyClass</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">MyClass.prototype.name=<span class="string">&quot;yuan xin name&quot;</span>;<span class="comment">//可以理解为lei中原型用prototype，新建对象中原型用__proto__，但二者指向相同</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> mc=<span class="keyword">new</span> MyClass();</span><br><span class="line">            mc.age=<span class="number">18</span>;</span><br><span class="line"><span class="keyword">var</span> a=mc.hasOwnProperty(<span class="string">&quot;name&quot;</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.hasOwnProperty(<span class="string">&quot;age&quot;</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.hasOwnProperty(<span class="string">&quot;hasOwnProperty&quot;</span>));<span class="comment">//false  该结果表示所使用的hasOwnProperty()方法也是在mc,所创建的原型链上的</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>原型对象也是对象 也有原型，当使用一个对象属性和方法时，</p>
<ul>
<li>自身有则使用自身，无则去自身的原型对象中找，原型对象有则使用</li>
<li>如果自身原型对象中没有，则去原型对象的原型对象的属性和方法中找，直到找到Object的原型对象，Object原型对象中没有原型对象   则返回undefined</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(mc.__proto__.hasOwnProperty(<span class="string">&quot;hasOwnProperty&quot;</span>));<span class="comment">//false 原型对象里也没有，证明原型对象中还有prototype（原型对象）</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.__proto__);<span class="comment">//mc的原型对象</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.__proto__.__proto__);<span class="comment">//mc的原型对象的原型对象</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.__proto__.__proto__.hasOwnProperty(<span class="string">&quot;hasOwnProperty&quot;</span>));<span class="comment">//true 原型对象中的原型对象含有该属性</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.__proto__.__proto__.__proto__);<span class="comment">//null mc的原型对象的原型对象没有原型，一般有2层</span></span><br></pre></td></tr></table></figure>

<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><ul>
<li><p>全局</p>
<ul>
<li>直接编写到script标签中的js代码，都在全局作用域中</li>
<li>全局作用域在页面打开时创建 页面关闭时销毁</li>
<li>全局作用域中有一个对象window，代表浏览器窗口，可直接使用<ul>
<li>在全局作用域中，创建的变量都会作为window属性保存</li>
<li>创建的函数都会作为window对象的方法保存</li>
<li>全局作用域的变量为全局变量函数作用域也可以访问该变量</li>
</ul>
</li>
</ul>
</li>
<li><p>函数作用域</p>
<ul>
<li>调用函数时创建，函数执行完销毁</li>
<li>每掉一次就创建一个新的函数作用域，他们之间相互独立</li>
</ul>
<ul>
<li>在函数作用域中可以访问全局变量，全局作用域无法访局部变量<ul>
<li>当在函数作用域中操作一个变量，会先向自身作用域中寻找变量，有则使用，无则向上级作用域寻找</li>
<li>在函数中访问全局变量用 window.变量</li>
</ul>
</li>
</ul>
<ul>
<li> 函数中定义变量没有使用修饰符,定义的是全局变量</li>
</ul>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="number">10</span>;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">          <span class="keyword">var</span> a=<span class="string">&quot;han shu a&quot;</span>;</span><br><span class="line">           <span class="comment">// console.log(a);</span></span><br><span class="line">           <span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">               <span class="built_in">console</span>.log(<span class="built_in">window</span>.a);<span class="comment">//找全局a</span></span><br><span class="line">               <span class="built_in">console</span>.log(<span class="string">&quot;fun2:&quot;</span>+a);</span><br><span class="line">           &#125;</span><br><span class="line">           fun2();</span><br><span class="line">      &#125;</span><br><span class="line">      fun();</span><br><span class="line">    </span><br><span class="line">   <span class="comment">/*函数作用域也有声明提前特性，使用var关键字，会在函数中所有代码执行之前被声明</span></span><br><span class="line"><span class="comment">   函数声明也会在函数中所有代码执行之前被声明 */</span> </span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">fun3</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       fun4();</span><br><span class="line">       <span class="comment">// console.log(a);</span></span><br><span class="line">       <span class="keyword">var</span> a=<span class="number">10</span>;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">fun4</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           alert(<span class="string">&quot;fun4&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   fun3();<span class="comment">//undefined </span></span><br><span class="line">    </span><br><span class="line">   <span class="comment">/* 函数中，不用var声明的变量都为全局变量 */</span></span><br><span class="line">   <span class="keyword">var</span> c=<span class="number">223</span>;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">fun5</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&quot;c=&quot;</span>+c);</span><br><span class="line">       <span class="comment">// var c=10;加上这个上边输出undefined，不加则输出223</span></span><br><span class="line">       <span class="comment">// c=10;</span></span><br><span class="line">       d=<span class="number">100</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   fun5();</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;c=&quot;</span>+c);</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;d=&quot;</span>+d);<span class="comment">//100</span></span><br><span class="line">    </span><br><span class="line">   <span class="comment">// 定义形参相当于在函数作用域中声明变量</span></span><br><span class="line">   <span class="keyword">var</span> e=<span class="number">23</span>;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">fun6</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">       alert(a);</span><br><span class="line">       a=<span class="number">4546</span>;<span class="comment">//形参改变不影响实参，尤其形参实参同名时</span></span><br><span class="line">   &#125;</span><br><span class="line">   fun6();<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure></li>
<li><p>块级作用域见JS进阶</p>
</li>
</ul>
<h2 id="in枚举对象属性"><a href="#in枚举对象属性" class="headerlink" title="in枚举对象属性"></a>in枚举对象属性</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*枚举对象中的属性，使用for....in语句</span></span><br><span class="line"><span class="comment">        for(let 变量 in 对象)&#123;</span></span><br><span class="line"><span class="comment">           console.log(变量);//属性名打印</span></span><br><span class="line"><span class="comment">            console.log(对象[变量]);//打印属性值</span></span><br><span class="line"><span class="comment">            console.log(n+&quot;：&quot;+obj[n]);//打印属性名+属性值</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        该语句中有几个属性，循环体就会执行多少次</span></span><br><span class="line"><span class="comment">        每次执行时，会将对象中的一个属性的名字赋值给变量*/</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">let</span> n <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="comment">//    console.log(&quot;属性=&quot;+n);</span></span><br><span class="line">        <span class="comment">//   console.log(obj.n); //是undefined 这里n是变量，得用[]</span></span><br><span class="line">        <span class="comment">//   console.log(obj[n]);//打印属性值</span></span><br><span class="line">            <span class="built_in">console</span>.log(n+<span class="string">&quot;：&quot;</span>+obj[n]);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="浅析this"><a href="#浅析this" class="headerlink" title="浅析this"></a>浅析this</h2><blockquote>
<p> 解析器在调用函数时都会向内部传入隐含的参数 ,</p>
<ul>
<li><p>这个隐含参数为this，this指向的是一个对象，这个对象我们称为函数执行的上下文对象</p>
</li>
<li><p> 根据函数调用方式不同，this会指向不同对象</p>
</li>
</ul>
<p>  ​      1.以函数形式调用 this永远是window</p>
<p>  ​      2以方法形式调用 this就是调用方法的那个对象</p>
</blockquote>
<h2 id="基本-引用列类型解释"><a href="#基本-引用列类型解释" class="headerlink" title="基本,引用列类型解释"></a>基本,引用列类型解释</h2><ul>
<li><p> js中的变量都保存到栈内存中：</p>
</li>
<li><p><strong>基本数据类型的值直接在栈内存中存储</strong>，值与值之间独立存在，修改一个变量不影响另一个变量</p>
</li>
<li><p><strong>对象是保存在堆内存的</strong>，每创建一个新的对象，就会在堆内存中开辟一个新的空间</p>
</li>
<li><p>而**变量保存的是对象的内存地址(**对象的引用)，如果两个变量保存同一个对象引用，当通过一个变量修改属性值时，另一个也会受影响</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">     <span class="keyword">var</span> b = a;</span><br><span class="line">     a++;</span><br><span class="line">     <span class="comment">/* console.log(&quot;a=&quot;+a);</span></span><br><span class="line"><span class="comment">       console.log(&quot;b=&quot;+b); */</span></span><br><span class="line">    </span><br><span class="line">     <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">     obj.name = <span class="string">&quot;孙悟空&quot;</span>;</span><br><span class="line">    </span><br><span class="line">     <span class="keyword">var</span> obj2 = obj; <span class="comment">//obj2与obj在栈内存保存相同地址，指向相同的堆内存空间</span></span><br><span class="line">     <span class="comment">//    修改obj的name属性</span></span><br><span class="line">     obj.name = <span class="string">&quot;猪八戒&quot;</span>;</span><br><span class="line">     <span class="comment">/* console.log(obj.name);//猪八戒</span></span><br><span class="line"><span class="comment">       console.log(obj2.name);//猪八戒</span></span><br><span class="line"><span class="comment">    */</span></span><br></pre></td></tr></table></figure></li>
<li><p>对象设为null,将与堆内存断开</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">obj2 = <span class="literal">null</span>; <span class="comment">//obj2栈内存的值变为null(表示指向了null对象)，与堆内存断开，修改obj2值对其他变量不产生影响</span></span><br><span class="line">        <span class="built_in">console</span>.log(obj);<span class="comment">//obj指向的对象</span></span><br><span class="line">        <span class="built_in">console</span>.log(obj2);<span class="comment">//null</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure></li>
<li><p>对象比较</p>
<ul>
<li><p>当比较两个基本类型值时，就是比较值</p>
</li>
<li><p>当比较两个引用数据类型时，比较对象的内存地址    如果两个变量一模一样，但是地址不同，就会返回false</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj3 = <span class="keyword">new</span> <span class="built_in">Object</span>(); <span class="comment">//new表示在堆内存新开辟一个空间，有一个新地址</span></span><br><span class="line">    <span class="keyword">var</span> obj4 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    obj3.name = <span class="string">&quot;h1&quot;</span>;</span><br><span class="line">    obj4.name = <span class="string">&quot;h1&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(obj3);</span><br><span class="line">    <span class="built_in">console</span>.log(obj4);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* 当比较两个基本类型值时，就是比较值</span></span><br><span class="line"><span class="comment">      当比较两个引用数据类型时，比较对象的内存地址</span></span><br><span class="line"><span class="comment">          如果两个变量一模一样，但是地址不同，就会返回false</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">    <span class="built_in">console</span>.log(obj3 == obj4); <span class="comment">//false</span></span><br><span class="line">    <span class="keyword">var</span> a = &#123;</span><br><span class="line">      name: <span class="string">&quot;haley&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    a = &#123;</span><br><span class="line">      name: <span class="string">&quot;jkl&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">console</span>.log(a); <span class="comment">//后一个a成立</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="属性值与名"><a href="#属性值与名" class="headerlink" title="属性值与名"></a>属性值与名</h2><p><strong>属性名</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">     <span class="comment">/* 向对象中添加属性</span></span><br><span class="line"><span class="comment">       属性名：- 对象的属性名不强制要求遵守标识符的规范</span></span><br><span class="line"><span class="comment">                   什么乱七八糟名都可以用</span></span><br><span class="line"><span class="comment">               - 但是使用尽量按标识符规范</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">     obj.name = <span class="string">&quot;孙悟空&quot;</span>;</span><br><span class="line">     <span class="comment">// obj.var=45;</span></span><br><span class="line">     <span class="comment">/* 如果使用特殊属性名，不能采用.的方式来操作</span></span><br><span class="line"><span class="comment">       语法：对象[&quot;属性名&quot;]=属性值；</span></span><br><span class="line"><span class="comment">               读取也采用此方式</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        使用[]这种方式去操作更加灵活，在[]中可以直接传递一个变量，变量值是多少就会读取哪个属性</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">     obj[<span class="number">123</span>] = <span class="number">789</span>;</span><br><span class="line">     obj[<span class="string">&quot;nihao&quot;</span>] = <span class="string">&quot;ni hao&quot;</span>;</span><br><span class="line">     <span class="keyword">var</span> n = <span class="string">&quot;nihao&quot;</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(obj[<span class="number">123</span>]); <span class="comment">//789</span></span><br><span class="line">     <span class="built_in">console</span>.log(obj[n]);</span><br></pre></td></tr></table></figure>

<p><strong>属性值</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*属性值</span></span><br><span class="line"><span class="comment">           js对象的属性值，可以是任意的数据类型,也可以是一个对象</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">     obj.test = <span class="string">&quot;ni&quot;</span>;</span><br><span class="line">     obj.test = <span class="literal">true</span>;</span><br><span class="line">     obj.test = <span class="literal">undefined</span>;</span><br><span class="line">     obj.test = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//    创建对象</span></span><br><span class="line">     <span class="keyword">var</span> obj2 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">     obj2.name = <span class="string">&quot;猪八戒&quot;</span>;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 将obj2设置为obj的属性值</span></span><br><span class="line">     obj.test = obj2;</span><br><span class="line">    <span class="built_in">console</span>.log(obj.test.name);<span class="comment">//&quot;猪八戒&quot;</span></span><br><span class="line"></span><br><span class="line">     <span class="built_in">console</span>.log(obj.test2); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

<p><strong>in运算符</strong></p>
<ul>
<li><p>通过该运算符可以检查一个对象中是否含有指定的属性<strong>该属性会检查原型链</strong></p>
<p>​    如果有则返回true，没有则返回false</p>
<p><code>“属性名” in 对象 </code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 检查obj中是否含te有test2这个属性</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;test2&quot;</span> <span class="keyword">in</span> obj); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;test&quot;</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;name&quot;</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="创建函数方式"><a href="#创建函数方式" class="headerlink" title="创建函数方式"></a>创建函数方式</h2><ul>
<li>函数也是一个对象</li>
<li>函数中可以封装一些功能（代码），在需要时可以执行这些功能（代码）,需要时调用函数</li>
<li>使用typeof检查一个函数对象时，返回一个”function”</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//1. 可以将要封装的代码以字符串形式传递给构造函数</span></span><br><span class="line">    <span class="comment">// 实际开发中很少使用构造函数创建对象</span></span><br><span class="line">    <span class="keyword">var</span> fun=<span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&quot;console.log(&#x27;Hello it is my first function&#x27;);&quot;</span>);</span><br><span class="line">    <span class="comment">// console.log(typeof fun);</span></span><br><span class="line">    <span class="comment">// 封装后的代码不会立即执行</span></span><br><span class="line">    <span class="comment">// 函数中的代码会在函数调用时候执行</span></span><br><span class="line">    <span class="comment">// 调用函数语法：函数对象()</span></span><br><span class="line">    <span class="comment">// 当调用函数时函数中封装的代码会按顺序执行</span></span><br><span class="line">    fun();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 向函数对象中添加属性</span></span><br><span class="line">fun.hello=<span class="string">&quot;ni hao&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(fun.hello);<span class="comment">//&quot;ni hao&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 2. 使用函数声明创建函数</span></span><br><span class="line"><span class="comment">语法：function   函数名（[形参1，形参2，...]）&#123;</span></span><br><span class="line"><span class="comment">    函数体</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//函数声明方式 函数声明会被提升</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;这是我的第二个函数&quot;</span>);<span class="comment">//不用以字符串形式</span></span><br><span class="line">    alert(<span class="string">&quot;haha&quot;</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;xixi&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fun2);</span><br><span class="line">fun2();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3 使用函数表达式创建函数   匿名函数 只会变量(函数名提升为undefined)  此时函数不会提升</span></span><br><span class="line"><span class="keyword">var</span> 函数名=<span class="function"><span class="keyword">function</span>(<span class="params">[形参<span class="number">1</span>，形参<span class="number">2</span>，...]</span>)</span>&#123;<span class="comment">//function后边没有函数名</span></span><br><span class="line">    语句；</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fun3=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//赋值语句 将函数对象赋值给变量</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;i am 匿名函数代码&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line">fun3();</span><br></pre></td></tr></table></figure>

<h2 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h2><h3 id="普通参数"><a href="#普通参数" class="headerlink" title="普通参数"></a>普通参数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">       定义一个用来求两个数和的函数</span></span><br><span class="line"><span class="comment">       可以在函数的（）中指定一个或多个形参，用逗号隔开，</span></span><br><span class="line"><span class="comment">       声明形参就相当于在函数内声明对应变量，但是不赋值</span></span><br><span class="line"><span class="comment">       函数的实参是任意数据类型</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">Sum</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">&quot;a=&quot;</span>+a);</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">&quot;b=&quot;</span>+b);</span><br><span class="line">           <span class="built_in">console</span>.log(a + b);</span><br><span class="line">       &#125;</span><br><span class="line">   <span class="comment">// 在调用函数时，可以在()中指定实参，实参将赋值给函数指定的形参</span></span><br><span class="line">   <span class="comment">// 调用函数解析器不会查实参类型，注意，可能会接收到非法参数，如果有可能需要检查参数类型</span></span><br><span class="line">       <span class="comment">/*   Sum(1,2);</span></span><br><span class="line"><span class="comment">         Sum(true,false);</span></span><br><span class="line"><span class="comment">         Sum(123,&quot;hello&quot;); */</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//    调用函数时，解释器也不检查实参数量，多余实参不会被赋值</span></span><br><span class="line">       Sum(<span class="number">12</span>,<span class="number">35</span>,<span class="string">&quot;dff&quot;</span>,<span class="number">55</span>);</span><br><span class="line">   <span class="comment">//  如果实参数量少于形参数量，则没有实参的形参为undefined，与数字相加为NaN</span></span><br><span class="line">       Sum(<span class="number">12</span>);</span><br></pre></td></tr></table></figure>

<h3 id="浏览器传入的参数"><a href="#浏览器传入的参数" class="headerlink" title="浏览器传入的参数"></a>浏览器传入的参数</h3><blockquote>
<p>调用函数时，浏览器每次都会传入来两个隐含参数</p>
<p>​      1.函数上下文对象this</p>
<p>​      2.封装实参的对象arguements</p>
<ul>
<li>arguments是一个<strong>类数组</strong>对象,也可以通过索引操作数据，也可以获取长<ul>
<li>在调用函数时，我们所传递的实参都会在argument中保存</li>
<li>arguments.length可以用来获取实参长度</li>
<li><strong>arguments[0]表示第一个实参，arguments[1]表示第二个实参</strong></li>
<li>我们即使不定义形参（定义了也可使用），也可以用arguments来使用实参，只不过较麻烦</li>
<li>它还有一个属性callee，这个属性对应一个函数对象，就是当前正在指向的函数的对象</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">//   console.log(arguments instanceof Array);//false</span></span><br><span class="line">      <span class="comment">//   console.log(Array.isArray(arguments));//false</span></span><br><span class="line">      <span class="comment">//   console.log(arguments.length);//2</span></span><br><span class="line">          <span class="comment">//  console.log(arguments[0],arguments[1]);//hello true</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee);</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee==fun);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line">     fun(<span class="string">&quot;hello&quot;</span>,<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>



<h2 id="函数返回值和实参"><a href="#函数返回值和实参" class="headerlink" title="函数返回值和实参"></a>函数返回值和实参</h2><p><strong>返回值</strong></p>
<ul>
<li><p>可以使用return 来设置函数返回值,return后的值会作为结果返回，定义一个变量，结收该结果</p>
<p>​    函数中return后的语句都不会执行</p>
</li>
<li><p>return后不跟任何值相当于返回一个undefined,函数中不写return，也会相当于返回一个undefined</p>
</li>
<li><p>return后可以返回任何类型值  <strong>返回值可以是任意数据类型 也可以是对象，也可以是函数</strong></p>
</li>
</ul>
<p><strong>实参</strong></p>
<ul>
<li>实参可以是任意数据类型 也可以是一个对象,当参数过多时，可以将参数封装成为一个对象，然后通过对象传递</li>
<li>实参也可以是一个函数</li>
</ul>
<h2 id="函数方法"><a href="#函数方法" class="headerlink" title="函数方法"></a>函数方法</h2><blockquote>
<p>call和apply</p>
<ul>
<li><p>这两个方法都是函数对象的方法，需要通过函数对象来调用</p>
</li>
<li><p>当对函数调用call（）和apply（）都会调用函数执行</p>
</li>
<li><p>在调用call和apply时可以将一个对象指定为第一个参数， 此时<strong>这个对象会成为函数执行时的this</strong></p>
</li>
<li><p>区别</p>
<ul>
<li>call()方法可以将实参在对象之后依次传递，作为fun（s,b）的参数的实参</li>
<li>apply()需要将实参封装到一个数组中统一传递</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj=&#123;</span><br><span class="line">    name:<span class="string">&#x27;haley&#x27;</span>,</span><br><span class="line">    sayName:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2=&#123;<span class="attr">name</span>:<span class="string">&quot;haley02&quot;</span>&#125;;</span><br><span class="line">obj.sayName.call(obj2);<span class="comment">//this是obj2,打印haley01</span></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;a=&quot;</span>+a);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;b=&quot;</span>+b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// fun1.call(obj,2,3);//调用函数call（）方法，2,3分别为参数，第一个参数为对象</span></span><br><span class="line">    <span class="comment">// fun1.apply(obj,2,3);//error</span></span><br><span class="line">    fun1.apply(obj,[<span class="number">2</span>,<span class="number">3</span>]);</span><br></pre></td></tr></table></figure>



<h2 id="立即执行函数-IIFE"><a href="#立即执行函数-IIFE" class="headerlink" title="立即执行函数(IIFE)"></a>立即执行函数(IIFE)</h2><ul>
<li><p>函数定义完，立即被调用，这样函数叫立即执行函数,,立即执行函数只执行一次 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 函数对象</span></span><br><span class="line"><span class="comment">     (function()&#123;</span></span><br><span class="line"><span class="comment">           alert(&quot;我是匿名函数&quot;);</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">   )();</span></span><br><span class="line"><span class="comment">   //括号才可使得没有变量接收的匿名函数不报错*/</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 有参数</span></span><br><span class="line">     (<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&quot;a=&quot;</span> + a);</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&quot;b=&quot;</span> + b);</span><br><span class="line">     &#125;)(<span class="number">123</span>, <span class="number">456</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><ul>
<li><p>箭头函数没有function关键字，但需要一个变量接收函数对象，调函数时变量加括号调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xx = <span class="function">() =&gt;</span> <span class="number">555</span>; <span class="comment">//让xx被箭头函数赋值</span></span><br><span class="line">     <span class="built_in">console</span>.log(xx);<span class="comment">//xx此时为函数,不为函数返回值,此时()=&gt;还没有调用</span></span><br><span class="line">     <span class="comment">//上述箭头函数为：（）=》555等同于</span></span><br><span class="line">     <span class="comment">//       function xx()&#123;</span></span><br><span class="line">     <span class="comment">//           return 555;</span></span><br><span class="line">     <span class="comment">//       &#125;  箭头函数没有function关键字，但需要一个变量接收函数对象，调函数时变量加括号调用</span></span><br><span class="line">     <span class="comment">// console.log(xx);</span></span><br><span class="line">     xx()<span class="comment">//555 调用函数</span></span><br></pre></td></tr></table></figure></li>
<li><p>如下定义一个变量_objFn，接收函数这个对象，函数名为_objFn，_n为参数，但调函数时用变量加括号名调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> _objFn = <span class="function">(<span class="params">_n</span>) =&gt;</span> (&#123; <span class="attr">id</span>: _n, <span class="attr">name</span>: <span class="string">&quot;haley&quot;</span> &#125;); <span class="comment">//箭头相当于return，因为大括号会被解析为代码块，所以要加小括号</span></span><br><span class="line">      <span class="built_in">console</span>.log(_objFn(<span class="string">&quot;点赞，收藏，投币&quot;</span>));</span><br><span class="line"><span class="comment">//打印结果</span></span><br><span class="line">		<span class="built_in">Object</span></span><br><span class="line">            id: <span class="string">&quot;点赞，收藏，投币&quot;</span></span><br><span class="line">            name: <span class="string">&quot;haley&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>箭头函数的this指向上一级</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bb = &#123;</span><br><span class="line">       name: <span class="string">&quot;haley&quot;</span>,</span><br><span class="line">       init: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">       &#125;,</span><br><span class="line">     &#125;;</span><br><span class="line">     bb.init();</span><br><span class="line">     <span class="keyword">let</span> bb2 = &#123;</span><br><span class="line">       name: <span class="string">&quot;haley01&quot;</span>,</span><br><span class="line">       init: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">         <span class="comment">// this指向的是它所在的对象的父级，即window</span></span><br><span class="line">         <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">       &#125;,</span><br><span class="line">     &#125;;</span><br><span class="line">     bb2.init(); <span class="comment">//没有名字该函数，通过属性调用方法</span></span><br></pre></td></tr></table></figure></li>
<li><p>不能 new 箭头函数调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 箭头函数不能使用new关键字，不能用于构造函数</span></span><br><span class="line">     <span class="comment">// let fn=()=&gt;&quot;jicji&quot;;</span></span><br><span class="line">     <span class="comment">// new fn();//没有构造函数this不是指向自己</span></span><br><span class="line">     <span class="keyword">let</span> fn = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>.constructor); <span class="comment">//window构造函数，与所建函数无关</span></span><br><span class="line">     &#125;;</span><br><span class="line">     fn();</span><br><span class="line">     <span class="built_in">console</span>.log(fn.prototype); <span class="comment">//undefined//无此方法属性</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="垃圾回收-GC"><a href="#垃圾回收-GC" class="headerlink" title="垃圾回收(GC)"></a>垃圾回收(GC)</h2><ul>
<li><p>程序运行过程中也会产生垃圾，这写垃圾过多会导致程序运行过慢</p>
</li>
<li><p>需要一个垃圾回收机制处理程序运行过程中产生的垃圾</p>
</li>
<li><p>当一个对象没有任何变量或属性对它引用，此时我们无法操作该对象，该对象就是垃圾,这种对象过多会大量占用空间，程序减慢运行</p>
</li>
<li><p>js中有自动垃圾回收机制，自动将垃圾对象从内存中销毁，我们不需要也不能进行垃圾回收操作</p>
</li>
<li><p>当需要回收时，要设置obj=null</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对对象操作。。。。。</span></span><br><span class="line">obj=<span class="literal">null</span>;<span class="comment">//此时堆内存的obj指的对象那部分空间与obj断开联系，obj值为null，</span></span><br><span class="line"><span class="comment">// 不在为那部分空间地址， 没有东西可对它操作，所以那部分空间就是垃圾</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="数组-内置对象和正则表达式"><a href="#数组-内置对象和正则表达式" class="headerlink" title="数组,内置对象和正则表达式"></a>数组,内置对象和正则表达式</h1><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><ul>
<li><p> -数组也是对象，它和我们普通对象功能类似，也用来存值</p>
</li>
<li><p>不同的是数组使用数字作为索引（属性名）来操作元素（属性（属性名+属性值））</p>
<ul>
<li>索引：是从<strong>0开始</strong>的整数就是索引</li>
</ul>
</li>
<li><p>数组存储性能比普通对象好，开发中经常使用数组存储数据</p>
</li>
</ul>
<h3 id="创建数组对象"><a href="#创建数组对象" class="headerlink" title="创建数组对象"></a>创建数组对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>();<span class="comment">//Array();是一个构造函数</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* 像数组中添加对象</span></span><br><span class="line"><span class="comment">    语法：数组[索引]=值</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   arr[<span class="number">0</span>]=<span class="number">10</span>;</span><br><span class="line">   <span class="built_in">console</span>.log(arr);<span class="comment">//[10]</span></span><br><span class="line">   arr[<span class="number">1</span>]=<span class="number">12</span>;</span><br><span class="line">   <span class="built_in">console</span>.log(arr);<span class="comment">//[10,12]</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/* 读取数组中元素</span></span><br><span class="line"><span class="comment">   语法：数组[索引]</span></span><br><span class="line"><span class="comment">   读取不存在的索引，不报错而是返回undefined</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="built_in">console</span>.log(arr[<span class="number">0</span>],arr[<span class="number">1</span>],arr[<span class="number">2</span>]);<span class="comment">//10 12</span></span><br><span class="line"><span class="comment">/*获取数组长度 </span></span><br><span class="line"><span class="comment">    语法：数组[索引]</span></span><br><span class="line"><span class="comment">            可以使用length属性获取数组长度（元素的个数：从一开始）</span></span><br><span class="line"><span class="comment">            -语法：数组.length</span></span><br><span class="line"><span class="comment">            -对于连续数组，使用length可以获取数组长度（元素个数）</span></span><br><span class="line"><span class="comment">            对于非连续数组，使用length会获取到数组最大索引+1</span></span><br><span class="line"><span class="comment">            -尽量不要创建非连续数组*/</span></span><br><span class="line">    </span><br><span class="line">        <span class="built_in">console</span>.log(arr.length);</span><br><span class="line">        <span class="built_in">console</span>.log(arr);</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 修改length </span></span><br><span class="line"><span class="comment">        --修改的length长度大于原长度，多出部分会空出来</span></span><br><span class="line"><span class="comment">        --修改的length长度小于原长度，多出元素会被删除*/</span></span><br><span class="line"></span><br><span class="line">      arr.length = <span class="number">10</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(arr.length);</span><br><span class="line">      <span class="built_in">console</span>.log(arr); <span class="comment">//[10, 12, empty × 8]</span></span><br><span class="line"></span><br><span class="line">      arr.length = <span class="number">1</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(arr.length); <span class="comment">//1</span></span><br><span class="line">      <span class="built_in">console</span>.log(arr); <span class="comment">//[10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    向数组最后一个位置添加元素 语法：数组[arr.length]=值</span></span><br><span class="line">      arr[arr.length] = <span class="number">40</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>

<h3 id="数组字面量"><a href="#数组字面量" class="headerlink" title="数组字面量"></a>数组字面量</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用字面量创建数组</span></span><br><span class="line">        <span class="keyword">var</span> arr=[];</span><br><span class="line">        <span class="built_in">console</span>.log(arr);<span class="comment">//Array(0)</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> arr);<span class="comment">//object</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用字面量创建数组,可以在创建时就指定数组中的元素</span></span><br><span class="line">      <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">10</span>];</span><br><span class="line">      <span class="built_in">console</span>.log(arr);<span class="comment">//Array(6)</span></span><br><span class="line">      <span class="built_in">console</span>.log(arr.length);  <span class="comment">//6</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 使用构造函数也能添加元素 ,将要添加元素写在构造数参数中，逗号隔开</span></span><br><span class="line">      <span class="keyword">var</span> arr2 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(arr2);<span class="comment">//Array(3)</span></span><br><span class="line">      <span class="comment">// 创建一个数组，只有一个元素10</span></span><br><span class="line">      <span class="keyword">var</span> arr = [<span class="number">10</span>];</span><br><span class="line">      <span class="comment">// 创建一个长度为10的数组</span></span><br><span class="line">      arr2 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(arr);<span class="comment">//Array(3)</span></span><br><span class="line">      <span class="built_in">console</span>.log(arr2);<span class="comment">//Array(10)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组中元素可以是任意数据类型</span></span><br><span class="line">      arr = [<span class="string">&quot;hello&quot;</span>, <span class="number">1</span>, <span class="literal">true</span>, <span class="literal">null</span>, <span class="literal">undefined</span>];</span><br><span class="line">      <span class="built_in">console</span>.log(arr);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素也可以是对象</span></span><br><span class="line">      <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        name: <span class="string">&quot;haley&quot;</span>,</span><br><span class="line">        age: <span class="number">12</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">      arr[arr.length] = obj;</span><br><span class="line">      arr = [&#123; <span class="attr">name</span>: <span class="string">&quot;haley01&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;haley02&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;haley03&quot;</span> &#125;];</span><br><span class="line">      <span class="built_in">console</span>.log(arr);</span><br><span class="line">      <span class="built_in">console</span>.log(arr[<span class="number">2</span>].name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 元素也可以是函数</span></span><br><span class="line">      arr = [</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          alert(<span class="string">&quot;ni hao&quot;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          alert(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">      ];</span><br><span class="line">      <span class="built_in">console</span>.log(arr);</span><br><span class="line">      arr[<span class="number">0</span>]();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 元素也可以是数组</span></span><br><span class="line">      arr = [</span><br><span class="line">        [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">        [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">        [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">4</span>],</span><br><span class="line">      ]; <span class="comment">//二维数组</span></span><br><span class="line">      <span class="built_in">console</span>.log(arr);</span><br><span class="line">      <span class="built_in">console</span>.log(arr[<span class="number">2</span>]);</span><br></pre></td></tr></table></figure>

<h3 id="数组方法"><a href="#数组方法" class="headerlink" title="数组方法"></a>数组方法</h3><h4 id="普通方法"><a href="#普通方法" class="headerlink" title="普通方法"></a>普通方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建一个数组</span></span><br><span class="line"><span class="keyword">let</span> arr=[<span class="string">&quot;haley01&quot;</span>,<span class="string">&quot;haley02&quot;</span>,<span class="string">&quot;haley03&quot;</span>];</span><br><span class="line"><span class="comment">//下边操作都基于该数组</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*  1.push()</span></span><br><span class="line"><span class="comment">        -该方法可以向数组末尾添加一个或 多个元素，返回数组添加后的长度</span></span><br><span class="line"><span class="comment">        -可以将要添加的元素作为方法参数传递，这些元素会自动添加到数组末尾*/</span></span><br><span class="line">       <span class="keyword">var</span> r=arr.push(<span class="string">&quot;haley04&quot;</span>,<span class="string">&quot;haley05&quot;</span>);</span><br><span class="line">       <span class="built_in">console</span>.log(arr);<span class="built_in">Array</span>(<span class="number">5</span>)</span><br><span class="line">       <span class="built_in">console</span>.log(r);<span class="comment">//5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*2.插播 数组的原型链*/</span></span><br><span class="line">      <span class="built_in">console</span>.log(arr.__proto__ === <span class="built_in">Array</span>.prototype); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Array</span>.__proto__ === <span class="built_in">Function</span>.prototype); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Function</span>.__proto__ === <span class="built_in">Function</span>.prototype); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Object</span>.__proto__ === <span class="built_in">Function</span>.prototype); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.__proto__); <span class="comment">//null</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Function</span>.prototype.__proto__ === <span class="built_in">Object</span>.prototype);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">/*3.pop()</span></span><br><span class="line"><span class="comment">       -该方法删除数组最后一个元素</span></span><br><span class="line"><span class="comment">       -可将删除元素作为返回值返回*/</span></span><br><span class="line">      <span class="keyword">var</span> r=arr.pop();</span><br><span class="line">      <span class="built_in">console</span>.log(arr);<span class="comment">//Array(2)</span></span><br><span class="line">      <span class="built_in">console</span>.log(r);<span class="comment">//haley03</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*4.unshift（）</span></span><br><span class="line"><span class="comment">      -向数组开头添加一个或多个元素，返回新数组长度</span></span><br><span class="line"><span class="comment">      -向前边加入元素后，其他元素索引会依次调整*/</span></span><br><span class="line"><span class="keyword">var</span> r=arr.unshift(<span class="string">&quot;haley04&quot;</span>,<span class="string">&quot;haley05&quot;</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(arr);<span class="comment">//Array(5)</span></span><br><span class="line">     <span class="built_in">console</span>.log(r);<span class="comment">//5</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">/*5.shift()</span></span><br><span class="line"><span class="comment">     ---可以删除第一个索引元素，并将删除元素返回*/</span></span><br><span class="line"><span class="keyword">var</span> r = arr.shift();</span><br><span class="line">      <span class="built_in">console</span>.log(arr);<span class="comment">//Array(2)</span></span><br><span class="line">      <span class="built_in">console</span>.log(r);<span class="comment">//haley01</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//6.数组遍历  for of</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> arr)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);<span class="comment">//打印每个索引对应的值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//下边函数基于数组     </span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">&quot;孙悟空&quot;</span>, <span class="string">&quot;猪八戒&quot;</span>, <span class="string">&quot;沙和尚&quot;</span>, <span class="string">&quot;haley&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/*7.slice()</span></span><br><span class="line"><span class="comment">        ---可以从某个数组中提取指定元素,也可以用于删除原数组的元素(不会影响到原数组)</span></span><br><span class="line"><span class="comment">        -- 会将截取到的元素封装到一个新数组中返回</span></span><br><span class="line"><span class="comment">        ---参数：</span></span><br><span class="line"><span class="comment">                1.截取开始的位置的索引,包括开始索引</span></span><br><span class="line"><span class="comment">                2.截取结束的位置的索引，不包含结束索引 即[)</span></span><br><span class="line"><span class="comment">        ---第二个参数可以省略不写，此时截取从开始索引往后所有元素</span></span><br><span class="line"><span class="comment">        ---索引也可以传递负值，如果传递负值则，从后往前计算</span></span><br><span class="line"><span class="comment">                -1 倒数第一个</span></span><br><span class="line"><span class="comment">                -2 倒数第二个以后</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">	<span class="keyword">var</span> r = arr.splice(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(r);<span class="comment">//[&quot;孙悟空&quot;, &quot;猪八戒&quot;]</span></span><br><span class="line">      <span class="keyword">var</span> r=arr.splice(<span class="number">1</span>);</span><br><span class="line">      <span class="keyword">var</span> r=arr.splice(-<span class="number">1</span>);<span class="comment">//[&quot;haley&quot;]</span></span><br><span class="line">      <span class="keyword">var</span> r = arr.splice(-<span class="number">2</span>); <span class="comment">//[&quot;沙和尚&quot;, &quot;haley&quot;]</span></span><br><span class="line">      <span class="built_in">console</span>.log(r);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 8.splice()</span></span><br><span class="line"><span class="comment">      -可用于删除(替换，增加）数组中指定的元素</span></span><br><span class="line"><span class="comment">      -使用splice（）会影响到原数组，会将指定元素从原数组中删除</span></span><br><span class="line"><span class="comment">      并将删除的元素作为返回值返回</span></span><br><span class="line"><span class="comment">      --参数：第一个：开始位置索引</span></span><br><span class="line"><span class="comment">             第二个：删除的数量</span></span><br><span class="line"><span class="comment">            第三个及以后。。可以传递一些新元素，这些元素会将自动插入到开始位置索引前边</span></span><br><span class="line"><span class="comment">       ---重要*/</span></span><br><span class="line"> 	  arr.splice(<span class="number">0</span>,<span class="number">2</span>);<span class="comment">//此时的arr[&quot;沙和尚&quot;, &quot;haley&quot;]</span></span><br><span class="line">      <span class="keyword">var</span> r=arr.splice(<span class="number">0</span>,<span class="number">2</span>);<span class="comment">//返回的r为[&quot;孙悟空&quot;, &quot;猪八戒&quot;]</span></span><br><span class="line">      <span class="keyword">var</span> r=arr.splice(<span class="number">0</span>,<span class="number">1</span>,<span class="string">&quot;haley01&quot;</span>);<span class="comment">//[&quot;haley01&quot;, &quot;猪八戒&quot;, &quot;沙和尚&quot;, &quot;haley&quot;]  把&quot;孙悟空&quot;删了的arr结果</span></span><br><span class="line">      <span class="keyword">var</span> r = arr.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="string">&quot;star&quot;</span>, <span class="string">&quot;apple&quot;</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(arr);<span class="comment">// [&quot;孙悟空&quot;, &quot;star&quot;, &quot;apple&quot;, &quot;猪八戒&quot;, &quot;沙和尚&quot;, &quot;haley&quot;]</span></span><br><span class="line">	  <span class="built_in">console</span>.log(r)<span class="comment">// []</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可能会基于下边三个数组</span></span><br><span class="line">	  <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">      <span class="keyword">var</span> arr1 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">      <span class="keyword">var</span> arr3 = [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line">      <span class="comment">/*  9.concat()可以连接两个或多个数组，并将新数组返回</span></span><br><span class="line"><span class="comment">            ---该方法不会对原数组产生影响</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">      <span class="keyword">var</span> r = arr.concat(arr1, arr3, <span class="number">10</span>, <span class="number">11</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(r);<span class="comment">//[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 10. join（）</span></span><br><span class="line"><span class="comment">       --该方法可以将数组转为字符串</span></span><br><span class="line"><span class="comment">       --该方法不会对原数组产生影响，而是将转换后的字符串作为结果返回</span></span><br><span class="line"><span class="comment">        --在join中可以指定一个字符串作为参数，这个字符串会成为数组中元素的连字符最终组成字符串</span></span><br><span class="line"><span class="comment">            如果不指定字符串，则默认为逗号连接每个元素为字符串</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">var</span> arr2 = [<span class="string">&quot;si&quot;</span>, <span class="string">&quot;pc&quot;</span>, <span class="string">&quot;haley&quot;</span>];</span><br><span class="line">      <span class="keyword">var</span> r = arr2.join();</span><br><span class="line">      <span class="built_in">console</span>.log(r);<span class="comment">//si,pc,haley</span></span><br><span class="line">	  <span class="keyword">var</span> r2=arr2.join(<span class="string">&quot;!&quot;</span>)</span><br><span class="line">      <span class="built_in">console</span>.log(r2);<span class="comment">//si!pc!haley</span></span><br><span class="line">	  <span class="keyword">var</span> r3=arr3.join(<span class="string">&quot;&quot;</span>);</span><br><span class="line">	  <span class="built_in">console</span>.log(r3);<span class="comment">//sipchaley</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*11. </span></span><br><span class="line"><span class="comment">	  reverse（） </span></span><br><span class="line"><span class="comment">      --该方法用于反转数组（前边去后边，后边去前边）</span></span><br><span class="line"><span class="comment">      ---该方法会直接改变原数组</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">      <span class="keyword">var</span> arr2 = [<span class="string">&quot;si&quot;</span>, <span class="string">&quot;pc&quot;</span>, <span class="string">&quot;haley&quot;</span>];</span><br><span class="line">      <span class="keyword">let</span> r5 = arr2.reverse();</span><br><span class="line">      <span class="built_in">console</span>.log(arr2);<span class="comment">//[&quot;haley&quot;, &quot;pc&quot;, &quot;si&quot;]</span></span><br><span class="line">      <span class="built_in">console</span>.log(r);<span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 12.sort()</span></span><br><span class="line"><span class="comment">        --可以用于数组中元素排序</span></span><br><span class="line"><span class="comment">        --会影响原数组，默认按照Unicode编码进行排序</span></span><br><span class="line"><span class="comment">        --所以对数字进行排序也可能得错误结果，可自己指定结果进行排序</span></span><br><span class="line"><span class="comment">            我们可以在sort（）括号中添加一个回调函数，来指定排序规则</span></span><br><span class="line"><span class="comment">                    回调函数需要两个形参，</span></span><br><span class="line"><span class="comment">                    浏览器会分别使用数组中的元素作为实参去调用回调函数</span></span><br><span class="line"><span class="comment">                    使用哪个元素调用不确定，但在数组中a一定在b前面</span></span><br><span class="line"><span class="comment">                  -- 浏览器会根据调用函数的返回值来决定元素顺序。</span></span><br><span class="line"><span class="comment">                            如果返回一个大于0的值，则元素交换</span></span><br><span class="line"><span class="comment">                            如果返回一个等于0的值，则元素相等，不交换</span></span><br><span class="line"><span class="comment">                            如果返回一个小于0的值，则元素不变</span></span><br><span class="line"><span class="comment">                --升序  函数中：return a-b；</span></span><br><span class="line"><span class="comment">                  降序  函数中：return b-a；</span></span><br><span class="line"><span class="comment">        --大的在前，小的在后，调reverse ()</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">var</span> arr2 = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>];</span><br><span class="line">      arr2.sort();</span><br><span class="line">      <span class="built_in">console</span>.log(arr2);<span class="comment">//[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span></span><br><span class="line">      <span class="keyword">var</span> arr5 = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">11</span>, <span class="number">5</span>, <span class="number">2</span>];</span><br><span class="line">      arr5.sort();</span><br><span class="line">      <span class="built_in">console</span>.log(arr5);<span class="comment">//[11, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*13</span></span><br><span class="line"><span class="comment">	toString()方法</span></span><br><span class="line"><span class="comment">	把数组转换为数组值（逗号分隔）的字符串  join更好用</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;demo&quot;</span>).innerHTML = fruits.toString();</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">14 删除数组元素 </span></span><br><span class="line"><span class="comment">	delete fruits[0]   把 fruits 中的首个元素改为 undefined</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line"><span class="keyword">delete</span> fruits[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>

<h4 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h4><p><strong>对于空数组没有用,不会改变原数组</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//1. forEach遍历</span></span><br><span class="line"> <span class="comment">/* 遍历数组可以用forEach()</span></span><br><span class="line"><span class="comment">        方法：</span></span><br><span class="line"><span class="comment">    这里arr是个数组arr.forEach(function(value,index,obj,d)&#123;</span></span><br><span class="line"><span class="comment">            console.log(value);</span></span><br><span class="line"><span class="comment">        &#125;);</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        -需要一个函数作为参数</span></span><br><span class="line"><span class="comment">        -这种函数，由我们创建但不由我们调用，称为回调函数</span></span><br><span class="line"><span class="comment">        -数组中有几个元素函数就会执行几次，每次执行时，浏览器会将遍历的元素</span></span><br><span class="line"><span class="comment">            以实参形式传递进来，我们可以定义形参读取这些元素</span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">        --浏览器会在回调函数中传递三个参数：</span></span><br><span class="line"><span class="comment">                第一个参数：当前正在遍历的元素(必传)</span></span><br><span class="line"><span class="comment">                第二个参数：当前正在遍历的元素的索引</span></span><br><span class="line"><span class="comment">                第三个参数：就是正在遍历的数组</span></span><br><span class="line"><span class="comment">         -- 返回值为undefined</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">      <span class="comment">// 创建一个数组</span></span><br><span class="line">      <span class="keyword">var</span> arr = [<span class="string">&quot;haley01&quot;</span>, <span class="string">&quot;haley02&quot;</span>, <span class="string">&quot;haley03&quot;</span>, <span class="string">&quot;haley04&quot;</span>];</span><br><span class="line">      arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">value, index, obj, d</span>) </span>&#123;</span><br><span class="line">          <span class="comment">//一般在这个函数中对拿到的数据操作</span></span><br><span class="line">        <span class="built_in">console</span>.log(value);<span class="comment">//haley01 haley02 ...</span></span><br><span class="line">        <span class="built_in">console</span>.log(index);<span class="comment">//0 1 2 3</span></span><br><span class="line">        <span class="built_in">console</span>.log(obj);<span class="comment">//Array(4)</span></span><br><span class="line">        <span class="built_in">console</span>.log(d);<span class="comment">//undefined</span></span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>2.filter() <strong>过滤方法</strong>返回一个新的数组</strong>，新数组中的元素是通过检查指定数组中符合条件的所有元素。</p>
<ul>
<li><p>回调函数的参数规则:</p>
<p>currentValue 必需。当前元素； index  可选。当前元素的索引值； arr 可选。当前元素所属的数组对象。</p>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ages=[<span class="number">12</span>,<span class="number">18</span>,<span class="number">16</span>,<span class="number">40</span>]</span><br><span class="line"><span class="built_in">console</span>.log(ages.filter(<span class="function"><span class="params">item</span>=&gt;</span>item&gt;<span class="number">18</span>));<span class="comment">//返回条件为真的数组</span></span><br><span class="line"><span class="comment">//输出[40]</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p><strong>3.map()</strong> 映射方法**返回一个新数组,**数组中的元素为原始数组元素调用函数处理后的值</p>
<ul>
<li>回调函数的参数规则:与filter一样</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers=[<span class="number">65</span>,<span class="number">44</span>,<span class="number">12</span>,<span class="number">4</span>];</span><br><span class="line"><span class="built_in">console</span>.log(numbers.map(<span class="function"><span class="params">item</span>=&gt;</span>item*<span class="number">10</span>))</span><br><span class="line"><span class="comment">//输出 [650,440,120,40]</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p><strong>4.some()</strong></p>
<ul>
<li><p>判断是否含有符合条件的元素，<strong>返回布尔值</strong></p>
</li>
<li><p>some() 方法用于检测数组中的元素是否满足指定条件（函数提供）。</p>
</li>
<li><p>some() 方法会依次执行数组的每个元素：</p>
<ul>
<li>如果<strong>有一个元素满足条件，</strong>则表达式<strong>返回true</strong> , 剩余的元素不会再执行检测。</li>
<li>如果没有满足条件的元素，则返回false。</li>
</ul>
</li>
<li><p>回调函数参数规则同上</p>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ages=[<span class="number">3</span>,<span class="number">10</span>,<span class="number">18</span>,<span class="number">20</span>];</span><br><span class="line"><span class="built_in">console</span>.log(ages.some(<span class="function"><span class="params">item</span>=&gt;</span>item&gt;<span class="number">28</span>))</span><br><span class="line"><span class="comment">//false</span></span><br><span class="line"><span class="keyword">var</span> ages=[<span class="number">3</span>,<span class="number">10</span>,<span class="number">18</span>,<span class="number">20</span>];</span><br><span class="line"><span class="built_in">console</span>.log(ages.some(<span class="function"><span class="params">item</span>=&gt;</span>item&lt;<span class="number">28</span>))<span class="comment">//true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>**5.every()**判断是否全部元素符合条件，返回布尔值</p>
<ul>
<li>every() 方法用于检测数组所有元素是否都符合指定条件（通过函数提供）。</li>
<li>every() 方法使用指定函数检测数组中的所有元素：<ul>
<li>如果数组中检测到<strong>有一个元素不满足</strong>，则整个表达式<strong>返回 false</strong> ，且剩余的元素不会再进行检测。</li>
<li>如果所有元素都满足条件，则返回 true。</li>
</ul>
</li>
<li>回调函数参数规则同上</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> ages = [<span class="number">32</span>, <span class="number">33</span>, <span class="number">16</span>, <span class="number">40</span>];</span><br><span class="line"><span class="built_in">console</span>.log(ages.every(<span class="function"><span class="params">item</span>=&gt;</span>item&gt;<span class="number">18</span>))</span><br><span class="line"><span class="comment">//false</span></span><br><span class="line"><span class="keyword">var</span> ages = [<span class="number">32</span>, <span class="number">33</span>, <span class="number">16</span>, <span class="number">40</span>];</span><br><span class="line"><span class="built_in">console</span>.log(ages.every(<span class="function"><span class="params">item</span>=&gt;</span>item&gt;<span class="number">14</span>))</span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>**6.reduce()**累加</p>
<ul>
<li>reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。</li>
<li><strong>回调函数参数</strong>：<strong>total  必需</strong>。初始值, 或者计算结束后的返回值；<strong>currentValue 必需</strong>。当前元素； index  可选。当前元素的索引值； arr 可选。当前元素所属的数组对象。</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[&#123;<span class="attr">price</span>:<span class="number">30</span>,<span class="attr">count</span>:<span class="number">2</span>&#125;,&#123;<span class="attr">price</span>:<span class="number">40</span>,<span class="attr">count</span>:<span class="number">3</span>&#125;,&#123;<span class="attr">price</span>:<span class="number">50</span>,<span class="attr">count</span>:<span class="number">5</span>&#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span>  sum=arr.reduce(<span class="function">(<span class="params">total,item</span>)=&gt;</span>total+item.price*item.count,<span class="number">0</span>);<span class="comment">//0将作为实参会赋值给回调函数total</span></span><br><span class="line"><span class="built_in">console</span>.log(sum)<span class="comment">//430</span></span><br></pre></td></tr></table></figure>



<h2 id="内置对象"><a href="#内置对象" class="headerlink" title="内置对象"></a>内置对象</h2><h3 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h3><ul>
<li>Date对象可以表示时间</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*创建一个Date对象</span></span><br><span class="line"><span class="comment">      如果直接使用构造函数创建一个Date对象,则会封装为当前代码执行的时间</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"> <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(d);<span class="comment">//Thu Apr 22 2021 15:20:18 GMT+0800 (中国标准时间)</span></span><br><span class="line"></span><br><span class="line">   	   <span class="comment">// 创建一个指定时间对象</span></span><br><span class="line">        <span class="comment">// 需要在构造函数中传递一个表示时间的字符串作为参数</span></span><br><span class="line">        <span class="comment">// 日期格式： 月份/日/年   时：分：秒</span></span><br><span class="line">        <span class="keyword">var</span> d2=<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&quot;12/03/2016  11:10:30&quot;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(d2); <span class="comment">//Sat Dec 03 2016 11:10:30 GMT+0800 (中国标准时间)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>Date对象方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">getDate();</span><br><span class="line">         ---获取当前日期对象是几日</span><br><span class="line">     getDay();</span><br><span class="line">         --获取当前对象是周几</span><br><span class="line">         --会返回<span class="number">0</span>-<span class="number">6</span>的值；<span class="number">0</span>为周日 <span class="number">1</span>为周一</span><br><span class="line">     getMonth();</span><br><span class="line">         --获取当前对象月份</span><br><span class="line">         --会返回<span class="number">0</span>-<span class="number">11</span>值，<span class="number">0</span>表示<span class="number">1</span>月，<span class="number">11</span>表示<span class="number">12</span>月,可给month+<span class="number">1</span></span><br><span class="line">     getFullYear();</span><br><span class="line">         --获取当前年份</span><br><span class="line">     getTime();</span><br><span class="line">         --获取当前时间戳</span><br><span class="line">         --时间戳：是格林威治标准时间的<span class="number">1970</span>年 <span class="number">1</span>月<span class="number">1</span>日<span class="number">0</span>时<span class="number">0</span>秒到开始到</span><br><span class="line">             当前日期所花费毫秒数（1s=1000ms)</span><br><span class="line">         --计算机底层在保存时间时使用时间戳</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">   <span class="keyword">var</span> d2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&quot;12/03/2016  11:10:30&quot;</span>);</span><br><span class="line">  </span><br><span class="line"><span class="keyword">var</span> date = d.getDate();<span class="comment">//当前日期</span></span><br><span class="line">   <span class="keyword">var</span> date1 = d2.getDate();<span class="comment">//03</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;date=&quot;</span> + date);</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;date1=&quot;</span> + date1);</span><br><span class="line">  </span><br><span class="line">   <span class="keyword">var</span> day = d.getDay();<span class="comment">//当前星期</span></span><br><span class="line">   <span class="keyword">var</span> day1 = d2.getDay();<span class="comment">//6</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;day=&quot;</span> + day);</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;day1=&quot;</span> + day1);</span><br><span class="line">  </span><br><span class="line">   <span class="keyword">var</span> month = d.getMonth();<span class="comment">//当前月-1</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;month=&quot;</span> + month);<span class="comment">//12-1</span></span><br><span class="line">  </span><br><span class="line">   <span class="keyword">var</span> year = d2.getFullYear();<span class="comment">//2016</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;month=&quot;</span> + year);</span><br><span class="line">  </span><br><span class="line">   <span class="keyword">var</span> time = d2.getTime();<span class="comment">//1480734630000</span></span><br><span class="line">   <span class="built_in">console</span>.log(time);</span><br><span class="line">   <span class="built_in">console</span>.log(time / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span> / <span class="number">365</span>); <span class="comment">//求距离1970年的年份</span></span><br></pre></td></tr></table></figure>

<p><strong>可以使用时间戳测试代码性能</strong></p>
<p><strong>星期是只有周日为0,但是月份从一月开始就是0</strong></p>
</li>
</ul>
<h3 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h3><blockquote>
<p>Math：</p>
<ul>
<li><p>Math和其他对象不同，它不是一个构造函数</p>
</li>
<li><p>它属于一个工具类，不用创建对象，它里边封装了相关属性和方法</p>
</li>
<li><p>属性：Math.PI 表示圆周率，还有很多属性，大写的</p>
</li>
<li><p>方法：</p>
<ul>
<li><p>Math.abs()可以用来计算一个数绝对值</p>
</li>
<li><p>Math.ceil()可以对一个数进行向上取整数，小数位有值向上进一，除1.0  (<strong>ceil为天花板向上取</strong>)</p>
</li>
<li><p>Math.floor()可以对一个数向下取整数</p>
</li>
<li><p>Math.round()可以对一个数四舍五入</p>
</li>
<li><p>Math.random()用于生成0-1之间随机数，无0无1</p>
<ul>
<li>生成一个0-x随机数Math.random()<em>x</em></li>
<li>取0，x：Math.round(Math.random()*x))</li>
<li>生成x到y之间随机数  </li>
</ul>
<p>​            <code>console.log(Math.round(Math.random()*(y-x)+x))</code></p>
</li>
<li><p>Math.max(10,20,30) 获取最大值，min时获取最小值</p>
</li>
<li><p>Math.pow(x,y)返回x的y次幂</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> max = <span class="built_in">Math</span>.max(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(max);</span><br><span class="line">    <span class="keyword">var</span> min = <span class="built_in">Math</span>.min(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(min);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">2</span>));</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.sqrt(<span class="number">4</span>)); <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.PI); <span class="comment">//3.141592653589793</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.abs(<span class="literal">NaN</span>)); <span class="comment">//1</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.3</span>)); <span class="comment">//2</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">1.95</span>)); <span class="comment">//1</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">1.8</span>)); <span class="comment">//2</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.random());</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h3><blockquote>
<ul>
<li><p>  js中为我们提供三个包装类 可以将基本数据类型转换为对象</p>
</li>
<li><p>String()可以将基本数据类型字符串转换为String对象</p>
</li>
<li><p>Number()可以将基本数据类型数字转换为Number对象</p>
</li>
<li><p>Boolean()可以将基本数据类型布尔值转换为Boolean对象</p>
</li>
<li><p>但是注意，实际开发不会使用基本数据类型对象</p>
</li>
</ul>
<p>​            如果使用基本数据类型对象，可能会带来不可预料结果</p>
<ul>
<li> 方法和属性只能添加给对象，不能加给基本数据类型</li>
</ul>
<ul>
<li>当我们对一些基本数据类型值去调用属性和方法时,浏览器会临时使用包装类将其转换为对象，然后在对对象调用属性方法,调用完后，再转回来</li>
</ul>
</blockquote>
<h3 id="字符串相关方法"><a href="#字符串相关方法" class="headerlink" title="字符串相关方法"></a>字符串相关方法</h3><blockquote>
<ul>
<li><p><strong>字符串方法大多不影响字符串本身</strong></p>
</li>
<li><p>在底层字符串以字符数组形式保存[“h”，“e”，“l”，“l”，“o”。。 ]</p>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str=<span class="string">&quot;hello haley&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.length可以用来获取字符串长度</span></span><br><span class="line"><span class="built_in">console</span>.log(str.length);<span class="comment">//11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.CharAt（）可以返回指定位置的字符 根据索引获取指定字符</span></span><br><span class="line"><span class="built_in">console</span>.log(str.charAt(<span class="number">0</span>));<span class="comment">//h</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.charCodeAt()获取指定位置字符  unicode编码（16进制）</span></span><br><span class="line"><span class="built_in">console</span>.log(str.charAtCode(<span class="number">0</span>))<span class="comment">//104  h UNicode编码为104</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4. String.fromCharCode（） 可根据字符编码获取字符</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCharCode(<span class="number">104</span>)); <span class="comment">//h 通过构造函数名，即构造函数对象调用，不是创建的对象调用</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCharCode(<span class="number">0x1020</span>));<span class="comment">//ဠ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//5.concat用于连接字符串</span></span><br><span class="line"><span class="built_in">console</span>.log(str.concat(<span class="string">&quot; &quot;</span>, <span class="string">&quot;haha&quot;</span>));<span class="comment">//hello haley haha</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*6.indexof() 可以检索一个字符串中是否含有指定内容</span></span><br><span class="line"><span class="comment">		如果含有该字符则返回该字符索引(0 1 2 3 ...)，如果没有该字符返回-1</span></span><br><span class="line"><span class="comment">        可以指定一个第二个参数，指定开始查找位置</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">	  <span class="built_in">console</span>.log(str.indexOf(<span class="string">&quot;h&quot;</span>)); <span class="comment">//0索引位置</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.indexOf(<span class="string">&quot;f&quot;</span>)); <span class="comment">//-1</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.indexOf(<span class="string">&quot;h&quot;</span>, <span class="number">1</span>)); <span class="comment">//6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*7.lastIndexof（）  和indexof()一样，不过它为从后往前找  </span></span><br><span class="line"><span class="comment">                            也可以指定第二个参数，指定开始查找位置*/</span></span><br><span class="line">	  <span class="built_in">console</span>.log(str.lastIndexOf(<span class="string">&quot;h&quot;</span>)); <span class="comment">//6 索引位置</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.lastIndexOf(<span class="string">&quot;h&quot;</span>, <span class="number">5</span>)); <span class="comment">//0 索引位置</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.lastIndexOf(<span class="string">&quot;f&quot;</span>)); <span class="comment">//-1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//8.下边3个均为截取字符串</span></span><br><span class="line"><span class="comment">/* 1. slice()  可以从字符串中截取指定内容    不影响原字符串</span></span><br><span class="line"><span class="comment">                    第一个参数：开始位置索引（包括）</span></span><br><span class="line"><span class="comment">                    第二个：结束位置索引（不包括）</span></span><br><span class="line"><span class="comment">                            如果省略第二个参数，会取到后边所有的</span></span><br><span class="line"><span class="comment">                   也可以传递一个参数，负数会从后边开始计算*/</span></span><br><span class="line">	  <span class="built_in">console</span>.log(str.slice(<span class="number">3</span>)); <span class="comment">//lo haley</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.slice(-<span class="number">3</span>)); <span class="comment">//ley</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.slice(<span class="number">4</span>, -<span class="number">3</span>)); <span class="comment">//o ha</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2. substring()   可以用来截取字符串 与slice相似</span></span><br><span class="line"><span class="comment">                 第一个参数：开始位置索引（包括）</span></span><br><span class="line"><span class="comment">                 第二个：结束位置索引（不包括）</span></span><br><span class="line"><span class="comment">            不同的是此方法不能接受负值作为参数，传递一个负值，则默认为0</span></span><br><span class="line"><span class="comment">        而且会自动调整参数位置，如果第二个参数小于第一个，则交换两参数位置</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">	  <span class="built_in">console</span>.log(str.substring(<span class="number">4</span>, <span class="number">5</span>)); <span class="comment">//o</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.substring(<span class="number">4</span>)); <span class="comment">//o haley</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.substring(-<span class="number">1</span>)); <span class="comment">//hello haley</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*3.substr() 截取字符串</span></span><br><span class="line"><span class="comment">         第一个参数：截取开始位置索引</span></span><br><span class="line"><span class="comment">         第二个：截取字符串长度   */</span></span><br><span class="line"><span class="built_in">console</span>.log(str.substr(<span class="number">1</span>, <span class="number">3</span>)); <span class="comment">//ell</span></span><br><span class="line"><span class="built_in">console</span>.log(str.substr(-<span class="number">1</span>));<span class="comment">//y</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*9.split() 可以将一个字符串转为数组</span></span><br><span class="line"><span class="comment">           参数：需要一个字符串作为参数，将会根据该字符串拆分分组</span></span><br><span class="line"><span class="comment">          如果传一个空串将每个字符都拆分为一个数组中元素</span></span><br><span class="line"><span class="comment">与数组的join方法相对应   join可将数组转为字符串        </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"> 	  <span class="built_in">console</span>.log(str.split(<span class="string">&quot; &quot;</span>)); <span class="comment">//[&quot;hello&quot;, &quot;haley&quot;]</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.split(<span class="string">&quot;h&quot;</span>)); <span class="comment">//[&quot;&quot;, &quot;ello &quot;, &quot;aley&quot;]</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.split(<span class="string">&quot;&quot;</span>)); <span class="comment">//[&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;, &quot; &quot;, &quot;h&quot;, &quot;a&quot;, &quot;l&quot;, &quot;e&quot;, &quot;y&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*10 大写和小写转化的函数</span></span><br><span class="line"><span class="comment">toUpperCase():将字符串转为大写返回 不影响原字符串</span></span><br><span class="line"><span class="comment">toLowerCase()：将字符串转为小写返回 不影响原字符串*/</span></span><br><span class="line"> 	  <span class="built_in">console</span>.log(str.toLowerCase()); <span class="comment">//hello haley</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.toUpperCase()); <span class="comment">//HELLO HALEY</span></span><br><span class="line"><span class="comment">//11. search() 方法搜索特定值的字符串 返回第一次出现的索引位置 不改变原字符串</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//12. replace()方法可以替换字符串的字符串,默认只替换首个匹配(不匹配大小写,只能使用字符串所含有的字符串),该方法方法不会改变调用它的字符串。它返回的是新字符串。</span></span><br><span class="line">str = <span class="string">&quot;Please visit Microsoft and Microsoft!&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> n = str.replace(<span class="string">&quot;Microsoft&quot;</span>, <span class="string">&quot;W3School&quot;</span>);</span><br><span class="line">	</span><br><span class="line"><span class="comment">//13. trim() 删除字符串两端空白</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;       Hello World!        &quot;</span>;</span><br><span class="line">alert(str.trim());<span class="comment">//Hello World</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><h3 id="正则表达式01"><a href="#正则表达式01" class="headerlink" title="正则表达式01"></a>正则表达式01</h3><blockquote>
<p>正则表达式：</p>
<ul>
<li>计算机可根据正则表达式，来检查一个字符串是否符号规则</li>
<li>获取字符串中符合规则内容提取出来</li>
</ul>
</blockquote>
<blockquote>
<p>正则表达式创建和测试</p>
<ul>
<li>语法：<code>var 变量=new RegExp（&quot;正则表达式&quot;,&quot;匹配格式&quot;）</code><ul>
<li> typeof测试正则表达式，返回object</li>
<li>  <code>var reg=new RegExp(&quot;a&quot;);</code> 这个正则表达式用来检测一个字符串是否<strong>含有</strong>a</li>
<li>在构造函数中可以传递一个匹配格式作为第二个参数，可以是：<ul>
<li>i：忽略大小写</li>
<li>g：全局匹配模式</li>
</ul>
</li>
</ul>
</li>
<li>方法：test（）<ul>
<li>使用这个方法用来检查一个字符串是否符合正则表达式规则</li>
<li>如果符合返回true，不符合返回false</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="keyword">typeof</span> reg);<span class="comment">//object</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg);<span class="comment">// /haley/</span></span><br><span class="line">       <span class="keyword">var</span> str=<span class="string">&quot;a&quot;</span>;</span><br><span class="line">       <span class="keyword">var</span> result=reg.test(str);</span><br><span class="line">       <span class="built_in">console</span>.log(result);<span class="comment">//true</span></span><br><span class="line">       result=reg.test(<span class="string">&quot;Abcd&quot;</span>);<span class="comment">//false</span></span><br><span class="line">       <span class="built_in">console</span>.log(result);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">        reg=<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&quot;ab&quot;</span>,<span class="string">&quot;i&quot;</span>);</span><br><span class="line">        result=reg.test(<span class="string">&quot;Abdf&quot;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(result);<span class="comment">//true</span></span><br><span class="line">        result=reg.test(<span class="string">&quot;Adjk&quot;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(result);<span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h3 id="正则表达式02"><a href="#正则表达式02" class="headerlink" title="正则表达式02"></a>正则表达式02</h3><blockquote>
<p>使用字面量创建正则表达式：</p>
<ul>
<li>语法：<code>var 变量=/正则表达式/匹配格式</code></li>
<li>使用字面量创建更加简单，使用构造函数更加灵活，因为<strong>构造函数中可以是变量，字面量不可以</strong></li>
<li>常用语法<ul>
<li>使用|表示或者思想</li>
<li>[]里的内容也是或的关系 [ab]===a|b </li>
<li>[a-z]表示任意小写字母</li>
<li>[A-Z]表示任意大写字母</li>
<li>[A-Z]/i：表示忽略大小写</li>
<li>[A-z]：表示任意字母,和大小写</li>
<li><code>[^ab]</code>: 表示除了ab，a或b以外还有其他东西都返回true，否则返回false</li>
<li>[0-9] 任意数字 </li>
<li><code>[^0-9]</code>除了0-9返回true</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="built_in">RegExp</span>(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;i&quot;</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;vdfA&quot;</span>));<span class="comment">//true</span></span><br><span class="line">      </span><br><span class="line">      <span class="keyword">var</span> reg1=<span class="regexp">/ab/i</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(reg1.test(<span class="string">&quot;gjdba&quot;</span>));<span class="comment">//false</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">typeof</span> reg1);<span class="comment">//object</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//    创建一个正则表达式检查有a或b或c</span></span><br><span class="line">       <span class="keyword">var</span> reg2=<span class="regexp">/a|b|c/</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(reg2.test(<span class="string">&quot;bdfg&quot;</span>));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">       <span class="keyword">var</span> reg=<span class="regexp">/[a-z]/</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;dvdd&quot;</span>));<span class="comment">//true</span></span><br><span class="line">       <span class="comment">// 检查一个字符串中是否含有abc，aec或adc</span></span><br><span class="line">       reg=<span class="regexp">/a[be]c/</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;aec&quot;</span>));<span class="comment">//true</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;aee&quot;</span>));<span class="comment">//false</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abec&quot;</span>));<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">       reg=<span class="regexp">/[^ad]/</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;a&quot;</span>));<span class="comment">//false</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;AD&quot;</span>));<span class="comment">//true</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;daefe&quot;</span>));<span class="comment">//true</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;ad&quot;</span>));<span class="comment">//false</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;efe&quot;</span>));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">       reg=<span class="regexp">/[^0-9]/</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="number">123</span>));<span class="comment">//false</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="number">1</span>));<span class="comment">//false</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;123&quot;</span>));<span class="comment">//false</span></span><br><span class="line">       <span class="built_in">console</span>.log(reg.test(<span class="literal">true</span>));<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h3 id="正则表达式03"><a href="#正则表达式03" class="headerlink" title="正则表达式03"></a>正则表达式03</h3><blockquote>
<p>量词:  </p>
<ul>
<li>通过常量可以设置一个内容出现的次数</li>
<li><strong>量词只对它前边的一个内容起作用</strong></li>
<li>量词:<ul>
<li>{n}正好出现的n的次数,找有没有</li>
<li>{m,n}字符串中该字符出现m到n次返回true</li>
<li>{m,}m次以上</li>
<li>ab+c 至少一个b</li>
<li><code>*</code> 0个或多个</li>
<li>? 表示0个或一个</li>
<li>^表示开头</li>
<li>如果正则表达式中同时使用^ $则表示必须完全符合正则表达式</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a&#123;3&#125;/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;sdaaaa&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="comment">//    找ababab</span></span><br><span class="line">     reg = <span class="regexp">/ab&#123;3&#125;/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;ababab&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abbbb&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     reg = <span class="regexp">/(ab)&#123;3&#125;/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abababa&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     reg = <span class="regexp">/ab&#123;3&#125;c/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abbbcdff&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">     reg = <span class="regexp">/ab&#123;1,3&#125;c/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;acacbbbb&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abcacbfbdeb&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abbcbb&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">     reg = <span class="regexp">/ab&#123;3,&#125;/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abc&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abbbbc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">     reg = <span class="regexp">/ab+c/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abbbc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;bbcc&quot;</span>)); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">     reg = <span class="regexp">/ab*c/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;aaabbcc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;acc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;ac&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">     reg = <span class="regexp">/ab?c/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;acc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;abbbbcc&quot;</span>)); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 检查一个字符串是否含有a,不能检查开头</span></span><br><span class="line">     reg = <span class="regexp">/a/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;acc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;bac&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//检查一个字符串是否以a开头</span></span><br><span class="line">     reg = <span class="regexp">/^a/</span>; <span class="comment">//匹配开头a</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;bac&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;acc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">     reg = <span class="regexp">/a$/</span>; <span class="comment">//匹配结尾a</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;acc&quot;</span>)); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;cca&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">     reg = <span class="regexp">/^a$/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;a&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;aaa&quot;</span>)); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">     reg = <span class="regexp">/^a|a$/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;cca&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;acc&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(reg.test(<span class="string">&quot;bbac&quot;</span>)); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 创建一个正则表达式，检查是否为手机号</span></span><br><span class="line">     <span class="comment">/* </span></span><br><span class="line"><span class="comment">   手机号：1开头 11位</span></span><br><span class="line"><span class="comment">           第二位：3-9</span></span><br><span class="line"><span class="comment">           三位以后任意数字，9个</span></span><br><span class="line"><span class="comment">           ^1  [3-9]  [0-9]&#123;9&#125;$   $表示手机号结尾，之后不能有其他数字</span></span><br><span class="line"><span class="comment">           正则表达式中不能随意加空格否则结果不正确</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">     <span class="keyword">var</span> phonenum = <span class="string">&quot;13834204796&quot;</span>;</span><br><span class="line">     <span class="keyword">var</span> phoneReg = <span class="regexp">/^1[3-9][0-9]&#123;9&#125;$/</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(phoneReg.test(<span class="string">&quot;13834204796&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(phoneReg.test(<span class="string">&quot;12834204796&quot;</span>)); <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h3 id="正则表达式与字符串"><a href="#正则表达式与字符串" class="headerlink" title="正则表达式与字符串"></a>正则表达式与字符串</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* split</span></span><br><span class="line"><span class="comment">        -可以 将字符串拆成数组</span></span><br><span class="line"><span class="comment">        -方法可以传递一个正则表达式做参数，方法将根据正则表达式拆分字符串</span></span><br><span class="line"><span class="comment">        -这个方法即使不指定全局，也会全都拆分</span></span><br><span class="line"><span class="comment">          search</span></span><br><span class="line"><span class="comment">          -可以搜索字符串中是否含有指定内容</span></span><br><span class="line"><span class="comment">          -如果搜索到指定内容，则会返回第一次出现的索引，如果没有则返回-1</span></span><br><span class="line"><span class="comment">          -它可接受一个正则表达式，然后根据正则表达式搜索字符串</span></span><br><span class="line"><span class="comment">          search只会查找第一个，即使设全局也没用</span></span><br><span class="line"><span class="comment">          match</span></span><br><span class="line"><span class="comment">          -可以根据正则表达式，从一个字符串中将符合条件的内容提取出来</span></span><br><span class="line"><span class="comment">          -默认情况下我们的match只会找到第一个符合要求内容，找到后停止检索</span></span><br><span class="line"><span class="comment">            我们可以设置正则表达式全局匹配，这样会匹配到所有内容</span></span><br><span class="line"><span class="comment">            可以为一个正则表达式设置多个匹配模式，顺序无所谓gi等于ig</span></span><br><span class="line"><span class="comment">          -match()会将匹配到的内容封装到一个数组中返回，即使只查到一个结果</span></span><br><span class="line"><span class="comment">          replace</span></span><br><span class="line"><span class="comment">            --可以将字符串中指定内容替换为新内容</span></span><br><span class="line"><span class="comment">            --参数：1.被替换内容，可以接受一个正则表达式为参数</span></span><br><span class="line"><span class="comment">                    2.新的内容</span></span><br><span class="line"><span class="comment">            --默认只替换第一个</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line"> <span class="comment">//    根据任意字母拆分字符串</span></span><br><span class="line">      str = <span class="string">&quot;hello aec adc&quot;</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(str.split(<span class="regexp">/a/</span>));<span class="comment">///[&quot;hello &quot;, &quot;ec &quot;, &quot;dc&quot;]</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.search(<span class="regexp">/a[be]c/</span>)); <span class="comment">//6</span></span><br><span class="line">      str = <span class="string">&quot;1a2b3c4d5f6G7H&quot;</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(str.match(<span class="string">&quot;a&quot;</span>));</span><br><span class="line">      <span class="built_in">console</span>.log(str.match(<span class="regexp">/[a-z]/g</span>)); <span class="comment">//取出小写字母</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.match(<span class="regexp">/[a-z]/gi</span>));</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(str.match(<span class="regexp">/[a-z]/gi</span>))); <span class="comment">//true</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.replace(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;%%&quot;</span>));</span><br><span class="line">      str = <span class="string">&quot;1a2a3c4d5f6A7H&quot;</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(str.replace(<span class="regexp">/a/g</span>, <span class="string">&quot;%%&quot;</span>));</span><br><span class="line">      <span class="built_in">console</span>.log(str.replace(<span class="regexp">/a/gi</span>, <span class="string">&quot;%%&quot;</span>));</span><br><span class="line">      <span class="comment">// delet character</span></span><br><span class="line">      <span class="built_in">console</span>.log(str.replace(<span class="regexp">/[A-z]/g</span>, <span class="string">&quot;&quot;</span>));</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">typeof</span> str.replace(<span class="regexp">/[A-z]/g</span>, <span class="string">&quot;&quot;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="正则表达式转义"><a href="#正则表达式转义" class="headerlink" title="正则表达式转义"></a>正则表达式转义</h3><ul>
<li><p>.检查一个字符串中是否含有.  </p>
<ul>
<li>.表示任意字符</li>
<li>在正则表达式中使用<code>\</code>作为转义字符 <code>\.</code>来表示<code>.,</code> <code>\\</code>表示<code>\</code></li>
<li>.注意：使用构造函数时，由于它的参数是一个字符串，而<code>\</code>是字符串中的转义字符串，如果要使用\则需要使用<code>\\</code>来代替</li>
</ul>
</li>
<li><p>其他转义字符</p>
<ul>
<li><p>\w</p>
<p>表示任意字母，数字，_ [A-z0-9_]</p>
</li>
<li><p>\W</p>
<p>表示除了任意字母，数字，_ [^A-z0-9_]</p>
</li>
<li><p>\d</p>
<p>任意数字[0-9]</p>
</li>
<li><p>\D</p>
<p>空格</p>
</li>
<li><p>\S</p>
<p>除了空格</p>
</li>
<li><p>\b</p>
<p>单词边界</p>
</li>
<li><p>\B</p>
<p>除了单词边界</p>
</li>
</ul>
</li>
</ul>
<p><strong>qq,电话,电子邮件正则表达式上网搜索即可</strong></p>
<h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><h2 id="Dom和事件"><a href="#Dom和事件" class="headerlink" title="Dom和事件"></a>Dom和事件</h2><ul>
<li><p>DOM:文档对象模型</p>
<ul>
<li>文档: 整个HTML网页</li>
<li>对象: 表示将网页中每一个部分转为一个对象</li>
<li>模型:使用模型表示对象之间关系,方便获取对象</li>
</ul>
</li>
<li><p>节点:构成网页基本组成</p>
<ul>
<li>文档节点</li>
<li>元素节点(标签)</li>
<li>属性节点</li>
<li>文本节点</li>
</ul>
</li>
<li><p>事件，是用户与浏览器之间的交互行为，比如：点击按钮，鼠标移动，关闭窗口</p>
<p>我们可以在事件对应的属性中设置一些js代码，当这些事件被触发时，代码会执行</p>
</li>
<li><p> 浏览器已经为我们提供文档节点对象，这个对象是window对象属性</p>
</li>
</ul>
<p>  ​      可以在页面中使用，文档节点代表整个网页</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span> === <span class="built_in">window</span>.document);<span class="comment">//该节点在window上,可以直接调用该节点对象方法</span></span><br><span class="line"><span class="comment">//获取button对象</span></span><br><span class="line">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn&quot;</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(btn);</span><br><span class="line"><span class="comment">// 修改按钮文字（要么调方法，要么改属性）</span></span><br><span class="line">      <span class="built_in">console</span>.log(btn.innerHTML); <span class="comment">//&quot;我是一个按钮</span></span><br><span class="line">      btn.innerHTML = <span class="string">&quot;i am button&quot;</span>;</span><br><span class="line"><span class="comment">// 绑定一个单击事件</span></span><br><span class="line">      btn.onmousemove = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">&quot;you has buttoned me again&quot;</span>);</span><br><span class="line">      &#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>浏览器加载页面按照自上向下顺序加载</p>
<p>​    读取到一行就执行一行，如果将script标签写在页面上方，在代码执行时，页面还没有加载</p>
<p>​    页面没有加载DOM对象也没有加载，会导致无法获取DOM对象，所以js要写上边必须写在<code>window.onload=function（）&#123;&#125;；</code>里</p>
</li>
</ul>
<h2 id="document方法获取元素"><a href="#document方法获取元素" class="headerlink" title="document方法获取元素"></a>document方法获取元素</h2><h3 id="通过document对象调用方法"><a href="#通过document对象调用方法" class="headerlink" title="通过document对象调用方法"></a>通过document对象调用方法</h3><p><strong>查询</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">下边的方法当使用函数传参时,可以传变量,不加引号</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myclick</span>(<span class="params">idstr, fun</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(idstr);</span><br><span class="line">          btn.onclick = fun;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//属性值字符串为参数  通过id属性获取一个元素节点对象</span></span><br><span class="line"><span class="number">1.</span><span class="built_in">document</span>.getElementById(<span class="string">&quot;id名字&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过标签名获取一组元素节点对象,该对象为类数组,可以遍历,即使查到一个元素,也会放到数组中,获取节点对象需要 </span></span><br><span class="line"><span class="keyword">let</span> btn01=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="number">2.</span><span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;标签名&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过name属性获取一组元素节点对象</span></span><br><span class="line"><span class="number">3.</span><span class="built_in">document</span>.getElementsByName(<span class="string">&quot;name属性值&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.document.body  获取body标签</span></span><br><span class="line">			<span class="keyword">var</span> body=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;body&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">            <span class="comment">// 在document中保存着一个属性，body</span></span><br><span class="line">            body=<span class="built_in">document</span>.body;</span><br><span class="line"></span><br><span class="line"><span class="comment">//5. document.all代表页面中所有的元素</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="built_in">document</span>.all;<span class="comment">//等价于</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;*&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//6.根据元素的class查询一组元素节点对象</span></span><br><span class="line"><span class="comment">//可以根据getElementsByClassName(&quot;&quot;)，根据class属性值获取一组元素节点对象,但不支持ie8及ie8以下</span></span><br><span class="line"><span class="keyword">var</span> box1=<span class="built_in">document</span>.getElementsByClassName(<span class="string">&quot;box1&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//7.获取box1中div  css中：.box1 div </span></span><br><span class="line"><span class="comment">/*document.querySelector()</span></span><br><span class="line"><span class="comment">            -需要一个选择器的字符串作为参数，可以根据一个css选择器来查询一个元素节点对象</span></span><br><span class="line"><span class="comment">            -ie8以上都能用</span></span><br><span class="line"><span class="comment">            -使用该方法总会返回唯一一个元素，如果满足条件的元素有多个，那么它只会返回第一个*/</span></span><br><span class="line"> 		<span class="keyword">var</span> a=<span class="built_in">document</span>.querySelector(<span class="string">&quot;.box1 div&quot;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(a.innerHTML);</span><br><span class="line">        <span class="keyword">var</span> box1=<span class="built_in">document</span>.querySelector(<span class="string">&quot;.box1&quot;</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(box1.innerHTML);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*8.querySelectorAll(&quot;.box1&quot;);和没有ALL的一样，不同的是这个会把符合的封装到一个数组中</span></span><br><span class="line"><span class="comment">            -即使有一个元素也会被封装到数组中*/</span></span><br></pre></td></tr></table></figure>

<p><strong>第3个的例子及拓展</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn03 = <span class="built_in">document</span>.getElementById(<span class="string">&quot;btn03&quot;</span>);</span><br><span class="line">      btn03.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//3.查找name=gender的所有节点</span></span><br><span class="line">        <span class="keyword">var</span> inputs = <span class="built_in">document</span>.getElementsByName(<span class="string">&quot;gender&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; inputs.length; i++) &#123;</span><br><span class="line">          <span class="comment">// innerHTML用于获取元素内部的html代码的，对于自结束标签属性使用没有意义</span></span><br><span class="line">          <span class="comment">// 如果需要读取元素节点的属性值，直接使用元素.属性名(id.name 元素.value )</span></span><br><span class="line">          <span class="comment">// 说明：class（保留字不能做属性名）不能有这种方式，读取class需要使用元素.className</span></span><br><span class="line">          alert(inputs[i].value);</span><br><span class="line">          <span class="comment">// alert(inputs[i].name);</span></span><br><span class="line">          <span class="comment">// alert(inputs[i].type);</span></span><br><span class="line">          alert(inputs[i].className);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br></pre></td></tr></table></figure>

<p><strong>增删改文本节点</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*1.document.createElement();可以用于创建一个元素对象，需要一个标签名作为参数，</span></span><br><span class="line"><span class="comment">             将会根据标签名创建元素节点对象，并将创建好的对象作为返回值返回*/</span></span><br><span class="line"><span class="keyword">var</span> li=<span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*2.document.createTextNode();</span></span><br><span class="line"><span class="comment">             可以用来创建一个文本节点对象</span></span><br><span class="line"><span class="comment">             需要一个文本内容作为参数，将会根据该内容创建文本节点，并将新的节点返回  */</span></span><br><span class="line"> <span class="keyword">var</span> gztext=<span class="built_in">document</span>.createTextNode(<span class="string">&quot;广州&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*3.appendChild（）</span></span><br><span class="line"><span class="comment">     可以向一个父节点中添加一个新子节点</span></span><br><span class="line"><span class="comment">      用法：父节点.appendChild(子节点)*/</span></span><br><span class="line"><span class="comment">// 将gztext添加到li的子节点中</span></span><br><span class="line">li.appendChild(gztext);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 4.insertBefore(li,bj);</span></span><br><span class="line"><span class="comment"> 	 -可以在指定的子节点前插入新的子节点</span></span><br><span class="line"><span class="comment">      -语法：</span></span><br><span class="line"><span class="comment">          父节点.insertBfore（新节点，旧节点）*/</span></span><br><span class="line"><span class="comment">// 获取id为北京节点 在bj节点前插入li节点</span></span><br><span class="line"><span class="keyword">var</span> bj=<span class="built_in">document</span>.getElementById(<span class="string">&quot;bj&quot;</span>);</span><br><span class="line">city.insertBefore(li,bj);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*5. replaceChild(li,bj);</span></span><br><span class="line"><span class="comment">            --可以使用指定子节点替换已有子节点</span></span><br><span class="line"><span class="comment">            --语法：父节点.replaceChild（新节点，旧节点）</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//将bj节点替换为li节点</span></span><br><span class="line">city.replaceChild(li,bj);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*6.删除节点 方法一:</span></span><br><span class="line"><span class="comment">removeChild()</span></span><br><span class="line"><span class="comment">            -可以删除子节点</span></span><br><span class="line"><span class="comment">            -语法：父节点.removeChild（子节点）</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//知道bj的父元素可以直接通过父元素删除</span></span><br><span class="line">city.removeChild(bj);<span class="comment">//删除bj的节点</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*7. 不知道bj的父元素通过bj.parentElement获取父元素后再删除</span></span><br><span class="line"><span class="comment">// 方法2：bj.parentElement.removeChild(bj);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">bj.parentElement.removeChild(bj);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*8.使用innerHTML可完成增删改操作*/</span></span><br><span class="line"><span class="comment">//eg:向div:city中加&lt;li&gt;广州&lt;/li&gt;</span></span><br><span class="line">可以使用	city.innerHTML+=<span class="string">&quot;&lt;li&gt;广州&lt;/li&gt;&quot;</span>;</span><br><span class="line">等价于</span><br><span class="line">	<span class="keyword">var</span> gzText=<span class="built_in">document</span>.createText(<span class="string">&quot;广州&quot;</span>);</span><br><span class="line">	<span class="keyword">var</span> li=<span class="built_in">document</span>.createElement(<span class="string">&quot;li&quot;</span>);</span><br><span class="line">	city.appendChild(li).appendChild(gzText);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>其他知识</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">confirm()可以弹出确定,还是取消的框</span><br><span class="line">想要让a的href不跳转可以使用<span class="string">&quot;javaScrip:;&quot;</span>做属性值</span><br></pre></td></tr></table></figure>

<h3 id="获取元素子节点"><a href="#获取元素子节点" class="headerlink" title="获取元素子节点"></a>获取元素子节点</h3><p><strong>方法</strong></p>
<blockquote>
<p>通过具体的元素节点调用,不是document</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bj=<span class="built_in">document</span>.getElementById(<span class="string">&quot;city&quot;</span>).getElementsByTagName(<span class="string">&quot;li&quot;</span>)[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>

<p><strong>属性:</strong></p>
<blockquote>
<p><strong>1.innerHTML</strong>  过这个属性可以获取元素内的html代码,对单标签属性无意义</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bj = <span class="built_in">document</span>.getElementById(<span class="string">&quot;bj&quot;</span>);</span><br><span class="line">alert(bj.innerHTML);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>2.innerText</strong></p>
<ul>
<li>可以获取到元素内部内容,与innerHTML类似</li>
<li>不同的是它会去掉标签</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bj = <span class="built_in">document</span>.getElementById(<span class="string">&quot;bj&quot;</span>);</span><br><span class="line">alert(bj.innerText);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>**3.childNodes ** </p>
<ul>
<li><p>表示当前节点的所有子节点<strong>返回一个数组</strong></p>
</li>
<li><p>该属性会获取包括文本节点在内的所有节点，根据DOM标签的空白也会当成文本节点</p>
</li>
<li><p> children属性：可以获取当前元素所有子元素</p>
</li>
</ul>
</blockquote>
<blockquote>
<p><strong>4.firstChild</strong></p>
<ul>
<li>表示当前节点第一个子节点（包括空白文本）</li>
<li> firstElementChild读取当前元素第一个子元素，不支持ie8及以下，兼容避免使用</li>
<li>lastchild，表示当前节点的最后一个子节点</li>
</ul>
</blockquote>
<blockquote>
<p><strong>5.获取兄弟节点和父节点：</strong></p>
<ul>
<li>parentNode表示当前节点的父节点</li>
<li>perviousSibling，表示当前节点的前一个兄弟节点</li>
<li>previousElementSibling 表示获取前一个兄弟元素，不考虑空白文本</li>
<li>nextSibling ，表示当前节点的后一个兄弟节点</li>
</ul>
</blockquote>
<h3 id="JS对付元素样式"><a href="#JS对付元素样式" class="headerlink" title="JS对付元素样式"></a>JS对付元素样式</h3><ul>
<li><ul>
<li><p>语法：元素.style.样式名=样式值</p>
</li>
<li><p>注意：</p>
<ul>
<li><p>如果css中含有-，这种名称不合法，需要将这种样式名修改为驼峰命名 去掉减号，将减号后字母大写</p>
<p><code>border-top-width:borderTopWidth</code></p>
</li>
</ul>
<ul>
<li>我们通过style属性设置的样式都是内联样式，而内联样式有较高优先级，所以通过js修改的样式会立即显示</li>
<li>但是如果在样式中写了！important，则样式会导致js失效，所以尽量不要为样式添加！important</li>
<li>通过style属性设置和读取的都是内联样式</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alert(box1.style.width);</span><br><span class="line">         alert(box1.style.height);</span><br><span class="line">         alert(box1.style.backgroundColor);</span><br></pre></td></tr></table></figure></li>
<li><p>  JS无法读取样式表中的样式</p>
</li>
</ul>
<h3 id="JS读取元素样式"><a href="#JS读取元素样式" class="headerlink" title="JS读取元素样式"></a>JS读取元素样式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*   获取元素的当前显示的样式：4</span></span><br><span class="line"><span class="comment">语法：元素.currentStyle.样式名</span></span><br><span class="line"><span class="comment">它可以用来读取当前元素正在显示的样式</span></span><br><span class="line"><span class="comment">如果当前元素没有设置该样式，则获取它的默认值</span></span><br><span class="line"><span class="comment">currentStyle只有ie支持*/</span></span><br><span class="line">alert(box1.currentStyle.width);</span><br><span class="line">alert(box1.currentStyle.hight);</span><br><span class="line">alert(box1.currentStyle.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 在其他浏览器中可以使用getComputedStyle()这个方法来获取元素当前样式</span></span><br><span class="line"><span class="comment">                    这个方法是window的方法，可以直接使用</span></span><br><span class="line"><span class="comment">                需要两个参数：</span></span><br><span class="line"><span class="comment">                    1.要获取的元素</span></span><br><span class="line"><span class="comment">                    2.可以传递一个伪元素：null</span></span><br><span class="line"><span class="comment">                该方法会返回一个对象，对象中封装了当前元素对应的样式</span></span><br><span class="line"><span class="comment">                如果获取的样式没有设置，则会获取到真实的值，而不是默认值</span></span><br><span class="line"><span class="comment">                比如：没有设置width值，则不会取到auto，而是一个长度</span></span><br><span class="line"><span class="comment">      但是该方法不支持ie8及以下形式</span></span><br><span class="line"><span class="comment">      通过以下两种方式读取到的样式都是只读的，不能修改，如果要修改必须通过style属性*/</span></span><br><span class="line"><span class="keyword">var</span> color=getComputedStyle(box1,<span class="literal">null</span>).backgroundColor;</span><br><span class="line"><span class="comment">// ie8:</span></span><br><span class="line"> alert(box1.currentStyle.width);</span><br></pre></td></tr></table></figure>

<h3 id="JS操作其他相关样式"><a href="#JS操作其他相关样式" class="headerlink" title="JS操作其他相关样式"></a>JS操作其他相关样式</h3><p><strong>无单位,只读</strong></p>
<blockquote>
<p><strong>1.clientheight</strong>   <strong>clientWidth</strong></p>
<p>   -这两个属性可以获取元素可见高度和宽度<br>           -这些属性都返回一个数字，不带px可以直接计算<br>           -会获取元素宽度和高度，<strong>包括内容区域和内边距，不包括外边框</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alert(box1.clientWidth);</span><br><span class="line">alert(box1.clentHeight);</span><br></pre></td></tr></table></figure>

<p><strong>2.offsetWidth</strong> <strong>offsetHeight</strong><br>      -获取元素整个宽度和高度，<strong>包括内容区，内边框，外边框</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(box1.offsetWidth);</span><br></pre></td></tr></table></figure>

<p><strong>3.offsetParent:</strong></p>
<p>-可以用来获取<strong>当前元素的定位父元素</strong></p>
<p>-会获取到离当前元素最近的开启了定位的祖先元素（<strong>只要不是static</strong>）</p>
<p>-如果所有祖先元素都没有开启定位，则返回body</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> op=box1.offsetParent;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>4.offsetLeft   offsetTop</strong></p>
<ul>
<li>offsetLeft当前元素 相对于<strong>父元素水平偏移量</strong></li>
<li>offsetTop当前元素相对于<strong>父元素垂直偏移量</strong></li>
</ul>
</blockquote>
<blockquote>
<p><strong>5.scrollWidth  scrollHeight</strong></p>
<ul>
<li>可以获取滚动区域 宽度和高度</li>
</ul>
<p><strong>6. scrollLeft  scrollTop</strong></p>
<ul>
<li>可以获取水平垂直滚动条滚动距离</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">应用</span><br><span class="line">	垂直滚动条滚到底</span><br><span class="line">    scrollHeigt-ScrollTop &lt;=(或==) ClientHeight</span><br><span class="line">    水平滚动条滚到底</span><br><span class="line">    scrollWidth- scrollLeft &lt;=(或==) ClientWidth</span><br><span class="line">  可能需要<span class="built_in">parseInt</span>转化为整数</span><br></pre></td></tr></table></figure>

<h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><p>JS基础学习(下)</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><ul>
<li><p>字面量创建的对象有new的四步吗?</p>
</li>
<li><p>null是空对象,为什么没有<code>__proto__</code>属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span>.__proto__);<span class="comment">//TypeError </span></span><br><span class="line"> obj3 = &#123;&#125;;</span><br><span class="line"> <span class="built_in">console</span>.log(obj3.__proto__ == <span class="built_in">Object</span>.prototype); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>null==0</code> 值为false为什么?</p>
</li>
<li><p>到底有几种数据类型?</p>
</li>
<li></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/04/16/css%E5%A4%8D%E4%B9%A0I/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/04/16/css%E5%A4%8D%E4%B9%A0I/" itemprop="url">css复习I</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-04-15T20:03:24Z">
                2021-04-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="CSS复习"><a href="#CSS复习" class="headerlink" title="CSS复习"></a>CSS复习</h1><h2 id="css基础查缺补漏"><a href="#css基础查缺补漏" class="headerlink" title="css基础查缺补漏"></a>css基础查缺补漏</h2><h3 id="css介绍"><a href="#css介绍" class="headerlink" title="css介绍"></a>css介绍</h3><ul>
<li>css是层叠样式表，用于修饰HTML，渲染网页</li>
</ul>
<h3 id="css权重"><a href="#css权重" class="headerlink" title="css权重"></a>css权重</h3><ul>
<li><p>权重</p>
<table>
<thead>
<tr>
<th>选择器</th>
<th>权重</th>
</tr>
</thead>
<tbody><tr>
<td>行内样式</td>
<td>1000</td>
</tr>
<tr>
<td>id选择器</td>
<td>100</td>
</tr>
<tr>
<td>类，伪类，属性选择器</td>
<td>10</td>
</tr>
<tr>
<td>标签，伪元素选择器</td>
<td>1</td>
</tr>
<tr>
<td>通配符选择器</td>
<td>0</td>
</tr>
<tr>
<td>！important</td>
<td>最高优先级</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="css常见选择器"><a href="#css常见选择器" class="headerlink" title="css常见选择器"></a>css常见选择器</h3><ul>
<li><p><strong>基础选择器</strong></p>
<p>class、标签、id、通配符选择器最常见，这里不多说</p>
</li>
<li><p><strong>复合选择器</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- 1.选择 class 属性中同时有 name1 和 name2 的所有元素 两个名字之间没有空格 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      .name1.name2 &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name1 name2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--2. 选择作为类名 name1 元素后代的所有类名 name2 元素 注意两个名字之间有空格 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      .name1 .name2 &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;name2&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;name2&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--3.Element .class选择器     选择 class=&quot;intro&quot; 的所有 &lt;p&gt; 元素。 两个选择器之间没有空格 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">p</span><span class="selector-class">.intro</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;name2&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--4.element,element  div,p  选择所有 &lt;div&gt; 元素和所有 &lt;p&gt; 元素。 例如p,div&#123;&#125; 用逗号隔开 --&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--5.element element  div p  选择 &lt;div&gt; 元素内的所有 &lt;p&gt; 元素。 下边例子中两个div中的p都选中--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">div</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;name2&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>hi hi hi<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>啦啦啦啦啦<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--6. element&gt;element div &gt; p 选择父元素是 &lt;div&gt; 的所有 &lt;p&gt; 元素。  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">div</span> &gt; <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;name2&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>hi hi hi<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>啦啦啦啦啦<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--7.element+element div + p  选择紧跟 &lt;div&gt; 元素的首个 &lt;p&gt; 元素--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">div</span> + <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;name1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;name2&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;intro&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>hi hi hi<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>啦啦啦啦啦<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--8.element1~element2  p~ul  选择前面有 &lt;p&gt; 元素的每个 &lt;ul&gt; 元素。可以中间有其他标签,但不能ul被包裹与p隔开  下边只有嘻嘻嘻被渲染--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">p</span> ~ <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span>&gt;</span>呵呵呵呵呵<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--9.[attribute] [class]  选择带有 class 属性的所有元素。 下边box1被选中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-attr">[class]</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--10. [attribute=value]	[target=_blank]	选择带有 target=&quot;_blank&quot; 属性的所有元素。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-attr">[target=<span class="string">&quot;_blank&quot;</span>]</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_self&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;box2&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span>呵呵呵呵呵<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--11. [attribute~=value]	[class~=flower]	选择 class属性含单词 &quot;flower&quot; 的所有元素 下边只有呵呵呵和哈哈哈被选中  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-attr">[class~=<span class="string">&quot;flower&quot;</span>]</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;a flower&quot;</span>&gt;</span>呵呵呵呵呵<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;aflower&quot;</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">sclass</span>=<span class="string">&quot;flower&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;lower&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--12.[attribute|=value]	[class|=en]	选择 class 属性值以 &quot;en&quot; 开头的所有元素。 </span></span><br><span class="line"><span class="comment">嘿嘿嘿 被选中--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-attr">[class|=<span class="string">&quot;en&quot;</span>]</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;en flower&quot;</span>&gt;</span>呵呵呵呵呵<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;en-flower&quot;</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;eflower&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;lowenr&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--13. [attribute^=value] 	a[href^=&quot;https&quot;]  选择其 src 属性值以 &quot;https&quot; 开头的每个 &lt;a&gt; 元素。--&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--14. [attribute$=value]	a[href$=&quot;.pdf&quot;]	选择其 src 属性以 &quot;.pdf&quot; 结尾的所有 &lt;a&gt; 元素 --&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!--15. [attribute*=value]	a[href*=&quot;abc&quot;]	选择其 href 属性值中包含 &quot;abc&quot; 子串的每个 &lt;a&gt; 元素。下边都会被选中  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"> <span class="selector-attr">[href*=<span class="string">&quot;abc&quot;</span>]</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;habcd&quot;</span>&gt;</span>哈哈哈<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;abc&quot;</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;a-abc-d&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;a ab abc&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">href</span>=<span class="string">&quot;abc&quot;</span>&gt;</span>叽叽叽<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">伪类和伪元素选择器见https://www.w3school.com.cn/css/css_pseudo_elements.asp,下边只会列出常见的</span><br><span class="line"><span class="comment">&lt;!--16.伪类选择器 使用单冒号表示</span></span><br><span class="line"><span class="comment">	这些伪类选择器也可用于点击其他标签时发生,不一定只用于a</span></span><br><span class="line"><span class="comment">	a：active 选择活动链接（鼠标按下未弹起链接）（改色） </span></span><br><span class="line"><span class="comment">	a:link&#123;样式&#125;  选择所有未被访问（未点击的）的链接（改色）.</span></span><br><span class="line"><span class="comment">	a:visited 选择所有已被访问的（点击过的）链接（改色）.</span></span><br><span class="line"><span class="comment">	a：hover&#123;color:  blue&#125; 选择鼠标指针位于其上（鼠标经过的）的链接（改色）. </span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-attr">[class*=<span class="string">&quot;abc&quot;</span>]</span><span class="selector-pseudo">:active</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">49</span>, <span class="number">19</span>, <span class="number">19</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;habcd&quot;</span>&gt;</span>哈哈哈<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;abc&quot;</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;a-abc-d&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;a ab abc&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;abcd&quot;</span>&gt;</span>叽叽叽<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--17. 伪元素选择器 伪元素用于设置元素指定部分的样式  常用于设置元素的首字母、首行的样式</span></span><br><span class="line"><span class="comment">在元素的内容之前或之后插入内容 伪元素用双冒号 </span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">	1. ::before/::after相似,前者向该标签之前插入内容,后者向该标签之后插入元素,用content插入</span><br><span class="line">            <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">h1</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line"><span class="css">                        <span class="attribute">content</span>: <span class="string">&quot;嘿嘿嘿&quot;</span>;</span></span><br><span class="line">                        &#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	2.	::first-line/::first-letter分别用于设置首行首字母样式  都只作用于块级元素</span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">p</span><span class="selector-pseudo">::first-line</span> &#123;</span></span><br><span class="line"><span class="css">          <span class="attribute">color</span>: <span class="number">#ff0000</span>;</span></span><br><span class="line">          只有部分属性可用在这里,详见链接</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	3.::selection	p::selection	选择用户选择的元素部分。</span><br><span class="line">		 <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">            <span class="selector-pseudo">::selection</span> &#123;</span></span><br><span class="line"><span class="css">                          <span class="attribute">color</span>: red; </span></span><br><span class="line"><span class="css">                          <span class="attribute">background</span>: yellow;</span></span><br><span class="line">                        &#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--18. 其他常见input伪类选择器  伪类选择器适用的标签范围不同有的能用在input上的也可用于其他标签    具体看链接https://www.w3school.com.cn/cssref/css_selectors.asp --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 1. :checked	input:checked	选择每个被选中的 &lt;input&gt; 元素。该选择器仅适用于input--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--2.</span></span><br><span class="line"><span class="comment">	:enabled	input:enabled	选择每个启用的 &lt;input&gt; 元素。</span></span><br><span class="line"><span class="comment">	:default	input:default	选择默认的 &lt;input&gt; 元素。</span></span><br><span class="line"><span class="comment">	:disabled	input:disabled	选择每个被禁用的 &lt;input&gt; 元素  </span></span><br><span class="line"><span class="comment">	:empty	p:empty	选择没有子元素的每个 &lt;p&gt; 元素（包括文本节点）。</span></span><br><span class="line"><span class="comment">	:focus	input:focus	选择获得焦点的 input 元素</span></span><br><span class="line"><span class="comment">	:in-range	input:in-range	选择其值在指定范围内的 input 元素。</span></span><br><span class="line"><span class="comment">	:out-of-range	input:out-of-range	选择值超出指定范围的 input 元素。</span></span><br><span class="line"><span class="comment">    :indeterminate	input:indeterminate	选择处于不确定状态的 input 元素。</span></span><br><span class="line"><span class="comment">    :invalid	input:invalid	选择具有无效值(例如:不符合type属性email格式)的所有 input 元素。</span></span><br><span class="line"><span class="comment">	:valid	input:valid	选择带有有效值(例如:符合type属性email格式)的所有 input 元素。</span></span><br><span class="line"><span class="comment">    :optional	input:optional	选择不带 &quot;required&quot; 属性的 input 元素。</span></span><br><span class="line"><span class="comment">    ::placeholder	input::placeholder	选择已规定 &quot;placeholder&quot; 属性的 input 元素。</span></span><br><span class="line"><span class="comment">    :read-only	input:read-only	选择已规定 &quot;readonly&quot; 属性的 input 元素。</span></span><br><span class="line"><span class="comment">    :read-write	input:read-write	选择未规定 &quot;readonly&quot; 属性的 input 元素。</span></span><br><span class="line"><span class="comment">    :required	input:required	选择已规定 &quot;required&quot; 属性的 input 元素。</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--19. 其他伪类选择器</span></span><br><span class="line"><span class="comment">	:target	#news:target	选择当前活动的 #news 元素。与修饰当前活跃锚链接有关</span></span><br><span class="line"><span class="comment">	:fullscreen	:fullscreen	选择处于全屏模式的元素。</span></span><br><span class="line"><span class="comment">		:fullscreen &#123;</span></span><br><span class="line"><span class="comment">                      background-color: yellow;</span></span><br><span class="line"><span class="comment">                    &#125;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--20 其他伪类选择元素的选择器 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- :first-child	p:first-child	选择属于其父元素的第一个子元素的每个 &lt;p&gt; 元素。</span></span><br><span class="line"><span class="comment">下面的呵呵呵和嘿嘿嘿会被选中</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-child &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">76</span>, <span class="number">196</span>, <span class="number">33</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"> <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;abcd&quot;</span>&gt;</span>呵呵呵<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;habcd&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;abcd&quot;</span>&gt;</span>叽叽叽<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;abcd&quot;</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;a-abc-d&quot;</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;a ab abc&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--:last-child	p:last-child	选择属于其父元素最后一个子元素每个 &lt;p&gt; 元素。与:first-child同理--&gt;</span></span><br><span class="line"></span><br><span class="line">-of-type与-child不同之处在于-of-type是选择属于其父元素的首个该标签的每个该标签,而不是子元素下的每个该标签</span><br><span class="line"><span class="comment">&lt;!--:first-of-type	p:first-of-type	选择属于其父元素的首个 &lt;p&gt; 元素的每个 &lt;p&gt; 元素。</span></span><br><span class="line"><span class="comment">下边的咕咕咕和嘿嘿嘿嘿会被选中</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-of-type &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">76</span>, <span class="number">196</span>, <span class="number">33</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- h1-h6 p标签都不能嵌套 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>嘿嘿嘿嘿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>咕咕咕<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--:last-of-type	p:last-of-type	选择属于其父元素的最后 &lt;p&gt; 元素的每个 &lt;p&gt; 元素.与:first-of-type同理--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- :not(selector)	:not(p)	选择非 &lt;p&gt; 元素的每个元素。--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-pseudo">:not</span>(<span class="selector-tag">p</span>, <span class="selector-tag">body</span>, <span class="selector-tag">html</span>) &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">76</span>, <span class="number">196</span>, <span class="number">33</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: aliceblue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>嘿嘿嘿嘿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>嘻嘻嘻<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--:nth-child(n) 选择器匹配属于其父元素的第 N 个子元素，不论元素的类型。</span></span><br><span class="line"><span class="comment">n 可以是数字(表示第几个)、关键词或公式。 关键词有odd(奇数) even(偶数)  公式类似(3n+0)</span></span><br><span class="line"><span class="comment">下边的12 38 52 被选中--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>n + <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">66</span>, <span class="number">52</span>, <span class="number">190</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>12<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>56<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>38<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>47<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>52<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--:nth-last-child(n)	p:nth-last-child(2)	同上，从最后一个子元素开始计数。 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">:nth-of-type(n)	p:nth-of-type(2)	选择属于其父元素第二个 &lt;p&gt; 元素的每个 &lt;p&gt; 元素。</span></span><br><span class="line"><span class="comment">下边选到的是56</span></span><br><span class="line"><span class="comment">:nth-last-of-type(n)	p:nth-last-of-type(2)	同上，但是从最后一个子元素开始计数。--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">66</span>, <span class="number">52</span>, <span class="number">190</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>56<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">	:only-of-type	p:only-of-type	选择属于其父元素唯一的 &lt;p&gt; 元素的每个 &lt;p&gt; 元素。</span></span><br><span class="line"><span class="comment">	:only-child	p:only-child	选择属于其父元素的唯一子元素的每个 &lt;p&gt; 元素。</span></span><br><span class="line"><span class="comment">下边的896和呵呵呵被选中  选h1分元素类型,改为p,h1后可实现嘿嘿嘿也被渲染</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">h1</span><span class="selector-pseudo">:only-of-type</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">66</span>, <span class="number">52</span>, <span class="number">190</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-tag">p</span><span class="selector-pseudo">:only-child</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border-radius</span>: <span class="number">25px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">34</span>, <span class="number">201</span>, <span class="number">89</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>896<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>呵呵呵呵呵<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="margin问题"><a href="#margin问题" class="headerlink" title="margin问题"></a>margin问题</h3><p>==标准流中产生该问题==</p>
<h4 id="margin合并折叠"><a href="#margin合并折叠" class="headerlink" title="margin合并折叠"></a>margin合并折叠</h4><ul>
<li><p><strong>边距折叠</strong></p>
<p>​    块的上外边距(margin-top)和[下外边距(margin-bottom)有时合并(折叠)为单个边距，其大小为单个边距的最大值,当有一个值为<strong>负</strong>时,相加为距离</p>
</li>
<li><p><strong>有设定<code>float和</code>position=absolute``的元素不会产生外边距重叠行为。</strong></p>
</li>
<li><p><strong>具体问题</strong></p>
<ul>
<li>**1.**margin属性适用于块级,行内块元素,行级元素,但是行级元素margin不对上下起作用，只能对左右起作用</li>
</ul>
<ul>
<li>**2.**并列元素合并: 当两个元素并列时，两者相隔的外边距，取的是两者所设置margin的最大值。不是两个各自外边距相加后的距离</li>
</ul>
<ul>
<li><p>**3.**嵌套元素合并:  当两个元素嵌套到一起.</p>
<ul>
<li><p>没有内边距(padding)或边框(border),也没有创建块级块级格式上下文(BFC)或者清除浮动(clear)来分开一个块级元素的上边界;或者没有边框,内边距,行内内容,高度height,min-height或</p>
</li>
<li><p>max-height来分开一个块级元素的下边界margin-bottom与其内的一个或多个后代后代块元素的下边界margin-bottom,则会出现父块元素和其内后代块元素外边界重叠，重叠部分最终会溢出到父级块元素外面</p>
</li>
</ul>
</li>
<li><p><strong>空的块级元素</strong></p>
<p>当一个块元素上边界[<code>margin-top</code>] 直接贴到元素下边界[<code>margin-bottom</code>]时也会发生边界折叠。这种情况会发生在一个块元素完全没有设定边框[<code>border</code>]、内边距<code>paddng</code>、高度[<code>height</code>]、最小高度[<code>min-height</code>] 、最大高度[<code>max-height</code>] 、内容设定为inline或是加上[clear-fix]的时候</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>margin问题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 1.并列元素合并  边界范围为87px--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">p</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-bottom</span>: <span class="number">13px</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-tag">p</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)&#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-top</span>: <span class="number">87px</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>下边界范围会...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>...会跟这个元素的上边界范围重叠。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">section</span>    &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-top</span>: <span class="number">13px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-bottom</span>: <span class="number">87px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-tag">header</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-top</span>: <span class="number">87px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-tag">footer</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-bottom</span>: <span class="number">13px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--2.嵌套元素合并margin  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span>上边界重叠 87<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span>下边界重叠 87 不能再高了<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">      </span><br><span class="line"><span class="comment">&lt;!--2.空的块级元素  --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-top</span>: <span class="number">13px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-bottom</span>: <span class="number">87px</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>上边界范围是 87 ...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>... 上边界范围是 87<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="margin-top塌陷"><a href="#margin-top塌陷" class="headerlink" title="margin-top塌陷"></a>margin-top塌陷</h4><ul>
<li>margin-top塌陷是在CSS的盒子模型中出现的一种现象，描述的是当父元素包裹着一个子元素的时候，当给子元素设置margin-top属性时，此时只是想让子元素的边框距离父元素边框有一段距离，而却出现了父元素的顶端距离body这个边框出现了位移，这段位移也正好等于我们给子元素设置的margin-top的属性值，这就是margin-top塌陷的现象。</li>
</ul>
<h4 id="margin为负值"><a href="#margin为负值" class="headerlink" title="margin为负值"></a>margin为负值</h4><p>参考:<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_38912024/article/details/88837111">https://blog.csdn.net/weixin_38912024/article/details/88837111</a><br>            <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/549aaa5fabaa">https://www.jianshu.com/p/549aaa5fabaa</a></p>
<p>==负值:==</p>
<blockquote>
<p>margin-left/right为负值</p>
<ul>
<li><p>box(内部div)原来<strong>没有宽度,<strong>加上负值后会</strong>增加box宽度</strong>,内容向left/right溢出可能</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line">      * &#123;</span><br><span class="line"><span class="css">        <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .wrap &#123;</span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="number">#f00</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="css">        <span class="comment">/* margin: 100px auto 0; */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">font-size</span>: <span class="number">30px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .box &#123;</span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="number">#007aff</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line">      最外层的宽度为800px</span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span>里层的元素设置了margin-left:-100px<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>box(内部div)<strong>原来有</strong>宽度,加上负值后会<strong>移动box位移</strong></p>
</li>
</ul>
<p>margin-top为负值</p>
<ul>
<li>不管是否设置高度，都不会增加高度，而是会产生向上的位移</li>
</ul>
<p>margin-bottom为负值</p>
<ul>
<li>不会位移,而是会减少自身供css读取的高度,下边会被marginbottom占领</li>
</ul>
</blockquote>
<p>==margin负值常见影响==</p>
<blockquote>
<p>对文档流影响</p>
<ul>
<li>margin-left:-20px;毋庸置疑的自身会向左偏移20px,但是在其后面的元素会补位，也就是后面的行内元素会紧贴在此元素的之后。</li>
<li>所以如果你使用负margin上移一个元素，所有跟随的元素都会被上移。</li>
</ul>
<p>对浮动的影响</p>
<ul>
<li>负margin会改变浮动元素的显示位置，即使我的元素写在DOM的后面，我也能让它显示在最前面</li>
</ul>
<p>对position影响</p>
<p>​        知道盒子大小时使用margin负值+position可以居中盒子</p>
<ul>
<li><p>```html</p>
<div class="absolute"></div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;css</span><br><span class="line">.absolute&#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top:50%;</span><br><span class="line">    left:50%;</span><br><span class="line">    height: 200px;</span><br><span class="line">    width: 200px;</span><br><span class="line">    background-color: #ccc;</span><br><span class="line">    margin-top: -100px;</span><br><span class="line">    margin-left: -100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>不知道盒子大小时,可以使用position​ top:50%;left:50%;  +   transform:translate(-50%,-50%);居中盒子</p>
</li>
</ul>
</blockquote>
<h4 id="浮动与负margin详解"><a href="#浮动与负margin详解" class="headerlink" title="浮动与负margin详解"></a>浮动与负margin详解</h4><p>参考:<a target="_blank" rel="noopener" href="https://blog.csdn.net/Liu_yunzhao/article/details/103976547">https://blog.csdn.net/Liu_yunzhao/article/details/103976547</a></p>
<h6 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h6><ul>
<li><p>代码一</p>
<p><strong>两个左浮动元素</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line">      .content &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="css">        <span class="comment">/* //超出隐藏 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="css">        <span class="attribute">font-size</span>: <span class="number">50px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .middle &#123;</span><br><span class="line">        /* 因为给 content 元素设置了 overflow: hidden 所以 </span><br><span class="line">          middle 元素向左移动200px后，左边超出的部分将被隐藏 */</span><br><span class="line"><span class="css">        <span class="comment">/* margin-left: -200px; */</span></span></span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="comment">/*left 元素会覆盖到 middle 元素上 解释见代码下边(解释一)  */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">margin-right</span>: -<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 换行 break-all	允许在单词内换行。 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">word-break</span>: break-all;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: blue;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .left &#123;</span><br><span class="line"><span class="css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: black;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span>&gt;</span>123456789123456789123456789123456789<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>给left元素设置margin-left值</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line">     /* </span><br><span class="line">   两个左浮动元素</span><br><span class="line">       - 如果一行剩余宽度无法容下接下来的浮动元素，那么浮动元素会掉下来</span><br><span class="line">    */</span><br><span class="line">     .content &#123;</span><br><span class="line"><span class="css">       <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="css">       <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .middle &#123;</span><br><span class="line"><span class="css">       <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">       <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: blue;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .left &#123;</span><br><span class="line"><span class="css">       <span class="comment">/* margin: left 200px;  该元素向右移动200px*/</span></span></span><br><span class="line"><span class="css">       <span class="comment">/* margin-left: -99px;  元素向左移动99px*/</span></span></span><br><span class="line"><span class="css">       <span class="comment">/* margin-left: -100px;  left元素跑上去了  解释二 1.*/</span></span></span><br><span class="line"><span class="css">       <span class="comment">/* margin-left: -500px;  left元素左边和content容器左边对齐 解释二 2.*/</span></span></span><br><span class="line"><span class="css">       <span class="comment">/* margin-left：-100%后 溢出父元素左边 解释二 3.*/</span></span></span><br><span class="line"><span class="css">       <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">       <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: black;</span></span><br><span class="line">     &#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span>&gt;</span>123456789123456789123456789123456789<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>给left元素设置margin-right值</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line">     /* </span><br><span class="line">   两个左浮动元素</span><br><span class="line">       - 如果一行剩余宽度无法容下接下来的浮动元素，那么浮动元素会掉下来</span><br><span class="line">    */</span><br><span class="line">     .content &#123;</span><br><span class="line"><span class="css">       <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="css">       <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .middle &#123;</span><br><span class="line"><span class="css">       <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">       <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: blue;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .left &#123;</span><br><span class="line"><span class="css">       <span class="comment">/* margin-right: 100px;   元素位置不动，但总宽度 = 200 + 100 = 300 */</span></span></span><br><span class="line">  </span><br><span class="line">       /*下边设置的-99px， 元素位置不动，因为在文档流中它是应该向右移动99px，</span><br><span class="line"><span class="css">       但元素设置了左浮动，所以就又把元素拉回来了，这和设置<span class="attribute">margin-left</span>：-<span class="number">99px</span>是有区别的 */</span></span><br><span class="line"><span class="css">       <span class="comment">/* margin-right: -99px; */</span></span></span><br><span class="line">  </span><br><span class="line"><span class="css">       <span class="comment">/* margin-right: -100px;  该元素的左边界与.middle有边界对齐  见解释三 1. */</span></span></span><br><span class="line"><span class="css">       <span class="comment">/* margin-right: -500px; 该元素的左边界与.middle的右边界对齐  见解释三 2.*/</span></span></span><br><span class="line"><span class="css">       <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">       <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: black;</span></span><br><span class="line">     &#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span>&gt;</span>123456789123456789123456789123456789<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>代码二</p>
<p><strong>两个右浮动元素</strong></p>
<p>如果一行剩余宽度无法容下接下来的浮动元素，那么浮动元素会掉下来</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;middle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  .content &#123;</span><br><span class="line">      width: 600px;</span><br><span class="line">      height: 600px;</span><br><span class="line">      background-color: green;</span><br><span class="line">      margin: 100px auto;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .middle &#123;</span><br><span class="line">      float: right;</span><br><span class="line">      width: 500px;</span><br><span class="line">      height: 200px;</span><br><span class="line">      background-color: blue;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .left &#123;</span><br><span class="line">      float: right;</span><br><span class="line">      width: 200px;</span><br><span class="line">      height: 200px;</span><br><span class="line">      background-color: black;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><strong>给left元素设置margin-right值</strong><br><img src="https://img-blog.csdnimg.cn/20200114170309479.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdV95dW56aGFv,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><strong>给left元素设置margin-left值</strong><br><img src="https://img-blog.csdnimg.cn/20200114170330573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdV95dW56aGFv,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>这里各个效果和两个左浮动元素效果正好相反，可以结合上面去理解</p>
</li>
</ul>
<h6 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h6><p><img src="https://img-blog.csdnimg.cn/2020011417004374.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xpdV95dW56aGFv,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<ul>
<li><p>解释一</p>
<ul>
<li><p>一个盒子 <strong>总宽度 = 内容宽度 + 左填充 + 右填充 + 左边框 + 右边框 + 左边距 + 右边距</strong><br>当我们给 middle 元素设置 margin-right: -200px 后，middle元素的实际总宽度 = 400 + （-200） = 200</p>
</li>
<li><p> 给元素设置margin只会影响相邻元素摆放位置、自己的摆放位置、自己的总宽度、自己的总高度，并不会影响自己的内容宽度或高度的显示。</p>
</li>
<li><p>给元素margin-left、margin-right设置负值，不会影响<strong>内容宽度</strong>显示，但元素<strong>总宽度会改变</strong>，每个元素的摆放位置是<strong>根据总宽度、总高度</strong>来进行摆放的，虽然元素的内容宽高会完全显示，但设置负值的那部分距离对<strong>其它元素位置</strong>摆放没有影响(left覆盖的原因)，这部分距离是显示在相邻元素的上边还是下边，是要根据每个元素的层级来决定的。</p>
</li>
</ul>
</li>
<li><p>解释二:</p>
<ol>
<li><p>设置margin-left：-100px后,left现在的总宽度 = 200 + （-100） = 100，<br>而第一行正好剩余了 100px 的空间，所以left元素必须上去，上去也本该超出100px的，但是却left元素右边和content容器右边对齐了，而不是left元素左边和middle的右边对齐。<strong>原因</strong>：因为给left元素设置margin-left负值后，**.left的总宽度变小**了，而总宽度减少的这部分也就是margin-left设置负值的这部分，不会影响各个元素位置摆放且内容宽度也必须要显示出来，又由于.left浮动会覆盖住前边的.middle浮动，所以最终素的右边和容器右边就对齐了。</p>
<p>或者解释为，margin-left：-100px，使得自己宽度左边减小了100px，右边的100px会移动到原来左边100px本该移动到的位置（左边贴紧.milldle右边），移动后由于内容需要完全显示且后浮会覆盖前浮，所以自动把左边真实宽度（100px）补到了.middle上，所以总结为**.left右边界向左移动100px，然后补全自己**。left有左边的100px在.middle上</p>
</li>
<li><p>设置margin-left：-500px后，left元素左边和content容器左边对齐了，现在left总宽度 = 200 + （-500） = -300，当left元素宽度为0时，left元素的左边界是和middle右边界对齐的（<strong>此时.left右边界向左移动200px，正好在.middle右边界上，然后补全自己左边</strong>），现在把left元素再向左移动300px，则left元素的右边界就要向左移动300px距离.右因为自身宽度为200px，故向左补全自己（width）时会使得.left左边界贴到.middle左边界，所以会出现上述情况</p>
</li>
<li><p>这里 100% 是基于父元素的宽度的设置的外边距，等同于margin-left:-600px</p>
</li>
<li><p>该情况下，当margin-left为负且**|margin-left|&lt;width**时，会使得元素右边界向左移动width-（|margin-left|）单位，然后补齐自身左边到原来的width</p>
</li>
</ol>
<ul>
<li>解释三：<ol>
<li> 设置margin-right：-100px后，元素跑上去了且元素左边界和middle右边界对齐。可以理解为.left右边宽度先损失了100px，不影响左边 与.left与.middle的右边界对齐，对齐后因为width为200px，要补全自己右边的100px，所以会突出去100px</li>
<li>给元素设置margin-right：-500px后，元素跑上去了且元素左边界和middle右边界对齐，而不是向左覆盖。因为当设置margin-right：-200px时，此时元素的总宽度为0，left元素的左边和middle元素的右边对齐，（但是仍然要补全右边的200px，所以还是会紧贴.middle右边向右伸长200px），此时我们再增加margin-right负值时，应该向右移动，但是它又有左浮动限制，所以就又紧贴 middle 元素，但当设置margin-left负值时，正好和浮动方向一致，所以就会覆盖元素了。</li>
</ol>
</li>
</ul>
</li>
</ul>
<p>==总结==</p>
<ul>
<li>给元素设置浮动以后，元素就会变成块级元素</li>
<li>如果一行剩余宽度无法容下接下来的浮动元素，那么浮动元素会掉下来</li>
<li>当元素的浮动方向和margin的方向相同时，该元素可以覆盖或（向设置浮动的方向）远离 上一个浮动元素</li>
<li>当元素的浮动方向和margin的方向相反时，该元素不能覆盖上一个浮动元素，最近只能紧贴上一个元素右边</li>
</ul>
<h3 id="FC-格式化上下文"><a href="#FC-格式化上下文" class="headerlink" title="FC 格式化上下文"></a>FC 格式化上下文</h3><p>==CSS中的三种基本的定位机制（普通流、定位、浮动)==</p>
<p><strong>格式化上下文属于流,Formatting context 是 W3C CSS2.1 规范中的一个概念。它是页面中的一块渲染区域，每个格式化上下文都拥有一套不同的渲染规则，他决定了其子元素将如何定位，以及和其他元素的关系和相互作用。。</strong></p>
<p><strong>标准(文档)流== 普通(文档)流 ==文档流</strong></p>
<ul>
<li><p>标准文档流包括： </p>
<ul>
<li>块级盒子的块级格式化上下文</li>
<li> 内联级盒子的内联格式化上下文 </li>
<li>块级和内联级盒子的相对定位</li>
</ul>
</li>
<li><p>在<strong>标准文档流内的盒子</strong>属于<strong>格式化上下文</strong>（Formatting Context）。可以属于块级或者内联级，但不能同时属于。块级盒子属于块级格式化上下文。内联盒子属于内联格式化上下文。</p>
</li>
<li><p><strong>常见格式化上下文:</strong></p>
<ul>
<li> <strong>BFC块格式化上下文</strong></li>
<li><strong>IFC</strong></li>
<li><strong>GFC</strong></li>
<li><strong>FFC</strong></li>
</ul>
</li>
</ul>
<h4 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h4><p>mdn:<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context">https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/liugblog/p/4982684.html">https://www.cnblogs.com/liugblog/p/4982684.html</a></p>
<p><strong>块格式化上下文（Block Formatting Context，BFC</strong> 它是一个独立的渲染区域，只有Block-level box参与， 它规定了内部的Block-level Box如何布局，并且与这个区域外部毫不相干。</p>
<h5 id="BFC布局规则"><a href="#BFC布局规则" class="headerlink" title="BFC布局规则"></a>BFC布局规则</h5><ul>
<li><p>内部的Box会在垂直方向上一个接一个的放置</p>
</li>
<li><p><strong>垂直方向上的距离由margin决定</strong>。(一个margin不会使得父元素塌陷)</p>
<p>（完整的说法是：属于同一个BFC的两个相邻Box的margin会发生重叠（塌陷），与方向无关。）</p>
</li>
<li><p>每个元素的<strong>左外边距与包含块的左边界相接触</strong>（从左向右），即使浮动元素也是如此。（这说明BFC中子元素不会超出他的包含块，而position为absolute的元素可以超出他的包含块边界）</p>
</li>
<li><p><strong>BFC的区域不会与float的元素区域重叠</strong></p>
</li>
<li><p>计算BFC的高度时<strong>，浮动子元素也参与计算</strong>(<strong>可以清除浮动</strong>)</p>
</li>
<li><p>BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面元素，反之亦然</p>
</li>
</ul>
<h5 id="BFC创建"><a href="#BFC创建" class="headerlink" title="BFC创建"></a>BFC创建</h5><ul>
<li><p>根元素<code>&lt;html&gt;</code></p>
</li>
<li><p>浮动元素（元素的 [<code>float</code>] 不是 <code>none</code>)</p>
</li>
<li><p>绝对定位(position为absolute和fixed)</p>
</li>
<li><p>行内块元素<code>display:inline-block</code> </p>
</li>
<li><p>表格</p>
<ul>
<li>表格单元格  <code>display:table-cell</code></li>
<li>表格标题  <code>display:table-caption</code></li>
<li>匿名表格单元格元素（元素的 <code>display</code> 为 <code>table、</code>table-row<code>、 </code>table-row-group、<code>table-header-group、</code>table-footer-group<code>（分别是HTML table、row、tbody、thead、tfoot 的默认属性）或 </code>inline-table`）</li>
</ul>
</li>
<li><p>overflow:值不为visible时候(hidden,auto,scroll)</p>
</li>
<li><p>弹性 <code>flex/inline-flex</code></p>
</li>
<li><p>网格<code>grid/inline-grid</code>等等</p>
</li>
</ul>
<h5 id="Bfc应用"><a href="#Bfc应用" class="headerlink" title="Bfc应用"></a>Bfc应用</h5><ul>
<li>清除浮动  父元素设置overflow:hidden</li>
<li>消除相邻元素垂直方向的边距重叠  (第二个子元素套一层,并设置overflow:hidden 构建bfc使其不影响外部元素)</li>
<li>消除父子元素边距重叠,父元素设置overflow:hidden</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>FC<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .box01 &#123;</span><br><span class="line"><span class="css">        <span class="comment">/* 给box01创建了BFC */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">padding-bottom</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">86</span>, <span class="number">202</span>, <span class="number">86</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">      .box02 &#123;</span><br><span class="line">        /* 创建了BFC </span><br><span class="line">         不加它的话</span><br><span class="line">         -- box01浮动会覆盖box02但是</span><br><span class="line"><span class="css">        加了<span class="attribute">overflow</span>:auto则box02创建了BFC,实现BFC的区域不会与float的元素区域重叠的功能</span></span><br><span class="line"><span class="css">        --此时有了BFC使得box02的box3设置<span class="attribute">margin</span>不会出现塌陷现象</span></span><br><span class="line">        */</span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .box03 &#123;</span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">11px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">13px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: blue;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .box04 &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">0</span>, <span class="number">204</span>, <span class="number">255</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box01&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box02&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box04&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box03&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>BFC02<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      .par &#123;</span><br><span class="line">        /* 在没有加overflow: auto;之前会在child浮动时造成par高度塌陷</span><br><span class="line"><span class="css">          因为此时par不计算浮动的child高度,而当加上 <span class="attribute">overflow</span>: auto;开启BFC布局后由于</span></span><br><span class="line">        计算BFC的高度时，浮动子元素也参与计算所以可以清除浮动</span><br><span class="line">           */</span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">5px</span> solid yellow;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .child &#123;</span><br><span class="line">        /* Box垂直方向的距离由margin决定。</span><br><span class="line"><span class="css">        属于同一个BFC的两个相邻Box的<span class="attribute">margin</span>会发生重叠 */</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .par2 &#123;</span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">12px</span> solid green;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .wrap &#123;</span><br><span class="line"><span class="css">        <span class="comment">/* 当开启BFC布局时,此时margin不会重叠 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;par&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;par2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="IFC"><a href="#IFC" class="headerlink" title="IFC"></a>IFC</h4><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000003043991%20(IFC)">https://segmentfault.com/a/1190000003043991%20(IFC)</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Inline_formatting_context">https://developer.mozilla.org/zh-CN/docs/Web/CSS/Inline_formatting_context</a></p>
<p>==行内布局  内联格式上下文==</p>
<p>主要影响IFC内布局的css</p>
<ul>
<li>内部box水平放置</li>
</ul>
<ul>
<li><p>font-size</p>
</li>
<li><p>line-height:’line-height’为内联元素的行盒模型指定了一个最低高度。</p>
<ul>
<li><p>最低高度是分别由基线上的最小高度和基线下的最小深度组成</p>
</li>
<li><p>上到下四条线分别是顶线、中线、基线、底线。行高是指上下文本行的基线间的垂直距离，即图中两条红线间垂直距离（实际在数值上，行高也等于其它相同颜色间的距离）。</p>
<p><img src="https://segmentfault.com/img/bVmVH8" alt="04191645-6676816d69204555beb3374d3daa5277.png"></p>
</li>
</ul>
</li>
<li><p>height</p>
<p><strong>决定容器高度的优先级 height &gt; line-height &gt; font-size</strong></p>
</li>
<li><p>vertical-aligin(默认baselien)</p>
<blockquote>
<p>容器的高度 height = line-height + vertical-align</p>
</blockquote>
</li>
</ul>
<ul>
<li><p>当然同理,如果容器的高度被指定了，那么高度则不变，而超出的部分则不影响布局。如果设置overflow:hidden，超过的部分则不可见。</p>
</li>
<li><p>而vertical-align的其它特殊值，均可以看做一个根据容器高度而变化的相对值</p>
</li>
</ul>
<p>**line-box:**行框模型，这是一个显示区域，根据块状容器内，每一行的多个内联元素（inline-level element）都会共同生成一个行盒模型。</p>
<p>该行框的大小将包含该行中所有的行内框（inline box）</p>
<p><strong>用处</strong></p>
<ul>
<li>水平居中：当一个块要在环境中水平居中时，设置其为inline-block则会在外层产生IFC，通过text-align则可以使其水平居中。</li>
<li>垂直居中：创建一个IFC，用其中一个元素撑开父元素的高度，然后设置其vertical-align:middle，其他行内元素则可以在此父元素下垂直居中</li>
</ul>
<h4 id="GFC"><a href="#GFC" class="headerlink" title="GFC"></a>GFC</h4><p>==网格布局==</p>
<p>参考:<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html">http://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html</a> </p>
<h5 id="开启"><a href="#开启" class="headerlink" title="开启"></a>开启</h5><ul>
<li><p>开启方式</p>
<p><code>display:grid</code> <code>dispaly:inline-grid </code>前者为块级元素,后者为行内元素</p>
<p>网格元素只能是容器顶层的子元素</p>
</li>
<li><p>网格线</p>
<p>下图是一个2*3网格,共有3根水平网线和4根垂直网格线</p>
<img src="C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20210417151836367.png" alt="image-20210417151836367"  /></li>
</ul>
<h5 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h5><h6 id="容器属性"><a href="#容器属性" class="headerlink" title="容器属性"></a>容器属性</h6><p><strong>grid-template-columns /rows</strong></p>
<p>设置行高列宽</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">/*grid-template-columns 规定列 </span></span><br><span class="line"><span class="comment">          - 200px 200px 200px  值声明了3列,宽度分别为200px 200px 200px  </span></span><br><span class="line"><span class="comment">          - 值也可以是函数</span></span><br><span class="line"><span class="comment">                    rpeat(n,大小) n为重复的次数,第二个参数为重复的值</span></span><br><span class="line"><span class="comment">                    repeat(auto-fill,200px)表示列宽为200px,列数量不固定,只要能容下就放</span></span><br><span class="line"><span class="comment">          - fr:grid-template-columns:200px 1fr 2fr;</span></span><br><span class="line"><span class="comment">                表示第一个列宽为200px,之后剩余分为两部分,宽度分别为剩余的1/3和2/3</span></span><br><span class="line"><span class="comment">          - minmax(100px,1fr) 表示列宽不小于100px,不大于1fr</span></span><br><span class="line"><span class="comment">          - grid-template-columns: 200px auto 200px; 表示1 3列为100px,中间由浏览器自定义宽度      </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">grid-template-rows:规定行</span><br><span class="line"> /* 声明了<span class="number">2</span>行,行高为<span class="number">50px</span> <span class="number">50px</span> 其他与列的值一样*/</span><br><span class="line">grid-template-rows: <span class="number">50px</span> <span class="number">50px</span>;</span><br></pre></td></tr></table></figure>

<p><strong>grid-gap</strong></p>
<p>行 列间距</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/* 列间距 */</span></span><br><span class="line">grid-<span class="attribute">column-gap</span>: <span class="number">20px</span>;</span><br><span class="line"><span class="comment">/* 行间距 */</span></span><br><span class="line">grid-row-gap: <span class="number">10px</span>;</span><br><span class="line"> <span class="comment">/* 行/列间距简写 */</span></span><br><span class="line"> grid-gap: <span class="number">10px</span> <span class="number">20px</span>;</span><br></pre></td></tr></table></figure>

<p><strong>grid-template-areas</strong> 给划分区域名字命名</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 划分6个单元格,然后将其命名为a到f6个区域,分别对应6个单元格 */</span></span><br><span class="line">       grid-template-areas:</span><br><span class="line">         <span class="string">&quot;a b c&quot;</span></span><br><span class="line">         <span class="string">&quot;d e f&quot;</span>;</span><br><span class="line">       <span class="comment">/* 多个单元格合并 将6个单元格合并成为a b两个区域</span></span><br><span class="line"><span class="comment">       如果某些区域不需要利用,则使用点(.)表示</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">       grid-template-rows:</span><br><span class="line">         <span class="string">&quot;a . a&quot;</span></span><br><span class="line">         <span class="string">&quot;b b b&quot;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>grif-auto-flow</strong></p>
<p>设置区域顺序</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">      <span class="comment">/* 默认顺序为&quot;先行后列&quot;(row)  column为先列后行 */</span></span><br><span class="line">      grid-<span class="attribute">auto</span>-flow: column;</span><br><span class="line">若值设为row dense，表示&quot;先行后列&quot;，并且尽可能紧密填满，尽量不出现空格。同理由column dense</span><br></pre></td></tr></table></figure>

<p><strong>-items</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">/* justify-items 设置单元格水平位置(左中右)默认stretch</span></span><br><span class="line"><span class="comment">        align-items 设置单元格垂直位置(上中下)默认stretch</span></span><br><span class="line"><span class="comment">	值:start|end|center|stretch     </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">        justify-items: stretch;</span><br><span class="line">        <span class="attribute">align-items</span>: stretch; </span><br><span class="line">        <span class="comment">/* 是上边两个简写 */</span></span><br><span class="line">        place-items: end end;</span><br></pre></td></tr></table></figure>

<p><strong>-content</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">       <span class="comment">/* justify-content设置整个内容区域在容器里的水平位置(左中右)</span></span><br><span class="line"><span class="comment">        align-content设置整个内容区域在容器里的垂直位置(上中下)</span></span><br><span class="line"><span class="comment">值:start|end|center|stretch|space-around|space-evenly|space-between</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">        <span class="attribute">justify-content</span>: center;</span><br><span class="line">        <span class="attribute">align-content</span>: center; </span><br><span class="line">        <span class="comment">/* 简写属性 */</span></span><br><span class="line">        place-<span class="attribute">content</span>: center center;</span><br></pre></td></tr></table></figure>

<p><strong>auto-columns/rows</strong></p>
<p>指定新增的行高列宽</p>
<p><code>   grid-auto-rows: 50px;</code>表示新增的行高统一为50px</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>JS Bin<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="comment">/* 高度是自己撑起的 */</span></span></span><br><span class="line">    #container &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: aqua;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: grid;</span></span><br><span class="line"><span class="css">      grid-template-<span class="attribute">columns</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">      grid-template-rows: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span></span><br><span class="line">      /* </span><br><span class="line"><span class="css">      grid-<span class="attribute">auto</span>-<span class="attribute">columns</span>属性和grid-<span class="attribute">auto</span>-rows属性用来设置，</span></span><br><span class="line">      浏览器自动创建的多余网格的列宽和行高。</span><br><span class="line"><span class="css">      它们的写法与grid-template-<span class="attribute">columns</span>和grid-template-rows完全相同。</span></span><br><span class="line">      如果不指定这两个属性，浏览器完全根据单元格内容的大小，决定新增网格的列宽和行高。</span><br><span class="line">       */</span><br><span class="line"><span class="css">      grid-<span class="attribute">auto</span>-rows: <span class="number">50px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item &#123;</span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">2em</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e5e4e9</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item-1 &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#ef342a</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item-2 &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#f68f26</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item-3 &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#4ba946</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item-4 &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#0376c2</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item-5 &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#c077af</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item-6 &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#f8d29d</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item-7 &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#b5a87f</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item-8 &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#d0e4a9</span>;</span></span><br><span class="line"><span class="css">      grid-row-start: <span class="number">4</span>;</span></span><br><span class="line"><span class="css">      grid-column-start: <span class="number">2</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item-9 &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#4dc7ec</span>;</span></span><br><span class="line"><span class="css">      grid-row-start: <span class="number">5</span>;</span></span><br><span class="line"><span class="css">      grid-column-start: <span class="number">3</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item-1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item-2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item-3&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item-4&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item-5&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item-6&quot;</span>&gt;</span>6<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item-7&quot;</span>&gt;</span>7<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item-8&quot;</span>&gt;</span>8<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item-9&quot;</span>&gt;</span>9<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p> <strong>grid-template 属性， grid 属性</strong></p>
<p><code>grid-template</code>属性是<code>grid-template-columns</code>、<code>grid-template-rows</code>和<code>grid-template-areas</code>这三个属性的合并简写形式。</p>
<p><code>grid</code>属性是<code>grid-template-rows</code>、<code>grid-template-columns</code>、<code>grid-template-areas</code>、 <code>grid-auto-rows</code>、<code>grid-auto-columns</code>、<code>grid-auto-flow</code>这六个属性的合并简写形式</p>
<h6 id="项目属性"><a href="#项目属性" class="headerlink" title="项目属性"></a>项目属性</h6><p><strong>-column/row-start/end</strong></p>
<ul>
<li><p><code>grid-column-start</code>属性：左边框所在的垂直网格线</p>
</li>
<li><p><code>grid-column-end</code>属性：右边框所在的垂直网格线</p>
</li>
<li><p><code>grid-row-start</code>属性：上边框所在的水平网格线</p>
</li>
<li><p><code>grid-row-end</code>属性：下边框所在的水平网格线</p>
<blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  grid-column-start: <span class="number">2</span>;</span><br><span class="line">  grid-column-end: <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1</span>号项目的左边框是第二根垂直网格线，右边框是第四根垂直网格线。</span><br></pre></td></tr></table></figure></blockquote>
</li>
</ul>
<p>这四个属性的值，除了指定为第几个网格线，还可以指定为网格线的名字。</p>
<blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  grid-column-start: header-start;</span><br><span class="line">  grid-column-end: header-end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>上面代码中，左边框和右边框的位置，都指定为网格线的名字。</p>
<p>这四个属性的值还可以使用<code>span</code>关键字，表示”跨越”，即左右边框（上下边框）之间跨越多少个网格。</p>
<blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  grid-column-start: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>上面代码表示，1号项目的左边框距离右边框跨越2个网格。</p>
<p><strong>-row/column</strong></p>
<p><code>grid-column</code>属性是<code>grid-column-start</code>和<code>grid-column-end</code>的合并简写形式，<code>grid-row</code>属性是<code>grid-row-start</code>属性和<code>grid-row-end</code>的合并简写形式。</p>
<blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#b03532</span>;</span><br><span class="line">  grid-column: <span class="number">1</span> / <span class="number">3</span>;</span><br><span class="line">  grid-row: <span class="number">1</span> / <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 等同于 */</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#b03532</span>;</span><br><span class="line">  grid-column: <span class="number">1</span> / span <span class="number">2</span>;</span><br><span class="line">  grid-row: <span class="number">1</span> / span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>项目<code>item-1</code>占据的区域，包括第一行 + 第二行、第一列 + 第二列。</p>
<p><strong>grid-area</strong></p>
<p><code>grid-area</code>属性指定项目放在哪一个区域。</p>
<blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  grid-area: e;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><code>grid-area</code>属性还可用作<code>grid-row-start</code>、<code>grid-column-start</code>、<code>grid-row-end</code>、<code>grid-column-end</code>的合并简写形式，直接指定项目的位置。</p>
<blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  grid-area: <span class="number">1</span> / <span class="number">1</span> / <span class="number">3</span> / <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>align/justify/place-self</strong></p>
<p><code>justify-self</code>属性设置单元格内容的水平位置（左中右），跟<code>justify-items</code>属性的用法完全一致，但只作用于单个项目。</p>
<p><code>align-self</code>属性设置单元格内容的垂直位置（上中下），跟<code>align-items</code>属性的用法完全一致，也是只作用于单个项目</p>
<p><code>place-self</code>属性是<code>align-self</code>属性和<code>justify-self</code>属性的合并简写形式。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-self: &lt;align-self&gt; &lt;justify-self&gt;;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">例如:place-self: center center;</span><br></pre></td></tr></table></figure>

<h4 id="FFC"><a href="#FFC" class="headerlink" title="FFC"></a>FFC</h4><p>==弹性盒子布局==</p>
<ul>
<li><p>开启弹性盒子两种方式</p>
<p><code>display:flex</code> <code>dispaly:inline-flex</code> 前者为块级元素,后者为行级元素  </p>
<ul>
<li>默认item会从左向右排序不区分块/行元素</li>
<li>子元素float,clear,vertical-align失效</li>
</ul>
</li>
<li><p>flex-container属性</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-direction</span> 设置主轴方向,<span class="number">4</span>个值,默认row</span><br><span class="line"></span><br><span class="line"><span class="attribute">flex-wrap</span>:用于放不下自动换行(wrap),默认会缩小挤下(norwrap),还有wrap-reverse</span><br><span class="line"></span><br><span class="line">flex-flow:前两者语法糖,默认 row norwrap</span><br><span class="line"></span><br><span class="line">justify-content:设置主轴上item排布  <span class="number">6</span>个值</span><br><span class="line"></span><br><span class="line">align-content: 设置交叉轴上多个item排布  <span class="number">6</span>个值</span><br><span class="line"></span><br><span class="line">align-items:设置交叉轴上单个item对齐方式  normal,stretch,center,baseline,flex-start,flex-end</span><br><span class="line">当不设置高度时Normal和stretch会自动拉伸</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>flex-item属性</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">order</span>:可以设置任意整数(正整数,负整数,<span class="number">0</span>),值越小越排在前边  默认值是<span class="number">0</span></span><br><span class="line"></span><br><span class="line">align-self:设置自己的align-items样式</span><br><span class="line"></span><br><span class="line">flex-grow:默认值为<span class="number">0</span>,其他数字会自动沾满父盒子</span><br><span class="line"></span><br><span class="line">flex-shrink:默认值为<span class="number">0</span>,其他数字会自动缩小item大小沾满父盒子</span><br><span class="line">flex-basis:决定主轴盒子大小,优先级高,默认auto</span><br><span class="line"></span><br><span class="line">flex属性</span><br><span class="line">flex:initial;  等价于 <span class="attribute">flex</span>:<span class="number">0</span> <span class="number">1</span> auto;     会自动缩小,按内容决定所占位置大小</span><br><span class="line"></span><br><span class="line">felx:<span class="number">0</span>; 等价于:flex:<span class="number">0</span> <span class="number">1</span> <span class="number">0%</span>; 会按照最小的宽度在item中存放内容</span><br><span class="line"></span><br><span class="line"><span class="attribute">flex</span>:none; 等价于 <span class="attribute">flex</span>:<span class="number">0</span> <span class="number">0</span> auto;  不会放大,不会缩小,会超出父盒子当内容多时</span><br><span class="line"></span><br><span class="line"><span class="attribute">flex</span>:<span class="number">1</span>;  等价于<span class="attribute">flex</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0%</span>;  会将item平均分开存放内容</span><br><span class="line"><span class="attribute">flex</span>:auto; 等价于<span class="attribute">flex</span>: <span class="number">1</span> <span class="number">1</span> auto; 会将item按照内容多少分配,并且一定会沾满整个父盒子</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="盒子模型"><a href="#盒子模型" class="headerlink" title="盒子模型"></a>盒子模型</h3><h4 id="怪异盒子-IE"><a href="#怪异盒子-IE" class="headerlink" title="怪异盒子(IE)"></a>怪异盒子(IE)</h4><p><code>box-sizing:border-box</code></p>
<ul>
<li>width=content+padding+border</li>
<li>height=content+padding+border</li>
</ul>
<h4 id="标准盒子模型"><a href="#标准盒子模型" class="headerlink" title="标准盒子模型"></a>标准盒子模型</h4><p><code>box-sizing:content-box</code> 默认值</p>
<ul>
<li>width=content</li>
<li>height=content</li>
</ul>
<h3 id="定位复习"><a href="#定位复习" class="headerlink" title="定位复习"></a>定位复习</h3><h4 id="无特殊定位"><a href="#无特殊定位" class="headerlink" title="无特殊定位"></a>无特殊定位</h4><p><strong>static</strong></p>
<ul>
<li>对象遵循正常文档流</li>
<li>top,right,bottom,left属性不会被应用</li>
</ul>
<h4 id="相对定位"><a href="#相对定位" class="headerlink" title="相对定位"></a>相对定位</h4><blockquote>
<p><code>position:relative</code></p>
</blockquote>
<ul>
<li><p>特性</p>
<ul>
<li><strong>相对自身</strong>:使用relative定位的元素，其相对的是自身进行偏移</li>
<li>使用relative定位的元素，可以理解为产生了”幻影”，其<strong>真身依然在原来的位置上</strong>，所以并<strong>不会</strong>影响页面中其他的元素的布局</li>
</ul>
</li>
<li><p>对象遵循正常文档流,但可以依据top,right,left,bottom定位</p>
</li>
<li><p>限制作用</p>
<ul>
<li><p>对absolute定位子元素有限制</p>
</li>
<li><p>当子元素设置相对定位时(relative),父元素的overflow(设为auto或hidden)无效</p>
</li>
<li><p>影响z-index(**层叠性)**：</p>
<blockquote>
<p>参考: <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41342585/article/details/79484879">https://blog.csdn.net/weixin_41342585/article/details/79484879</a></p>
</blockquote>
<ul>
<li><p>父节点的z-index属性值，将会直接影响子节点的层叠性<br>即： 父节点的z-index值很小，无论子节点的z-index值多大，其层级仍然小。</p>
</li>
<li><p>例如</p>
<p>A,B节点都设置position为relative，且A的z-index为1，B的z-index为0，A的层级比B大<br>因此：A的子节点必定会覆盖在B的子节点上，无论B的子节点的z-index值多大。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;A&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:relative;z-index:1;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;a-1&quot;</span> &gt;</span>A-1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;B&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:relative;z-index:0;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;b-1&quot;</span>&gt;</span>B-1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p> z-index值表示谁压着谁。数值大的压盖住数值小的</p>
</li>
<li><p>只有定位了的元素，才能有z-index值（相对定位，绝对定位，固定定位,浮动的盒子不能用。</p>
</li>
<li><p>如果都没有z-index值，或值都相同，那么谁在HTML后面，谁就在上面，压住别人。</p>
</li>
<li><p>```html</p>
<div id="a">A</div>
<div id="b">B</div>
<!--A，B节点都设置了定位，且没有设置z-index值，那么B节点会将A节点遮住-->
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    * **定位了的元素，永远能够压住没有定位的元素**</span><br><span class="line"></span><br><span class="line">  #### 绝对定位</span><br><span class="line"></span><br><span class="line">  &gt; &#96;position:absolute&#96;</span><br><span class="line"></span><br><span class="line">* 对象脱离正常文档流</span><br><span class="line">* 可以使用top,right,bottom,left进行绝对定位</span><br><span class="line">* 层叠通过z-index设置</span><br><span class="line"></span><br><span class="line">#### 固定定位</span><br><span class="line"></span><br><span class="line">&gt; &#96;position:fixed&#96;</span><br><span class="line"></span><br><span class="line">* 对象脱离正常文档流</span><br><span class="line">* 使用top,left,right,bottom以窗口作为参考点绝对定位</span><br><span class="line">* 层叠样式通过z-index设置</span><br><span class="line"></span><br><span class="line">#### 粘性定位</span><br><span class="line"></span><br><span class="line">&#96;position:sticky&#96;</span><br><span class="line"></span><br><span class="line">* 保留位置在标准流中</span><br><span class="line">* 以浏览器窗口为参考点</span><br><span class="line">* 一般用于固定在上方浏览器</span><br><span class="line"></span><br><span class="line">###  隐藏元素</span><br><span class="line"></span><br><span class="line">* &#96;visibility:hidden;&#96;,其位置会存在在文档中,但是其位置还存在与页面文档流中,不会被删除,会触发浏览器渲染引擎的重绘</span><br><span class="line">* &#96;display:none&#96;其位置不会被保留下来,会触发浏览器渲染引擎的回流和重绘</span><br><span class="line">* &#96;opacity: 0&#96;将元素设置为透明,不会被删除,会触发浏览器渲染引擎的重绘 (opacity可以设置过渡效果)</span><br><span class="line"></span><br><span class="line">### 清除浮动</span><br><span class="line"></span><br><span class="line">**问题**:不清除浮动会发生高度塌陷:浮动元素高度自适应(父元素不写高度时,子元素写了浮动后父元素会发生高度塌陷)</span><br><span class="line"></span><br><span class="line">**解决**</span><br><span class="line"></span><br><span class="line">* &#96;clear&#96;清除浮动(添加空div  (新增的盒子必须是块级元素（br div 。。。）不能是行内元素))	在浮动元素下方添加空div,并给该元素写css样式</span><br><span class="line"></span><br><span class="line">  &#96;&#96;&#96;css</span><br><span class="line">  .clear &#123;</span><br><span class="line">      &#x2F;&#x2F;清除浮动</span><br><span class="line">      clear:both;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>给浮动元素父级设置高度</p>
</li>
<li><p>父级同时浮动(需要给父级同级添加浮动)</p>
</li>
<li><p>父级设置成<code>inline-block</code>,其<code>margin:0 auto;</code>居中方式失效</p>
</li>
<li><p>给父级添加<code>overflow:hidden</code>(本质是创建了bfc,bfc盒子计算高度会计算浮动元素的高度)</p>
</li>
<li><p>万能清除法: after伪类(多用)加在父级元素上</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  <span class="selector-class">.clearfix</span>:after &#123;</span><br><span class="line">        /* 下边三个都需要有才能让父盒子不塌陷 */</span><br><span class="line">        content: <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="attribute">clear</span>: both;</span><br><span class="line">        <span class="attribute">display</span>: block;</span><br><span class="line">        <span class="comment">/* 设置高度为0可以把文字的高度去掉 但是文字会移动到div下方 */</span></span><br><span class="line">        <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="comment">/* 下变两个设置是用于清除字体 下边哪个都可 都写也可 */</span></span><br><span class="line">        <span class="attribute">overflow</span>: hidden;</span><br><span class="line">        <span class="attribute">visibility</span>: hidden;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">//可以在ie上使用,支持ie6,ie7</span><br><span class="line"><span class="selector-class">.fu</span>&#123;</span><br><span class="line">    zoom:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="溢出省略"><a href="#溢出省略" class="headerlink" title="溢出省略"></a>溢出省略</h3><h5 id="单行文本溢出省略"><a href="#单行文本溢出省略" class="headerlink" title="单行文本溢出省略"></a>单行文本溢出省略</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="comment">/* 配合下边两个属性实现文本溢出省略 */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">      <span class="comment">/* 使得文本垂直居中 */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">line-height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">border</span>: <span class="number">1px</span> solid green;</span></span><br><span class="line">      /* 有两个属性 clip 当对象内文本溢出时裁剪掉</span><br><span class="line">                    elipsis:当对象内文本溢出时显示省略号</span><br><span class="line">       */</span><br><span class="line"><span class="css">      <span class="attribute">text-overflow</span>: ellipsis;</span></span><br><span class="line"><span class="css">      <span class="comment">/* 设置不换行 让文字一行显示 */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">white-space</span>: nowrap;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="多行文本省略"><a href="#多行文本省略" class="headerlink" title="多行文本省略"></a>多行文本省略</h5><h6 id="基于行数截断"><a href="#基于行数截断" class="headerlink" title="基于行数截断"></a>基于行数截断</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="comment">/* 基于行数截断 */</span></span></span><br><span class="line"><span class="css">      <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border-radius</span>: <span class="number">1px</span> soild red;</span></span><br><span class="line"><span class="css">        <span class="comment">/*  用于限制一个块元素显示的文本行数,为实现效果需要组合其他-webkit属性*/</span></span></span><br><span class="line"><span class="css">        -webkit-line-clamp: <span class="number">2</span>;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 将对象作为弹性伸缩盒子显示 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>: -webkit-box;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 和-webkit-line-clamp结合使用,设置检索伸缩盒子对象的子元素排列方式 */</span></span></span><br><span class="line"><span class="css">        -webkit-box-orient: vertical;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 文本高于溢出高度就隐藏内容 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 超出部分设置... */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">text-overflow</span>: ellipsis;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      此外,药物、食物过敏;邻 近器官的急性炎症,如急性扁桃体炎、咽炎</span><br><span class="line">      、鼻炎等急性炎症蔓延侵及会厌黏膜,也是急性会厌炎的致病因素。</span><br><span class="line">      感冒伴咽喉剧烈肿痛速就医 如何识别和治疗急性会厌炎?.</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="css面试题练习"><a href="#css面试题练习" class="headerlink" title="css面试题练习"></a>css面试题练习</h2><h3 id="div垂直水平居中"><a href="#div垂直水平居中" class="headerlink" title="div垂直水平居中"></a>div垂直水平居中</h3><ul>
<li><p>1.写代码:CSS div垂直水平居中 并且完成div高度是宽度的一半(宽度可以不指定)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>练习<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        写代码:CSS div垂直水平居中 并且完成div高度是宽度的一半</span></span><br><span class="line"><span class="comment">        注意:要使用height:100%默认高需要设置html,body&#123;height:100%&#125;</span></span><br><span class="line"><span class="comment">            水平居中:margin:0 auto; justify-content:center;</span></span><br><span class="line"><span class="comment">            垂直居中:开flex,align-items:center(单子项) </span></span><br><span class="line"><span class="comment">			padding-bottom 如果用%来表示的话，计算是根据父元素的width的值进行计算的。</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      * &#123;</span><br><span class="line"><span class="css">        <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-tag">html</span>,</span></span><br><span class="line"><span class="css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .outer &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: blue;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 水平居中 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="css">        <span class="attribute">align-items</span>: center;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .inner &#123;</span><br><span class="line"><span class="css">        <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">        <span class="attribute">padding-bottom</span>: <span class="number">50%</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .box &#123;</span><br><span class="line"><span class="css">        <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 让字体水平居中 */</span></span></span><br><span class="line"><span class="css">        justify-items: center;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 让字体垂直居中 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">align-items</span>: center;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>使用定位+transform</li>
</ul>
</li>
</ul>
<h3 id="自适应正方形-等宽高比矩形"><a href="#自适应正方形-等宽高比矩形" class="headerlink" title="自适应正方形,等宽高比矩形"></a>自适应正方形,等宽高比矩形</h3><ul>
<li><p>css画一个大小为父元素宽度一半的正方形</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>练习02<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- css画一个大小为父元素宽度一半的正方形</span></span><br><span class="line"><span class="comment">    利用:  padding-bottom 如果用%来表示的话，计算是根据父元素的width的值进行计算的。 </span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      .outer &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .inner &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">padding-bottom</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: blue;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>伪元素自适应设置margin-top需要开启BFC</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">https://segmentfault.com/a/1190000022693834 代码解释</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: green;</span></span><br><span class="line">      &#125;</span><br><span class="line">      #container &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">        <span class="comment">/* //需要触发BFC消除margin折叠的问题 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-class">.placeholder</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">        <span class="comment">/* margin 百分比相对父元素宽度计算 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">margin-top</span>: <span class="number">100%</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span> <span class="attr">class</span>=<span class="string">&quot;placeholder&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line">上边的代码等价于  因为当伪元素 content 不为 none 的时候，我们可以把他们当做正常的元素一样来看待。 但是它创建了一个超出文档树以外的元素</span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">.square1 &#123;</span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">30%</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="css">  <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line">&#125;</span><br><span class="line">.square1-after &#123;</span><br><span class="line"><span class="css">    //这里会发生塌陷使得当没有<span class="attribute">overflow</span>: hidden;时什么也不显示</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-top</span>:<span class="number">100%</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;square1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;square1-after&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>双重嵌套 外层relative，内层absolute</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    .outer &#123;</span><br><span class="line"><span class="css">      <span class="attribute">padding-top</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">      <span class="comment">/* height默认为auto */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">50%</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    .inner &#123;</span><br><span class="line"><span class="css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: blue;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>padding撑高画正方形</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      .outer &#123;</span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">75</span>, <span class="number">75</span>, <span class="number">236</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">600px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .inner &#123;</span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="comment">/* padding-top: 100%; */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">padding-bottom</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">230</span>, <span class="number">0</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>相对于视口vw vh</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    .inner &#123;</span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">1vh</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">1vw</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">230</span>, <span class="number">0</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;outer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inner&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="实现两栏布局"><a href="#实现两栏布局" class="headerlink" title="实现两栏布局"></a>实现两栏布局</h3><h4 id="float-margin-left-right"><a href="#float-margin-left-right" class="headerlink" title="float+margin-left/right"></a>float+margin-left/right</h4><ul>
<li>(左float,右margin-left 自适应)</li>
</ul>
<p><strong>div需要有高度才能使用margin-left 显示宽度</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">     <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">       <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .aside &#123;</span><br><span class="line"><span class="css">       <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .main &#123;</span><br><span class="line"><span class="css">       <span class="comment">/*width/height不写为auto 自适应*/</span></span></span><br><span class="line"><span class="css">       <span class="attribute">margin-left</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: red;</span></span><br><span class="line">     &#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aside&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>右float,左边自适应</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">     <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">       <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line">     &#125;</span><br><span class="line">  </span><br><span class="line">     .aside &#123;</span><br><span class="line"><span class="css">       <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: green;</span></span><br><span class="line"><span class="css">       <span class="attribute">float</span>: right;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .main &#123;</span><br><span class="line">       /* width: auto;没有设置width,width默认auto,所以随着屏幕变化而变化</span><br><span class="line"><span class="css">       记住背景色是给高和宽加的,<span class="attribute">margin-right</span>: <span class="number">300px</span>;设置成与浮动元素一样高是为了让浮动元素覆盖</span></span><br><span class="line"><span class="css">       <span class="attribute">margin-top</span>,只留下<span class="attribute">width</span>显示,另一边为浮动元素</span></span><br><span class="line">        */</span><br><span class="line"><span class="css">       <span class="attribute">margin-right</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: red;</span></span><br><span class="line">     &#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="float-BFC"><a href="#float-BFC" class="headerlink" title="float+BFC"></a>float+BFC</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="comment">/* BFC加float */</span></span></span><br><span class="line">      .aside &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .main &#123;</span><br><span class="line"><span class="css">        <span class="comment">/* 这里width为auto,若不加Bfc是有一部分在浮动元素下边 */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* 开启BFC 左边的div不会隐藏到左边浮动下边 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aside&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="float-负margin"><a href="#float-负margin" class="headerlink" title="float+负margin"></a>float+负margin</h4><p>对应css练习04.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="comment">/* float+负margin */</span></span></span><br><span class="line">    .left &#123;</span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#f00</span>;</span></span><br><span class="line">      /*该元素宽度自适应，当下边操作使得右边宽度减少200px后，最后还是会补齐自己到浏览器宽度</span><br><span class="line"><span class="css">      <span class="attribute">right</span>的<span class="attribute">width</span>刚好也为<span class="number">200px</span>，所以<span class="attribute">right</span>会上来（因为<span class="selector-class">.left</span>在补齐之前减少了<span class="number">200px</span></span></span><br><span class="line">      ），左边界与从浏览器最右侧向前进200px覆盖.left元素200px</span><br><span class="line">        */</span><br><span class="line"><span class="css">      <span class="comment">/* margin-right: -200px; */</span></span></span><br><span class="line">    &#125;</span><br><span class="line">    .right &#123;</span><br><span class="line">      /* 与.left加  margin-right: -200px;相同，但是原理不同，</span><br><span class="line"><span class="css">      这个意思是：<span class="selector-class">.right</span>宽度会减少左边的<span class="number">200px</span>，由于浮动<span class="selector-class">.right</span>右边界会与。<span class="attribute">left</span>右边界对齐，但是由于</span></span><br><span class="line"><span class="css">      它要补全自己左边，所以会向左覆盖<span class="selector-class">.right</span>，覆盖自己的<span class="attribute">width</span>（<span class="number">200px</span>）</span></span><br><span class="line">      */</span><br><span class="line"><span class="css">      <span class="attribute">margin-left</span>: -<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#0f0</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>world<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="float-正margin"><a href="#float-正margin" class="headerlink" title="float+正margin"></a>float+正margin</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    .left &#123;</span><br><span class="line"><span class="css">      <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: red;</span></span><br><span class="line">    &#125;</span><br><span class="line">    .right &#123;</span><br><span class="line"><span class="css">      <span class="comment">/* 利用左边该元素的左边外边距被浮动元素压在下方的原理 */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">margin-left</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: green;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>你好<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>我好<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="flex实现"><a href="#flex实现" class="headerlink" title="flex实现"></a>flex实现</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      .box1 &#123;</span><br><span class="line"><span class="css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .box1 .left &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .box1 .right &#123;</span><br><span class="line"><span class="css">        <span class="comment">/* flex：auto也可以 ，这里只给.right设置flex表示让.right占据剩余所有空间 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: green;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span>好<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span>我好<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="定位实现"><a href="#定位实现" class="headerlink" title="定位实现"></a>定位实现</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    .box1 &#123;</span><br><span class="line"><span class="css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    .box1 .left &#123;</span><br><span class="line"><span class="css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: red;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .box1 .right &#123;</span><br><span class="line"><span class="css">      <span class="comment">/* 与浮动原理一样，absolute脱标，覆盖住了margin-left */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">margin-left</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: green;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="实现三栏布局"><a href="#实现三栏布局" class="headerlink" title="实现三栏布局"></a>实现三栏布局</h3><h4 id="普通"><a href="#普通" class="headerlink" title="普通"></a>普通</h4><p><strong>实现一个两栏三列布局,要求三列等高,且以内容最多的一列高度为准</strong></p>
<h5 id="position-margin-left-margin-right"><a href="#position-margin-left-margin-right" class="headerlink" title="position+margin-left+margin-right"></a>position+margin-left+margin-right</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- position加margin --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">     <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">       <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .container &#123;</span><br><span class="line"><span class="css">       <span class="attribute">position</span>: relative;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .left &#123;</span><br><span class="line"><span class="css">       <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">       <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: green;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .right &#123;</span><br><span class="line"><span class="css">       <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">       <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: red;</span></span><br><span class="line">     &#125;</span><br><span class="line">     .center &#123;</span><br><span class="line"><span class="css">       <span class="attribute">margin-left</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">margin-right</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">       <span class="attribute">background-color</span>: black;</span></span><br><span class="line">     &#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="float-margin"><a href="#float-margin" class="headerlink" title="float+margin"></a>float+margin</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- float+margin --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">500px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .left &#123;</span><br><span class="line"><span class="css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">210px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: green;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .right &#123;</span><br><span class="line"><span class="css">        <span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">210px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .center &#123;</span><br><span class="line"><span class="css">        <span class="attribute">margin-left</span>: <span class="number">210px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-right</span>: <span class="number">210px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: black;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 注意浮动要换顺序 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>圣杯和双飞翼布局都要满足以下要点</p>
<ul>
<li>两侧宽度固定,中间宽度自适应</li>
<li>中间部分在DOM上优先显示,以便进行渲染</li>
<li>允许三列中任意一列成为最高列</li>
<li>只需要使用一个额外的<code>div</code>标签</li>
</ul>
</blockquote>
<h4 id="圣杯布局"><a href="#圣杯布局" class="headerlink" title="圣杯布局"></a>圣杯布局</h4><blockquote>
<p>圣杯布局给最外面加padding, 让 padding-left 和 padding-right 的数值等于left 和 right 的宽度，然后利用相对定位把他们再移动在两旁</p>
</blockquote>
<h6 id="圣杯的margin-left-100-理解"><a href="#圣杯的margin-left-100-理解" class="headerlink" title="圣杯的margin-left:-100%;理解"></a>圣杯的margin-left:-100%;理解</h6><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Haley6/article/details/115843496?spm=1001.2014.3001.5501">https://blog.csdn.net/Haley6/article/details/115843496?spm=1001.2014.3001.5501</a></p>
<h4 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h4><blockquote>
<p>float+负margin圣杯(没有头和尾)</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="comment">/* 当浏览器缩小时会破坏该布局需要加min-width=2*.left+.right--------有问题？？？？ */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">min-width</span>: <span class="number">630px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    .center &#123;</span><br><span class="line"><span class="css">      <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">      <span class="comment">/* 父元素内容的宽的100% 300px */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: green;</span></span><br><span class="line">    &#125;</span><br><span class="line">    .left &#123;</span><br><span class="line"><span class="css">      <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">210px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line">      /* 这个-100%是相对于父盒子的,即container,而此时container没有设置为auto，即为 </span><br><span class="line"><span class="css">      浏览器宽度减去它的<span class="attribute">padding</span>的值，所以这里设置<span class="number">100%</span>，<span class="selector-class">.left</span>移动最大距离，但仍然不会移动到<span class="attribute">padding</span>上边</span></span><br><span class="line">      */</span><br><span class="line"><span class="css">      <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: red;</span></span><br><span class="line">      /* 由于它移动最大位移时，没有移动到padding上，而现在需要它移动到padding上，所以给</span><br><span class="line"><span class="css">      <span class="selector-class">.left</span>加相对定位，相对于自身向左移动<span class="number">210px</span>，由于<span class="attribute">left</span>：<span class="number">210px</span>是现在的自己需要相对原来的自己</span></span><br><span class="line"><span class="css">      左边差<span class="number">210px</span>（即会向右移动<span class="number">210px</span>），现在要向左移动，需要设置：<span class="attribute">left</span>：-<span class="number">210px</span>；</span></span><br><span class="line">       */</span><br><span class="line"><span class="css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">      <span class="attribute">left</span>: -<span class="number">210px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    .right &#123;</span><br><span class="line"><span class="css">      <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">190px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin-left</span>: -<span class="number">190px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="css">      <span class="comment">/* 该盒子需要相对自己向右移动190px 所以如下设置即可*/</span></span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">      <span class="attribute">right</span>: -<span class="number">190px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    /* 成上步后，sub和extra列已经到了正确的位置，</span><br><span class="line"><span class="css">    但是sub和extra列却覆盖了<span class="selector-tag">main</span>的两边，</span></span><br><span class="line"><span class="css">    圣杯布局的解决办法是给容器container添加左、右内边距，从而让<span class="selector-tag">main</span>列定位到正确的位置 */</span></span><br><span class="line">    .container &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: blue;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding-left</span>: <span class="number">210px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding-right</span>: <span class="number">190px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>float+负margin圣杯</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span>,</span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line">      /* 页面的最小宽度  之前left使用了position: relative，所以就意味着在center开始的区域，还存在着一个left的宽度。</span><br><span class="line">      所以页面的最小宽度应该设置为200+150+200=550px：*/</span><br><span class="line"><span class="css">      <span class="attribute">min-width</span>: <span class="number">550px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="comment">/* 假设左侧的固定宽度为200px，右侧的固定宽度为150px*/</span></span></span><br><span class="line">    #container &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding-left</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding-right</span>: <span class="number">150px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="comment">/* 分别为三列设置宽度与浮动，同时对footer设置清除浮动 */</span></span></span><br><span class="line">    #container .column &#123;</span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">float</span>: left;</span></span><br><span class="line">    &#125;</span><br><span class="line">    #center &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: green;</span></span><br><span class="line">      /* center是浮动元素，由于浮动具有包裹性，</span><br><span class="line">      在不显式设置宽度的情况下会自动“收缩”到内容的尺寸大小。</span><br><span class="line"><span class="css">      如果去掉<span class="attribute">width</span>: <span class="number">100%</span>，则当中间栏不包含或者包含较少内容时，整个布局会“崩掉 */</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    #right &#123;</span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="css">      <span class="comment">/* 放置right到右边 */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">margin-right</span>: -<span class="number">150px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #left &#123;</span><br><span class="line">      /* 此时 由于center的宽度为100%，即占据了第一行的所有空间,</span><br><span class="line"><span class="css">      所以<span class="attribute">left</span>和<span class="attribute">right</span>被“挤”到了第二行。接下来的工作是将<span class="attribute">left</span>放置到之前预留出的位置上*/</span></span><br><span class="line"><span class="css">      <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: blue;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="comment">/* 这里使用position: relative和right: 200px将left的位置在原有位置基础上左移200px */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">      <span class="attribute">right</span>: <span class="number">200px</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    #footer &#123;</span><br><span class="line"><span class="css">      <span class="attribute">clear</span>: both;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;header&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;center&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;left&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;right&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h4><p><strong>一(少用)</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 双飞翼布局的DOM结构与圣杯布局的区别是用container仅包裹住center，</span></span><br><span class="line"><span class="comment">      另外将.column类从center移至container上。 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span>,</span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="comment">/* 增加最小宽度时不把内容挡住 这里设置150px 所以min-width=150+200+150=500 */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">min-width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    #container &#123;</span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    .column &#123;</span><br><span class="line"><span class="css">      <span class="attribute">float</span>: left;</span></span><br><span class="line">    &#125;</span><br><span class="line">    #center &#123;</span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin-left</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin-right</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: green;</span></span><br><span class="line">    &#125;</span><br><span class="line">    #left &#123;</span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: red;</span></span><br><span class="line">    &#125;</span><br><span class="line">    #right &#123;</span><br><span class="line"><span class="css">      <span class="attribute">margin-left</span>: -<span class="number">150px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">150px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">233</span>, <span class="number">145</span>, <span class="number">14</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">    #footer &#123;</span><br><span class="line"><span class="css">      <span class="attribute">clear</span>: both;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;header&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;left&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;right&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>圣杯与双飞翼区别</strong></p>
<p>异:</p>
<blockquote>
<ul>
<li><p>1.body</p>
<ul>
<li>圣杯是.container包含了.center,.left,.right</li>
<li>双飞翼是.container只包含.center</li>
</ul>
</li>
<li><p>style</p>
<ul>
<li><p>圣杯</p>
<ul>
<li>在.container上加padding留出两边空间</li>
<li>在.center上加<code>width:100%;</code></li>
<li>在.left,.right上加浮动,加<code>margin-left(.left为-100%)</code>,.right加负自身宽度</li>
<li>在.left,.right上加相对定位,并调整left属性</li>
<li><strong>圣杯用到padding,float,负margin,相对定位</strong></li>
</ul>
</li>
<li><p>双飞翼</p>
<ul>
<li><p>.container加<code>float:left</code>,加<code>width:100%</code></p>
</li>
<li><p>在.center中设置<code>margin-left/right</code>留出两边空间,width不加100%;</p>
</li>
<li><p>在<code>.left/.right</code>中加左浮动,并且设置与圣杯一样的负margin</p>
</li>
<li><p><strong>双飞翼不使用相对定位,只用正margin, float,负margin</strong></p>
</li>
</ul>
</li>
</ul>
<p>同:</p>
<ul>
<li><p>若要颜色显示布局,记得加height,</p>
</li>
<li><p>```html<br>给body,html加</p>
<stlyle>
{
height:100%;
margin:0;
padding:0;
min-width:...px;
}
</stlyle>
        
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">#### flex圣杯</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;html</span><br><span class="line">   &lt;!-- flex圣杯 --&gt;</span><br><span class="line">   &lt;style&gt;</span><br><span class="line">     html,</span><br><span class="line">     body &#123;</span><br><span class="line">       width: 100%;</span><br><span class="line">       height: 100%;</span><br><span class="line">     &#125;</span><br><span class="line">     &#x2F;* 使用flex圣杯 *&#x2F;</span><br><span class="line">     #header &#123;</span><br><span class="line">       height: 100px;</span><br><span class="line">       background-color: red;</span><br><span class="line">     &#125;</span><br><span class="line">     #container &#123;</span><br><span class="line">       display: flex;</span><br><span class="line">       height: 100%;</span><br><span class="line">     &#125;</span><br><span class="line">     #center &#123;</span><br><span class="line">       flex: 1;</span><br><span class="line">       height: 100%;</span><br><span class="line">       background-color: brown;</span><br><span class="line">     &#125;</span><br><span class="line">     #left &#123;</span><br><span class="line">       flex: 0 0 200px;</span><br><span class="line">       order: -1;</span><br><span class="line">       height: 100%;</span><br><span class="line">       background-color: yellow;</span><br><span class="line">     &#125;</span><br><span class="line">     #right &#123;</span><br><span class="line">       flex: 0 0 150px;</span><br><span class="line">       height: 100%;</span><br><span class="line">       background-color: blue;</span><br><span class="line">     &#125;</span><br><span class="line">     #footer &#123;</span><br><span class="line">       height: 100px;</span><br><span class="line">       background-color: green;</span><br><span class="line">     &#125;</span><br><span class="line">   &lt;&#x2F;style&gt;</span><br><span class="line"> &lt;&#x2F;head&gt;</span><br><span class="line"> &lt;body&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;header&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;container&quot;&gt;</span><br><span class="line">     &lt;div id&#x3D;&quot;center&quot; class&#x3D;&quot;column&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">     &lt;div id&#x3D;&quot;left&quot; class&#x3D;&quot;column&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">     &lt;div id&#x3D;&quot;right&quot; class&#x3D;&quot;column&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;footer&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"> &lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="以上三个布局总结"><a href="#以上三个布局总结" class="headerlink" title="以上三个布局总结"></a>以上三个布局总结</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line">​```html</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>圣杯布局<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   &lt;! -- margin+float圣杯布局 - -&gt;</span></span><br><span class="line"><span class="comment">  &lt;style&gt;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    html,body&#123;</span></span><br><span class="line"><span class="comment">      min-width:150+150+200px;</span></span><br><span class="line"><span class="comment">      margin: 0;</span></span><br><span class="line"><span class="comment">      padding: 0;</span></span><br><span class="line"><span class="comment">      height: 100%;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    .header&#123;</span></span><br><span class="line"><span class="comment">      height: 100px;</span></span><br><span class="line"><span class="comment">      background:green;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    .container&#123;</span></span><br><span class="line"><span class="comment">      height: 100%;</span></span><br><span class="line"><span class="comment">      padding: 0 200px 0 150px ;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    .center&#123;</span></span><br><span class="line"><span class="comment">      float: left;</span></span><br><span class="line"><span class="comment">      width: 100%;</span></span><br><span class="line"><span class="comment">      height: 100%;</span></span><br><span class="line"><span class="comment">      background-color: #0f0f;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    .left&#123;</span></span><br><span class="line"><span class="comment">      float: left;</span></span><br><span class="line"><span class="comment">      width: 150px;</span></span><br><span class="line"><span class="comment">      height: 100%;</span></span><br><span class="line"><span class="comment">      margin-left: -100%;</span></span><br><span class="line"><span class="comment">      background-color: #f0f;</span></span><br><span class="line"><span class="comment">      position: relative;</span></span><br><span class="line"><span class="comment">      left: -150px;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    .right&#123;</span></span><br><span class="line"><span class="comment">      float: left;</span></span><br><span class="line"><span class="comment">      width: 200px;</span></span><br><span class="line"><span class="comment">      height: 100%;</span></span><br><span class="line"><span class="comment">      margin-left: -200px;</span></span><br><span class="line"><span class="comment">      background-color: #ea1;</span></span><br><span class="line"><span class="comment">      position: relative;</span></span><br><span class="line"><span class="comment">      left: 200px;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    .footer&#123;</span></span><br><span class="line"><span class="comment">      height: 100px;</span></span><br><span class="line"><span class="comment">      clear: both;</span></span><br><span class="line"><span class="comment">      background-color: rgba(47, 150, 150, 0.667);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  &lt;/style&gt;</span></span><br><span class="line"><span class="comment">  &lt;div class=&quot;header&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">  &lt;div class=&quot;container&quot;&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;center&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">  &lt;/div&gt;</span></span><br><span class="line"><span class="comment">  &lt;div class=&quot;footer&quot;&gt;&lt;/div&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--   &lt;!- - 双飞翼布局 - -&gt;</span></span><br><span class="line"><span class="comment">    &lt;style&gt;</span></span><br><span class="line"><span class="comment">      html,</span></span><br><span class="line"><span class="comment">      body &#123;</span></span><br><span class="line"><span class="comment">        min-width: 500px;</span></span><br><span class="line"><span class="comment">        height: 100%;</span></span><br><span class="line"><span class="comment">        margin: 0;</span></span><br><span class="line"><span class="comment">        padding: 0;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">      .header &#123;</span></span><br><span class="line"><span class="comment">        height: 100px;</span></span><br><span class="line"><span class="comment">        background-color: #899;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">      .container &#123;</span></span><br><span class="line"><span class="comment">        float: left;</span></span><br><span class="line"><span class="comment">        width: 100%;</span></span><br><span class="line"><span class="comment">        height: 100%;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">      .center &#123;</span></span><br><span class="line"><span class="comment">        margin-left: 150px;</span></span><br><span class="line"><span class="comment">        margin-right: 200px;</span></span><br><span class="line"><span class="comment">        height: 100%;</span></span><br><span class="line"><span class="comment">        background-color: #008900;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">      .left &#123;</span></span><br><span class="line"><span class="comment">        float: left;</span></span><br><span class="line"><span class="comment">        margin-left: -100%;</span></span><br><span class="line"><span class="comment">        width: 150px;</span></span><br><span class="line"><span class="comment">        height: 100%;</span></span><br><span class="line"><span class="comment">        background-color: #cbcb;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">      .right &#123;</span></span><br><span class="line"><span class="comment">        float: left;</span></span><br><span class="line"><span class="comment">        margin-left: -200px;</span></span><br><span class="line"><span class="comment">        width: 200px;</span></span><br><span class="line"><span class="comment">        height: 100%;</span></span><br><span class="line"><span class="comment">        background-color: #bacbac;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">      .footer &#123;</span></span><br><span class="line"><span class="comment">        clear: both;</span></span><br><span class="line"><span class="comment">        height: 100px;</span></span><br><span class="line"><span class="comment">        background: skyblue;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">    &lt;/style&gt;</span></span><br><span class="line"><span class="comment">  &lt;/head&gt;</span></span><br><span class="line"><span class="comment">  &lt;body&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;header&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;container&quot;&gt;</span></span><br><span class="line"><span class="comment">      &lt;div class=&quot;center&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;right&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;footer&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">  &lt;/body&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &lt;!- - display:flex布局圣杯 --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">html</span>,</span></span><br><span class="line"><span class="css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .header &#123;</span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="number">#cfc</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .container &#123;</span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .center &#123;</span><br><span class="line"><span class="css">        <span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: green;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .left &#123;</span><br><span class="line"><span class="css">        <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">150px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">order</span>: -<span class="number">1</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: red;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .right &#123;</span><br><span class="line"><span class="css">        <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: yellow;</span></span><br><span class="line">      &#125;</span><br><span class="line">      .footer &#123;</span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: brown;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>圣杯: 父pw中fw<br>        双飞翼: 父f中mw</p>
<h3 id="定位-transform居中"><a href="#定位-transform居中" class="headerlink" title="定位+transform居中"></a>定位+transform居中</h3><h4 id="absolute加transform居中"><a href="#absolute加transform居中" class="headerlink" title="absolute加transform居中"></a>absolute加transform居中</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="comment">/*让盒子定位到中心*/</span></span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">      <span class="attribute">top</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">left</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span></span><br><span class="line">/* transform: translate3d(-50%, -50%,0);也可以居中盒子</span><br><span class="line">        translate值为百分比是相对于自身盒子大小的百分比移动</span><br><span class="line">        */          </span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>absolute<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="relative加transform居中"><a href="#relative加transform居中" class="headerlink" title="relative加transform居中"></a>relative加transform居中</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line"><span class="css"><span class="comment">/*  当子元素开启absolute,父元素不开relative,父元素的overflow:hidden不起作用 */</span></span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span>,</span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="comment">/*让盒子定位到中心*/</span></span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">      <span class="attribute">top</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">left</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span></span><br><span class="line">/* transform: translate3d(-50%, -50%,0);也可以居中盒子</span><br><span class="line">        translate值为百分比是相对于自身盒子大小的百分比移动</span><br><span class="line">        */          </span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>absolute<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>





<p><strong>练习总结:</strong></p>
<ul>
<li><p>padding-bottom/top 如果用%来表示的话，计算是根据父元素的width的值进行计算的</p>
</li>
<li><p>要使用height:100%默认高需要设置html,body{height:100%}</p>
</li>
<li><p><strong>css实现自适应正方形,等 宽高比 矩形</strong></p>
<ul>
<li>width:设置百分比</li>
<li>padding撑高</li>
<li>如果只是相对于body而言,可以使用vw/vh</li>
<li>伪元素设置 margin-top:100%;撑高</li>
</ul>
</li>
<li><p>==当height设为auto时，该标签的高度由其子标签的高度决定，即：子标签会撑开父标签==,所以空的div要想显示必须设置高度。</p>
</li>
<li><p>当宽度为auto时默认宽度为父级宽度相同</p>
</li>
<li><p><strong>width:auto/100%区别</strong></p>
<blockquote>
<p>width:auto;</p>
<ul>
<li>子元素（包括content+padding+border+margin）撑满整个父元素的content区域。</li>
<li>子元素有margin、border、padding时，会减去子元素content区域相对应的width值</li>
<li><strong>==父元素的content = 子元素（content + padding + border + margin )==</strong></li>
</ul>
<p>width:100%;</p>
<ul>
<li>强制将子元素的content区域 撑满 父元素的content区域</li>
<li>子元素有margin、border、padding时，不改变子元素content区域的width，而是溢出父盒子，保持原有值</li>
<li><strong>==父元素的content = 子元素的content==</strong></li>
</ul>
<p>==<strong>总之:同样设置了padding下width(100%)的盒子大小要比width(auto)的大</strong>==</p>
</blockquote>
</li>
<li><p><strong>height:auto/100%区别</strong></p>
</li>
</ul>
<blockquote>
<p>height:auto;</p>
<ul>
<li><p>高度取决于子元素的内容</p>
</li>
<li><p>height:auto表示高度可变动的，如果div设置了auto但是却没有显示有三种可能：</p>
<p>​    ①cotent里没有能将其height支撑的子元素</p>
<p>​    ②由于定位和浮动导致其不显示，清除浮动或修改定位</p>
</li>
</ul>
<p>height:100%;</p>
<ul>
<li>必须给父元素设置高才能显示</li>
<li>height:100%不显示的原因可能为没有设置父元素的height，可以通过将父元素的height设为固定值或是将父元素及父元素的父元素设置height:100%显示</li>
</ul>
<p>height:只有当不是空盒子时,可以不设置高度给盒子</p>
</blockquote>
<blockquote>
<p><strong>总之:auto与子元素有关，100%与父元素有关</strong></p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/04/16/SpringBoot%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/04/16/SpringBoot%E6%80%BB%E7%BB%93/" itemprop="url">SpringBoot总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-04-15T19:59:04Z">
                2021-04-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h1><h2 id="初认识"><a href="#初认识" class="headerlink" title="初认识"></a>初认识</h2><p>javase:OOP<br>       mysql:持久化<br>       html+css+js+jQuery+框架<br>       javaweb:独立开发MVC三层架构网站:原始<br>        ssm:框架,简化了我们的开发流程,配置文件开始较为复杂<br>        war包:tomcat运行</p>
<p>spring再简化:SpringBoot:   微服务架构!  导jar包,内嵌tomcat</p>
<p>​                                            (最核心:自动装配原理  重要  谈资);<br>​                                                   (配置如何编写)<br>​                                                    (集成web开发:业务核心)<br>​                                                   (集成数据库:Druid)<br>​                                                   (分布式开发:Dubbo(RPC) zookeeper)<br>​                                                    swagger:接口文档<br>​                                                    任务调度<br>​                                                  SpringSecuity:Shiro</p>
<p>​        服务越来越多:<br>​                            springcloud:<br>​                                                微服务<br>​                                                springcloud入门<br>​                                                Restful 接口<br>​                                                Eureka注册中心<br>​                                                Ribon 附带均衡<br>​                                                Feign  附带均衡<br>​                                                HyStrix<br>​                                                Zuul:路由网关<br>​                                                SpringCloud:git</p>
<h3 id="回顾spring"><a href="#回顾spring" class="headerlink" title="回顾spring"></a>回顾spring</h3><p>1.Spring是一个开源框架，2003 年兴起的一个轻量级的Java 开发框架，作者：Rod                 Johnson<br>            <strong>Spring是为了解决企业级应用开发的复杂性而创建的，简化开发。</strong></p>
<p>2.Spring是如何简化Java开发的</p>
<p>​    为了降低Java开发的复杂性，Spring采用了以下4种关键策略：<br>​            1、基于POJO的轻量级和最小侵入性编程，所有东西都是bean；<br>​            2、通过IOC，依赖注入（DI）和面向接口实现松耦合；<br>​            3、基于切面（AOP）和惯例进行声明式编程；<br>​            4、通过切面和模版减少样式代码，RedisTemplate，xxxTemplate；</p>
<p>​    程序员=数据结构+算法<br>​            码农=面向对象+框架<br>​            面试:软实力:聊天+举止+谈吐+见解</p>
<h3 id="SpringBoot-1"><a href="#SpringBoot-1" class="headerlink" title="SpringBoot"></a>SpringBoot</h3><p>what?<br>                就是一个javaweb的开发框架，和SpringMVC类似，对比其他javaweb框架的好处，官方说是简化开发，约定大于配置，  you can “just run”，能迅速的开发web应用，几行代码开发一个http接口。</p>
<p>Spring Boot 基于 Spring 开发，Spirng Boot 本身并不提供 Spring 框架的核心特性以及扩展功能，只是用于快速、敏捷地开发新一代基于 Spring 框架的应用程序。也就是说，它并不是用来替代 Spring 的解决方案，而是和 Spring 框架紧密结合用于提升 Spring 开发者体验的工具。Spring Boot 以<strong>约定大于配置的核心思想</strong>，默认帮我们进行了很多设置，多数 Spring Boot 应用只需要很少的 Spring 配置。同时它集成了大量常用的第三方库配置（例如 Redis、MongoDB、Jpa、RabbitMQ、Quartz 等等），Spring Boot 应用中这些第三方库几乎可以零配置的开箱即用。</p>
<p>简单来说就是SpringBoot其实不是什么新的框架，它默认配置了很多框架的使用方式，就像maven整合了所有的jar包，spring boot整合了所有的框架 。</p>
<p>Spring Boot 出生名门，从一开始就站在一个比较高的起点，又经过这几年的发展，生态足够完善，Spring Boot 已经当之无愧成为 Java 领域最热门的技术。</p>
<p><strong>Spring Boot的主要优点：</strong></p>
<ul>
<li>为所有Spring开发者更快的入门</li>
<li><strong>开箱即用</strong>，提供各种默认配置来简化项目配置</li>
<li>内嵌式容器简化Web项目</li>
<li>没有冗余代码生成和XML配置的要求</li>
</ul>
<h3 id="微服务"><a href="#微服务" class="headerlink" title="微服务"></a>微服务</h3><ul>
<li><p>什么是微服务?</p>
<pre><code>***\*微服务\****是一种体系结构样式，将单个应用程序划分为较小的服务单元，并在微服务之间使用HTTP的API进行资源访问和操作。
    ***\*微服务\****体系结构的演变更像一家公司的发展过程。从最初的小公司到随后的大群。大的群可以分为多个子公司，每个子公司都有自己的业务、员工，各自发展，互不影响，加起来威力无穷。
程序:高内聚,低耦合
</code></pre>
</li>
<li><p>MVC三层(module,view,controller)架构    MVVM  </p>
</li>
<li><p>单体应用架构</p>
</li>
<li><p>微服务架构(业务:service–&gt;userservice===&gt;模块化</p>
<pre><code>springmvc,controller---&gt;提供接口):
</code></pre>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43458555/article/details/108468384">https://blog.csdn.net/qq_43458555/article/details/108468384</a></p>
<p>​        </p>
</li>
</ul>
<h2 id="springboot"><a href="#springboot" class="headerlink" title="springboot"></a>springboot</h2><p>helloworld:在spring官网:<a target="_blank" rel="noopener" href="https://start.spring.io/">https://start.spring.io/</a> 创建后下载 idea打开即可<br>        一般开发在idea中创建</p>
<h2 id="springboot目录结构"><a href="#springboot目录结构" class="headerlink" title="springboot目录结构"></a>springboot目录结构</h2><blockquote>
<p>/src/main 项目根目录<br>       /java  java源代码目录<br>       /resources/static 静态资源目录<br>        /resources/templates 表示层页面目录<br>        /resources/application.properties  spring boot 配置文件<br>        /test 测试文件目录</p>
</blockquote>
<ul>
<li><p>springboot中约定</p>
<ul>
<li>maven目录结构,默认有resources文件夹,存放资源配置文件。 src/main/resources   src/main/java 默认编译生成的类都在target文件夹下面</li>
<li>springboot默认配置文件必须是 也只能是application.命名的yml或properties文件且唯一</li>
<li>application.yml中默认属性.数据库连接信息必须是以spring:dataresource:为前缀;多环境配置。该属性可以根据运行环境自动读取不同的配置文件;端口号,请求路径等</li>
</ul>
</li>
<li><p>springboot入口类</p>
<ul>
<li>入口类名通常以*Application结尾</li>
<li>入口类加@SpringbootApplication注解</li>
<li>利用SpringApplication.run()方法启动应用</li>
</ul>
</li>
<li><p>springboot常用配置</p>
<table>
<thead>
<tr>
<th>配置名称</th>
<th>默认值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>server.port</td>
<td>80</td>
<td>端口号</td>
</tr>
<tr>
<td>server.servlet.context-path</td>
<td>/</td>
<td>设置应用上下文</td>
</tr>
<tr>
<td>logging.file</td>
<td>无</td>
<td>日志文件输出路径</td>
</tr>
<tr>
<td>logging.level</td>
<td>info</td>
<td>最低日志输出级别</td>
</tr>
<tr>
<td>spring.dataresource.*</td>
<td></td>
<td>与数据库相关配置</td>
</tr>
<tr>
<td>debug</td>
<td>false</td>
<td>开启/关闭 调试模式</td>
</tr>
</tbody></table>
</li>
<li><p>springboot注解简介</p>
<ul>
<li><p>jdk和jar区别</p>
<ul>
<li><p>JDK 是Java SE Development Kit的简称， 它提供java运行的一个环境</p>
</li>
<li><p>jar包就是别人已经写好的一些类，然后将这些类进行打包，你可以将这些jar包引入你的项目中，然后就可以直接使用这些jar包中的类和属性了，这些jar包一般都会放在lib目录下的</p>
</li>
</ul>
</li>
<li><p>注解</p>
<ul>
<li>注解是代码里的特殊标记,可以在编译,类加载,运行时被读取,并执行相关处理.</li>
<li>通过注解开发人员可以在不改变原有代码和逻辑情况下在源代码中嵌入补充信息</li>
</ul>
</li>
</ul>
</li>
<li><p>springboot启动流程</p>
<ul>
<li><p>加载配置文件 application.yml</p>
</li>
<li><p>自动装配</p>
<table>
<thead>
<tr>
<th>ArtifactId</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>spring-boot-starter-web</td>
<td>增加web支持</td>
</tr>
<tr>
<td>spring-boot-starter-data-jpa</td>
<td>对JPA支持,集成Hibernate</td>
</tr>
<tr>
<td>spring-boot-starter-logging</td>
<td>增加logback日志支持</td>
</tr>
<tr>
<td>spring-boot-starter-test</td>
<td>集成jUnit单元测试框架</td>
</tr>
</tbody></table>
</li>
<li><p>加载组件 @Repository @Service @Controller @Entity</p>
</li>
<li><p>应用初始化</p>
</li>
</ul>
</li>
</ul>
<h2 id="第一个Springboot"><a href="#第一个Springboot" class="headerlink" title="第一个Springboot"></a>第一个Springboot</h2><h3 id="常用注解"><a href="#常用注解" class="headerlink" title="常用注解"></a>常用注解</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@Component：泛指组件，可配合CommandLineRunner使用，在程序启动后执行一些基础任务。 可配合@AutoWired</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//@Controller：用于定义控制器类，在Spring项目中由控制器负责将用户发来的URL请求转发到对应的服务接口(service层)，一般这个注解在类中，通常配合注解@RequestMapping：参数较复杂，后有详细说明</span></span><br><span class="line">    还可以用于重定向,通过thymeleaf返回一些界面</span><br><span class="line">    </span><br><span class="line"><span class="comment">//@Service：一般用于修饰service层的组件。</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//@Repository：使用@Repository注解可以确保DAO或者repositories提供异常转译，这个注解修饰的DAO或者repositories类会被ComponetScan发现并配置，同时也不需要为它们提供XML配置项。</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//RestController里有主要包括以下两个注解</span></span><br><span class="line"><span class="meta">@Controller</span> 处理http请求返回给java前端的json对象</span><br><span class="line"><span class="meta">@ResponseBody</span>注解用于将 Controller 的方法返回的对象，通过 HttpMessageConverter 接口转换为指定格式的  即是将函数的返回值直接填入HTTP响应体中</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//@PostMapping(&quot;/post&quot;)</span></span><br><span class="line"> 处理前端发来的post请求</span><br><span class="line"> 内含有<span class="meta">@RequestMapping</span>注解：是一个用来处理请求地址映射的注解，使用的范围是：类或方法</span><br><span class="line">    </span><br><span class="line"> <span class="comment">//@GetMappiing 与postMapping类似</span></span><br><span class="line"> <span class="meta">@GetMapping(&#123;&quot;/welcome&quot;,&quot;/hi&quot;&#125;)</span></span><br><span class="line"> 表示http:<span class="comment">//localhost:8080/hi 或者http://localhost:8080/welcome都可以访问同样页面</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//@RequestMapping(“/path”)表示该控制器处理所有“/path”的URL请求。RequestMapping是一个用来处理请求地址映射的注解，可用于类或方法上。用于类上，表示类中的所有响应请求的方法都是以该地址作为父路径。</span></span><br><span class="line">该注解有六个属性：</span><br><span class="line">	params：指定request中必须包含某些参数值，才让该方法处理。</span><br><span class="line">	headers：指定request中必须包含某些指定的header值，才能让该方法处理请求。</span><br><span class="line">	value：指定请求的实际地址，指定的地址可以是URI Template模式。</span><br><span class="line">	method：指定请求的method类型，GET、POST、PUT、DELETE等。</span><br><span class="line">	consumes：指定处理请求的提交内容类型(Content-Type)，如				application/json，text/html。</span><br><span class="line">	produces：指定返回的内容类型，仅当request请求头中的Accept类型中包含该指定类型才返回。</span><br><span class="line">     </span><br><span class="line"><span class="comment">// @Value：注入application.properties配置的属性的值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@Configuration：等同于Spring的XML配置文件，使用Java代码可以检查类型安全，如果有些第三方库需要用到xml文件，建议仍然通过@Configuration类作为项目的配置主类。</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//@EnableAutoConfiguration：根据添加的jar依赖自动配置你的Spring应用。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@ConfigurationProperties</span></span><br><span class="line">详解见https:<span class="comment">//hello.blog.csdn.net/article/details/104575745</span></span><br><span class="line"></span><br><span class="line">使用<span class="meta">@ConfigurationProperties</span>注解到普通类，然后再通过<span class="meta">@EnableConfigurationProperties</span>定义为Bean</span><br><span class="line">    </span><br><span class="line">通常与EnableConfigurationProperties一起使用,通过<span class="meta">@EnableConfigurationProperties</span>对User进行实例化时，便会使用到<span class="meta">@ConfigurationProperties</span>的功能，对属性进行匹配赋值</span><br><span class="line"></span><br><span class="line"><span class="comment">//@Autowired：自动导入依赖的bean，把配置好的Bean拿来用，完成属性、方法的组装，它可以对类成员变量、方法及构造函数进行标注，完成自动装配的工作，当加上(required=false)时，就算找不到bean也不报错。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@RequestParam：用在方法的参数前面。多用于post请求传参数</span></span><br><span class="line">    它的后边括号内是前端传来的参数名</span><br><span class="line">    <span class="meta">@RequestParam(&quot;sid&quot;)</span> <span class="keyword">int</span> studentId</span><br><span class="line">    studentId为传来的参数值</span><br><span class="line"> 测试: http:<span class="comment">//localhost:8081/515Code/say?sid=20204816</span></span><br><span class="line"><span class="comment">//升级:</span></span><br><span class="line">	<span class="meta">@RequestParam(value=&quot;sid&quot;,required = false,defaultValue = &quot;0&quot;)</span>  <span class="keyword">int</span> studentId</span><br><span class="line">	测试链接默认不传为<span class="number">0</span>,即返回的studentId值不传默认为<span class="number">0</span>，默认必须传参进来</span><br><span class="line">        </span><br><span class="line"><span class="comment">//@PathVariable：路径变量。多用于get请求传参数</span></span><br><span class="line">参数传递的方法:例如</span><br><span class="line">     <span class="meta">@GetMapping(&quot;say/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">say</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">int</span> studentId)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;学生的id是&quot;</span>+studentId;</span><br><span class="line">    &#125;</span><br><span class="line">测试:http:<span class="comment">//localhost:8081/515Code/say/20204816</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@Entity：@Table(name=””)：表明这是一个实体类。这两个注解一般一块使用，但是如果表名和实体类名相同的话，@Table可以省略。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@Id 表示实体类的某成员变量是数据库主键</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@GeneratedValue表示自增</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@Transactional表示事务 可以自动不成功回滚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@NotNUll表示字段不能为空</span></span><br><span class="line"><span class="comment">//@Service用于service层类中</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//@JsonInclude(JsonInclude.Include.NON_NULL)</span></span><br><span class="line">用于返回http协议时,若返回的内容(data)为空,或者只返回code,message,json返回前端的对象就没有,而不是<span class="keyword">null</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//@JsonProperty(&quot;total&quot;)加在成员变量上最后返回的字段是total,而不是成员变量的名字</span></span><br></pre></td></tr></table></figure>

<h3 id="校验注解"><a href="#校验注解" class="headerlink" title="校验注解"></a>校验注解</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@NotNull</span> 某实体类成员变量不能为空 注意别导错包 javax里的</span><br><span class="line"><span class="meta">@NotNull(message = &quot;学费找不到&quot;)</span></span><br></pre></td></tr></table></figure>



<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><p>application.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">server.port</span>=<span class="string">8081</span></span><br><span class="line"><span class="comment">#url根目录</span></span><br><span class="line"><span class="comment"># 现在访问http://localhost:8081/515Code/hi才能访问到</span></span><br><span class="line"><span class="meta">server.servlet.context-path</span>=<span class="string">/515Code</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>application.yml</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">context-path:</span> <span class="string">/515Code</span></span><br><span class="line"><span class="attr">todo:</span></span><br><span class="line">  <span class="attr">date:</span> <span class="string">&quot;3月25日&quot;</span></span><br><span class="line">  <span class="attr">thing:</span> <span class="string">今天是$&#123;todo.date&#125;,go</span> <span class="string">cinema</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据库配置</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/student</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">123456hj</span></span><br><span class="line">    </span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">hibernate:</span></span><br><span class="line"><span class="comment">#   create   自动创建飙到数据库(有原来的表删除后重新创建)</span></span><br><span class="line"><span class="comment">#   create-drop  结束程序删表</span></span><br><span class="line"><span class="comment">#   update 每次更新，不会删除原表 最安全</span></span><br><span class="line"><span class="comment">#   validate 验证字段类型是否一致</span></span><br><span class="line">      <span class="attr">ddl-auto:</span> <span class="string">create/update/create-drop</span></span><br></pre></td></tr></table></figure>



<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><ul>
<li>数据库是“按照数据结构来组织、存储和管理数据的仓库”。是一个长期存储在<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA/140338">计算机</a>内的、有组织的、可共享的、统一管理的大量数据的集合。</li>
<li>数据库是以一定方式储存在一起,能与多个用户共享,具有尽可能小的冗余度,与应用程序彼此独立的数据集合,可视为“电子化”的文件柜–存储电子文件的处所,用户可以对文件中的数据进行新增,查询,更新,删除等操作。</li>
</ul>
<h3 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h3><ul>
<li>是一个关系型数据库管理系统</li>
<li>关系数据库将数据保存在不同的表中,而不是将所有数据放在一个大仓库内,这样就增加了速度并提高了灵活性</li>
<li>mysql使用sql语言用于访问数据库的最常用标准化语言</li>
<li>mysql采用了双授权政策,分为社区和商业,由于体积小,速度快,总体拥有成本低,尤其是开放这一点,一般中小型网站开发都选mysql作为网站数据库</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.515code.com/posts/fm1u9eli/">https://www.515code.com/posts/fm1u9eli/</a></p>
<p>数据类型:<a target="_blank" rel="noopener" href="https://www.runoob.com/mysql/mysql-data-types.html">https://www.runoob.com/mysql/mysql-data-types.html</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DECIMAL</span>(<span class="number">5</span>,<span class="number">2</span>) 最大存储<span class="number">999.99</span> 表示一共<span class="number">5</span>位数,小数点<span class="number">2</span>位</span><br><span class="line"><span class="type">Float</span>也可以向上边一样设置</span><br><span class="line"><span class="type">varchar</span> 长字符串</span><br><span class="line"></span><br><span class="line">常用字符编码: UTF<span class="number">-8</span><span class="operator">/</span>GBK</span><br><span class="line">		utf<span class="number">-8</span>mb4可以放表情</span><br><span class="line"></span><br><span class="line">Mysql语句规范</span><br><span class="line"><span class="comment">-- 关键字函数名 全部大写</span></span><br><span class="line"><span class="comment">-- 数据库名,表名,列名全部小写</span></span><br><span class="line"><span class="comment">-- sql语句必须分号结尾</span></span><br><span class="line"><span class="comment">-- 自动编号 Auto_Increment</span></span><br><span class="line">   默认起始值为<span class="number">1</span>,增量为<span class="number">1</span></span><br><span class="line"><span class="comment">-- PRIMIARY KEY  与Auto_Increment配合使用</span></span><br><span class="line">  主键约束   每张表只能有一个主键 记录唯一 自动<span class="keyword">not</span> <span class="keyword">NUll</span> 可以重复列值</span><br><span class="line"><span class="comment">-- UNIQUE KEY</span></span><br><span class="line">	唯一约束保证记录唯一 字段可以为空 一张表存在多个唯一约束 不可以重复列值                                                  </span><br><span class="line"> <span class="comment">-- default默认值设置 </span></span><br><span class="line"> </span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h2 id="SpringBoot数据库"><a href="#SpringBoot数据库" class="headerlink" title="SpringBoot数据库"></a>SpringBoot数据库</h2><h3 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h3><ul>
<li><p>使用Spring-Data-Jpa</p>
</li>
<li><p>JPA（Java Persistentence API）定义了一系列对象持久化标准</p>
</li>
<li><p>下面来设计RESTful API</p>
<table>
<thead>
<tr>
<th>请求方式</th>
<th>路径</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>GET</td>
<td>/515Code/students</td>
<td>获取所有学生信息</td>
</tr>
<tr>
<td>POST</td>
<td>/515Code/students</td>
<td>创建一条学生信息</td>
</tr>
<tr>
<td>GET</td>
<td>/515Code/students/id</td>
<td>通过学号查询学生</td>
</tr>
<tr>
<td>PUT</td>
<td>/515Code/students/id</td>
<td>通过学号更新学生</td>
</tr>
</tbody></table>
</li>
</ul>
<h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><ul>
<li>数据库事务指的是单个逻辑工作单元执行的一系列操作，要么完全执行，要么完全不执行</li>
</ul>
<h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><ul>
<li>单元测试，指对软件的最小可测试单元进行检查和验证，对于单元测试中单元含义，一般来说，根据实际情况判断具体含义，如c语言是一个函数，java是一个类，图形化是一个窗口或菜单</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用到的注解</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line">可以使用Assert方法测试</span><br></pre></td></tr></table></figure>

<h3 id="管理权限"><a href="#管理权限" class="headerlink" title="管理权限"></a>管理权限</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Repository是持久层用于增删改查数据库</span><br><span class="line">Service调用Repository方法为逻辑层进行业务开发</span><br><span class="line">controller层进行前端交互处理和验证</span><br><span class="line">entity实体类</span><br></pre></td></tr></table></figure>

<h2 id="Aop"><a href="#Aop" class="headerlink" title="Aop"></a>Aop</h2><p><a target="_blank" rel="noopener" href="https://www.515code.com/posts/egs95cdu/">https://www.515code.com/posts/egs95cdu/</a></p>
<p><img src="C:\Users\86138\AppData\Roaming\Typora\typora-user-images\image-20210407201207494.png" alt="image-20210407201207494"></p>
<h3 id="为什么使用Aop"><a href="#为什么使用Aop" class="headerlink" title="为什么使用Aop"></a>为什么使用Aop</h3><ul>
<li><p>解决分离问题</p>
<ul>
<li>水平分离：展示层–》服务层–》持久层（存数据库dao）</li>
<li>垂直分离–》模块划分（如订单，库存）</li>
<li>切面分离：分离功能性需求和非功能性需求</li>
</ul>
</li>
<li><p>好处</p>
<ul>
<li>集中处理某一点关注</li>
<li>增强代码可维护性</li>
</ul>
</li>
<li><p>应用场景</p>
<ul>
<li>权限控制</li>
<li>缓存控制</li>
<li>审计日志</li>
<li>性能监控</li>
<li>异常处理</li>
<li>分布式追踪</li>
</ul>
</li>
</ul>
<h3 id="AOP术语"><a href="#AOP术语" class="headerlink" title="AOP术语"></a>AOP术语</h3><ul>
<li><p>$Target$:目标类，即需要代理的类 例如： UserService</p>
</li>
<li><p>$JointPoint$:连接点  所谓连接点是指那些可能被拦截到的方法 例如：所有的方法</p>
</li>
<li><p>$PointCut$: 切入点  已经被增强的连接点  如 addUser()</p>
</li>
<li><p>$advice$:通知/增强  增强代码, 例如After/Before</p>
</li>
<li><p>$Weaving$:织入 是指把增强advice应用到目标对象target来创建新的代理对象proxy的过程</p>
</li>
<li><p>$proxy$:代理类 实现aop方法</p>
</li>
<li><p>$Aspect$:切面 是切入点pointcut和通知advice结合</p>
</li>
<li><p><strong>连接点包含切入点</strong></p>
</li>
<li><p>$常见通知$:</p>
<ul>
<li>前置通知:在我们执行目标方法之前运行@Before</li>
<li>后置通知:在我们执行目标方法运行结束后,不管有没有异常@After</li>
<li>返回通知:在我们目标方法正常返回值后运行(@AfterReturning)</li>
<li>异常通知:在我们目标方法出现异常后运行(@AfterThrowing)</li>
<li>环绕通知:动态代理,需要手动执行 jointPoint.proceed()(其实就是执行我们的目标方法执行之前相当于前置通知,执行之后相当于后置通知)  @Around</li>
</ul>
</li>
<li><p>加aop依赖给poxm.xml</p>
</li>
</ul>
<h3 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h3><ul>
<li><p>声明注解进行拦截@annotation</p>
</li>
<li><p>excution表达式 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">修饰符pattern</span><br><span class="line">返回值pattern</span><br><span class="line">描述包名</span><br><span class="line">方法名(参数)</span><br><span class="line">方法抛出异常pattern</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="JAVA日志"><a href="#JAVA日志" class="headerlink" title="JAVA日志"></a>JAVA日志</h2><ul>
<li><p>日志:保存描述系统运行状态的信息</p>
</li>
<li><p>日志框架:能实现日志输出的工具包</p>
</li>
<li><p>日志框架功能:定制输出目标(输出到哪个位置),格式,选择性输出</p>
</li>
<li><p>常见日志框架:</p>
<ul>
<li>日志门面:是日志实现的抽象层  JCL SLF4j</li>
<li>日志实现:具体的日志功能的实现。如JUL,log4j,log4j2,logback</li>
</ul>
</li>
<li><p><strong>SLF4j</strong>:实现了日志框架的通用api</p>
</li>
<li><p>logback是具体日志框架 和log4j是同一个作者</p>
</li>
<li><p>slf4j和logback可以简单看作jdbc和其具体数据库的JDBC的jar包关系</p>
</li>
<li><p>推荐使用slf4j,不直接使用logback</p>
</li>
</ul>
<p>日志级别:<a target="_blank" rel="noopener" href="https://www.515code.com/posts/khsh8lxz/">https://www.515code.com/posts/khsh8lxz/</a>    ctrl+N可以idea进行类搜索</p>
<h2 id="数据库连接补充"><a href="#数据库连接补充" class="headerlink" title="数据库连接补充"></a>数据库连接补充</h2><h3 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@Entity:每个持久化POJO类都是一个实体Bean,用于映射数据库表</span></span><br><span class="line"><span class="comment">//@Table:声明此对象映射到数据库的数据表,该注释不是必须的,如果没有,系统会使用默认值(实体类短名)</span></span><br><span class="line"><span class="comment">//@Id 用于指定表的主键</span></span><br><span class="line"><span class="comment">//@GeneratedValue: 默认使用主键方式自增 hibernate会自动生成一个名为HIBERNATE_SEQUENCE的序列</span></span><br><span class="line"><span class="comment">//@Column:用于映射属性名字段名,没有该注解,hibernate会自动根据属性名生成数据表的字段名.如name映射字段NAME;多字母属性如username会自动映射为USER_NAME</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Innodb才支持主键自增</li>
</ul>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul>
<li><p>java中Integer默认为null,int默认为0</p>
</li>
<li><p>vo http最外层返回的对象  层层封装的结果 ==controller的方法也返回的一定是vo对象==</p>
</li>
<li><p>controller层要返回数据会用到service层,要注入service实例  使用service层的方法既是返回vo对象给前端,又会把前端提交的数据通过调用该方法传入service层</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/04/16/Spring%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/04/16/Spring%E6%80%BB%E7%BB%93/" itemprop="url">Spring总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-04-15T19:57:50Z">
                2021-04-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>Spring:春天——–&gt;给软件行业带来了春天<br>        2002,首次推出了Spring框架的雏形 Interface21框架<br>        2004,3.24发布1.0版本<br>        Rod Johnson Spring核心创始人 音乐学博士<br>        Spring:使得现有技术更加容易使用,本身是一个大杂烩,整合了现有的技术框架</p>
<p>SSH:Struct2+Spring+Hibernate<br>       SSM:SpringMVC+Spring+Mybatis</p>
<p>官网： <a target="_blank" rel="noopener" href="https://spring.io/projects/spring-framework#overview">https://spring.io/projects/spring-framework#overview</a></p>
<p>官方下载： <a target="_blank" rel="noopener" href="https://repo.spring.io/release/org/springframework/spring/">https://repo.spring.io/release/org/springframework/spring/</a></p>
<p>GitHub： <a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-framework">https://github.com/spring-projects/spring-framework</a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>优点:</p>
<ul>
<li>spring是一个开源免费的框架(容器)</li>
<li>Spring是一个轻量级的,非入侵式的框架</li>
<li><strong>控制反转(IOC),面向切面编程(AOP)</strong></li>
<li>支持事务处理,对框架整合的支持</li>
</ul>
<p>==总结:Spring就是一个控制反转(IOC),和面向切面编程(AOP) 的框架!==</p>
<h3 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h3><p><a target="_blank" rel="noopener" href="https://images2017.cnblogs.com/blog/1219227/201709/1219227-20170930225010356-45057485.gif">https://images2017.cnblogs.com/blog/1219227/201709/1219227-20170930225010356-45057485.gif</a></p>
<p>拓展:java现代化开发<br>                <strong>springboot:构建一切</strong>,<strong>spring cloud:协调一切</strong>,<strong>spring cloud data plow连接一切</strong><br>                springBoot:  1.一个快速开发的脚手架<br>                                    2.基于SpringBoot可以快速开发单个微服务<br>                                    3.约定大于配置</p>
<p>​            SpringCloud:基于Springboot实现<br>​                    Spring:承上启下<br>​                    弊端:违背了原来理念,配置地狱</p>
<p>学习spring:<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-p-namespace">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-p-namespace</a></p>
<h2 id="IOC-思想"><a href="#IOC-思想" class="headerlink" title="IOC(思想)"></a>IOC(思想)</h2><h3 id="IOC理论推导"><a href="#IOC理论推导" class="headerlink" title="IOC理论推导"></a>IOC理论推导</h3><p><strong>IOC就是第三方,用于管理所有类,帮它们创建对象…..</strong></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/ivan820819/article/details/79744797">https://blog.csdn.net/ivan820819/article/details/79744797</a></p>
<p>原来写一个业务: 1.userdao接口  2.userdao实现类  3.user业务接口  4.user业务实现类<br>        之前的业务中,用户需求会影响我们的代码,我们想要根据用户需求去修改源代码!如果程序代码量十分大,修改一次成本很高</p>
<p>我们使用Set接口实现,发生革命变化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//利用set进行动态实现值的注入 此时实现类中想用什么层让用户去实现就可以了</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>之前,程序主动创建对象,控制权在程序员手上<br>使用set注入后,程序不再有主动性,而是成为被动接受对象,userDao没有写死</p>
<p>该思想不用在去管理对象的创建了,系统的耦合性大大降低,可以专注于业务实现<br>这是IOC原型,控制反转,即主动权发生反转.</p>
<p>用户–&gt;业务层(主动权) 程序员根据用户选择选择设置调用什么),==&gt;set注入–&gt;<br>用户(主动权) 用户选择设置调用什么)–&gt;业务层</p>
<p><strong>控制反转:获得依赖的对象发生了反转(程序员–&gt;用户)</strong></p>
<h3 id="IOC本质"><a href="#IOC本质" class="headerlink" title="IOC本质"></a>IOC本质</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/evilposeidon/p/13367567.html">https://www.cnblogs.com/evilposeidon/p/13367567.html</a></p>
<h3 id="HelloSpring"><a href="#HelloSpring" class="headerlink" title="HelloSpring"></a>HelloSpring</h3><p>Hello对象是Sprig创建的,Hello对象的属性是由Spring容器(beans.xml)设置的—-反转<br>控制:谁来控制对象的创建,传统应用程序是由程序员操作,现在用Spring来创建<br>        反转:程序本身不创建对象,而变成被动接收对象<br>        依赖注入:利用set方式进行注入<br>        IOC是编程思想,由主动编程变为被动接受<br>        可以通过newClassPathXmlApplicationContext去浏览底层源码<br>此时,彻底不用在程序中修改,只在xml中进行修改即可,所谓IOC:<strong>对象由Spring来创建,管理,装配</strong></p>
<h3 id="ioc创建对象方式"><a href="#ioc创建对象方式" class="headerlink" title="ioc创建对象方式"></a>ioc创建对象方式</h3><p>1.使用无参构造创建对象,默认!<br>        2.假设我们要使用有参构造创建对象</p>
<ul>
<li><p>下标赋值</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.User&quot;</span>&gt;</span>     </span><br><span class="line">	<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">value</span>=<span class="string">&quot;haley&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>类型</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.User&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">type</span>=<span class="string">&quot;java.lang.String&quot;</span> <span class="attr">value</span>=<span class="string">&quot;haley&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>通过参数名创建</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 第三种 直接通过 参数名创建对象   --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.User&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;haley&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>总结:在配置文件加载的时候,容器中管理的对象就已经初始化了</strong></p>
<h2 id="Spring配置"><a href="#Spring配置" class="headerlink" title="Spring配置"></a>Spring配置</h2><h3 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--   别名:如果添加了别名 我们也可以使用别名获取到这个对象</span></span><br><span class="line"><span class="comment">给user取个别名--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">alias</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;abcd&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="bean"><a href="#bean" class="headerlink" title="bean"></a>bean</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--id:bean 的唯一标识符,也就是相当于我们学的对象名字</span></span><br><span class="line"><span class="comment">    class: bean对象所对应的全限定名 包+类名</span></span><br><span class="line"><span class="comment">    name:别名  而且name可以同时取多个别名 , 空格 ; 均可用于分隔别名</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userT&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.UserT&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user2,u2 u3;u4&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;哈哈哈&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="import"><a href="#import" class="headerlink" title="import"></a>import</h3><p>一般用于多个团队合作</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    相同别名设置不同值 会被后者同样的key的值的覆盖 导入的xml中必须有&lt;bean&gt;&lt;/bean&gt;设置 否则报错--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;beans.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;beans2.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;beans3.xml&quot;</span>/&gt;</span></span><br><span class="line">把多个配置文件导入一个文件中 合并</span><br></pre></td></tr></table></figure>

<h2 id="依赖注入-DI"><a href="#依赖注入-DI" class="headerlink" title="依赖注入(DI)"></a>依赖注入(DI)</h2><h3 id="构造器"><a href="#构造器" class="headerlink" title="构造器"></a>构造器</h3><p><strong>(基于构造函数+bean注入)注入</strong></p>
<p>构造器注入保证一些必要的属性在Bean实例化时就得到设置，并且确保了Bean实例在实例化后就可以使用。</p>
<p><strong>使用方式：</strong></p>
<ol>
<li>在类中，不用为属性设置setter方法，但是需要生成该类带参的构造方法。</li>
<li>在配置文件中配置该类的bean，并配置构造器，在配置构造器中用到了<constructor-arg>节点，该节点有四个属性<ul>
<li>index：指定注入属性的顺序索引，从0开始；</li>
<li>type：指该属性所对应的类型；</li>
<li>ref：引用的依赖对象；</li>
<li>value：当注入的不是依赖对象，而是基本数据类型时，就用value；</li>
<li>例子见:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/Jason-Xiang/p/5345342.html%E6%88%96idea%E4%B8%AD%E7%9A%84hellospring%E4%BE%8B%E5%AD%90">https://www.cnblogs.com/Jason-Xiang/p/5345342.html或idea中的hellospring例子</a></li>
</ul>
</li>
</ol>
<h3 id="set方式注入"><a href="#set方式注入" class="headerlink" title="set方式注入"></a>set方式注入</h3><p>依赖注入: Set注入!<br>            依赖:bean对象的创建依赖于容器<br>            注入:bean对象的所有属性,由容器注入</p>
<p>环境搭建<br>1.复杂类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Address</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.真是测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Address address;</span><br><span class="line">    <span class="keyword">private</span> String[] books;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; hobbies;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt; card;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; games;</span><br><span class="line">    <span class="keyword">private</span> String wife;</span><br><span class="line">    <span class="keyword">private</span> Properties info;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    设置get,set方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.beans.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    id为变量名(new的类返回的对象名)       class为new的类--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    第一种set注入 直接使用普通值即可 value--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;haley&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.测试类Mytest</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">      ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;beans.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Student student = (Student) context.getBean(<span class="string">&quot;student&quot;</span>);</span><br><span class="line">        System.out.println(student.getAddress());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.完善注入信息</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="line">       xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;bean id=<span class="string">&quot;address&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.haley.pojo.Address&quot;</span>&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;address&quot;</span> value=<span class="string">&quot;American&quot;</span>/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--    id为变量名(<span class="keyword">new</span>的类返回的对象名)       <span class="class"><span class="keyword">class</span>为<span class="title">new</span>的类--&gt;</span></span><br><span class="line"><span class="class">&lt;!--    第一种<span class="title">set</span>注入 直接使用普通值即可 <span class="title">value</span>--&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">bean</span> <span class="title">id</span></span>=<span class="string">&quot;student&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.haley.pojo.Student&quot;</span>&gt;</span><br><span class="line">&lt;!--    第一种 普通值注入--&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;name&quot;</span> value=<span class="string">&quot;haley&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  第二种  bean注入用ref注入--&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;address&quot;</span> ref=<span class="string">&quot;address&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--    第三种 数组注入 较少--&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;books&quot;</span> &gt;</span><br><span class="line">        &lt;array&gt;</span><br><span class="line">            &lt;value&gt;红楼梦&lt;/value&gt;</span><br><span class="line">            &lt;value&gt;西游记&lt;/value&gt;</span><br><span class="line">            &lt;value&gt;三国演义&lt;/value&gt;</span><br><span class="line">        &lt;/array&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;!--list注入--&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;hobbies&quot;</span> &gt;</span><br><span class="line">        &lt;list&gt;</span><br><span class="line">            &lt;value&gt;听歌&lt;/value&gt;</span><br><span class="line">            &lt;value&gt;看电影&lt;/value&gt;</span><br><span class="line">            &lt;value&gt;敲代码&lt;/value&gt;</span><br><span class="line">        &lt;/list&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;!--    Map注入--&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;card&quot;</span>&gt;</span><br><span class="line">        &lt;map&gt;</span><br><span class="line">            &lt;entry key=<span class="string">&quot;身份证&quot;</span> value=<span class="string">&quot;12345612345678&quot;</span>/&gt;</span><br><span class="line">            &lt;entry key=<span class="string">&quot;银行卡&quot;</span> value=<span class="string">&quot;hj123456&quot;</span>/&gt;</span><br><span class="line">        &lt;/map&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;!--    Set注入--&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;games&quot;</span>&gt;</span><br><span class="line">        &lt;set&gt;</span><br><span class="line">            &lt;value&gt;LOL&lt;/value&gt;</span><br><span class="line">            &lt;value&gt;COC&lt;/value&gt;</span><br><span class="line">            &lt;value&gt;BOB&lt;/value&gt;</span><br><span class="line">        &lt;/set&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;!--    <span class="keyword">null</span>值注入--&gt;</span><br><span class="line">&lt;!--    &lt;property name=<span class="string">&quot;wife&quot;</span> value=<span class="string">&quot;&quot;</span>/&gt; 值为空 下边为<span class="keyword">null</span>--&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;wife&quot;</span>&gt;</span><br><span class="line">        &lt;<span class="keyword">null</span>/&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--    properties注入--&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;info&quot;</span>&gt;</span><br><span class="line">        &lt;props&gt;</span><br><span class="line">            &lt;prop key=&quot;学号&quot;&gt;20204816&lt;/prop&gt;</span><br><span class="line">            &lt;prop key=&quot;性别&quot;&gt;女&lt;/prop&gt;</span><br><span class="line">            &lt;prop key=&quot;姓名&quot;&gt;haley&lt;/prop&gt;</span><br><span class="line">            &lt;prop key=&quot;url&quot;&gt;haley&lt;/prop&gt;</span><br><span class="line">            &lt;prop key=&quot;username&quot;&gt;haley&lt;/prop&gt;</span><br><span class="line">            &lt;prop key=&quot;password&quot;&gt;haley&lt;/prop&gt;</span><br><span class="line">        &lt;/props&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>

<h3 id="扩展方式"><a href="#扩展方式" class="headerlink" title="扩展方式"></a>扩展方式</h3><p>p(set)命名注入 c(构造器)命名注入</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       //新增<span class="attr">p</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       //新增<span class="attr">c</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:c</span>=<span class="string">&quot;http://www.springframework.org/schema/c&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    p命名空间注入 可以直接注入属性的值:property--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.User&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;haley&quot;</span> <span class="attr">p:age</span>=<span class="string">&quot;18&quot;</span> /&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--    使用c该类必须有有参 无参构造器 c命名注入 constructor-args--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.User&quot;</span> <span class="attr">c:age</span>=<span class="string">&quot;18&quot;</span> <span class="attr">c:name</span>=<span class="string">&quot;haley2&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@Test</span> 表示执行这个方法, 不一定执行main方法</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;userbeans.xml&quot;</span>);</span><br><span class="line"><span class="comment">//            User user = (User) context.getBean(&quot;user&quot;);//强转 下边不用强转</span></span><br><span class="line"><span class="comment">//        User user = context.getBean(&quot;user&quot;, User.class);</span></span><br><span class="line"><span class="comment">//        System.out.println(user);</span></span><br><span class="line">        User user2 = context.getBean(<span class="string">&quot;user2&quot;</span>, User.class);</span><br><span class="line">        System.out.println(user2);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意:P命名和C命名空间不能直接使用 需要导入xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:c=&quot;http://www.springframework.org/schema/c&quot;   		xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br></pre></td></tr></table></figure>

<h3 id="bean的作用域"><a href="#bean的作用域" class="headerlink" title="bean的作用域"></a>bean的作用域</h3><p>1.<em>单例模式</em></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    使用c该类必须有有参 无参构造器 c命名注入 constructor-args--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.User&quot;</span> <span class="attr">c:age</span>=<span class="string">&quot;18&quot;</span> <span class="attr">c:name</span>=<span class="string">&quot;haley2&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.<em>原型模式</em>(浪费资源)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">&lt;!--   System.out.println(user2==user1); 为false--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.User&quot;</span> <span class="attr">c:age</span>=<span class="string">&quot;18&quot;</span> <span class="attr">c:name</span>=<span class="string">&quot;haley2&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>3.其余的request,session,application 这些都只能在web开发中使用到</p>
<h2 id="bean的自动装配"><a href="#bean的自动装配" class="headerlink" title="bean的自动装配"></a>bean的自动装配</h2><ul>
<li><p>自动装配是Spring满足bean的依赖的一种方式</p>
</li>
<li><p>Spring会在上下文中自动寻找并自动给bean装配属性</p>
<p>在Spring中有3种自动装配是方式</p>
<ul>
<li>在xml中显示的配置</li>
<li>在java中显示配置</li>
<li>隐式的自动装配(重要)</li>
</ul>
</li>
</ul>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>1.环境搭建:一个人有两个宠物</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ByName装配</span><br><span class="line"><span class="comment">&lt;!--    id为创建对象名字 也是括号里的字符串   class 为new的类--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--byName:会自动在容器上下文中查找 和自己对象在set方法后面对应的bean id(不区分大小写)</span></span><br><span class="line"><span class="comment">    byType:会自动在容器上下文中查找 和自己对象属性类型(class)相同的bean 此时可以不要cat的id</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cat&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.Cat&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dog&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.Dog&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.People&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;haley&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">ByType装配</span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.Cat&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span>  <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.Dog&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;people&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.pojo.People&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;haley&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">总结:</span><br><span class="line">byname的时候,需要保证bean的id唯一,并且这个bean需要和自动注入的属性的set方法的值一致</span><br><span class="line">bytype的时候,需要保证bean的class唯一,并且这个bean需要和自动注入的属性的类型一致</span><br></pre></td></tr></table></figure>

<h3 id="使用注解实现自动装配"><a href="#使用注解实现自动装配" class="headerlink" title="使用注解实现自动装配"></a>使用注解实现自动装配</h3><p>jdk1.5开始支持  Spring2.5就支持注解<br>要使用注解须知:<br>        1.导入约束 <code> xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</code><br>        ==2.配置注解的支持==</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>@Autowired</strong>(自动装配)<br>    直接在属性上使用即可,注入到beans,也可以在set方式上使用<br>使用Autowired我们可以不用编写Set方法,前提是你这个自动装配属性在IOC(Spring)容器中存在且符合名字ByName<br>科普:<br>    <strong>@Nullable</strong> 字段标记了这个注解,说明这个字段可以为null,为空不报错</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Nullable</span>演示:</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="meta">@Nullable</span> String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">类似于<span class="meta">@Nullable</span>:<span class="meta">@Autowired</span>使用</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line"><span class="comment">//    人可以拥有cat dog</span></span><br><span class="line"><span class="comment">//    如果显示定义了Autowired的属性为false,说明这个属性可以为null不报错,否则不允许为空</span></span><br><span class="line">    <span class="meta">@Autowired(required = false)</span></span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果@Autowired自动装配环境较为复杂的时候,自动装配无法通过一个注解(@Autowired)完成,我们可以使用@Qualifier(value = “xxx)去配合@Autowired使用,指定一个唯一的bean对象注入!(这两为Spring的注解)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line"><span class="comment">//    人可以拥有cat dog</span></span><br><span class="line"><span class="comment">//    如果显示定义了Autowired的属性为false,说明这个属性可以为null不报错,否则不允许为空</span></span><br><span class="line">    <span class="meta">@Autowired(required = false)</span></span><br><span class="line">    <span class="meta">@Qualifier(value = &quot;cat222&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(value = &quot;dog222&quot;)</span><span class="comment">//多只狗,选中beans中id=dog222的狗</span></span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>@Resource</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line"><span class="comment">//    人可以拥有cat dog</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource(name = &quot;cat2&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br><span class="line">注意:需要引入依赖 &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.2&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">小结:<span class="meta">@Resource</span>和<span class="meta">@Autowired</span>异同:</span><br><span class="line">	相同:都是用来装配的,都可以放在属性字段上</span><br><span class="line">     不同:<span class="meta">@Autoeired</span>通过byType方式实现 而且必须要求这个对象存在[常用]</span><br><span class="line">         <span class="meta">@Resource</span>默认通过byname方式实现,如果找不到名字,则通过byType实现!如果两个都找不到就报错</span><br><span class="line">         执行顺序不同:<span class="meta">@Autoeired</span>通过byType方式实现 . <span class="meta">@Resource</span>默认通过byname方式实现,</span><br></pre></td></tr></table></figure>

<h2 id="使用注解开发"><a href="#使用注解开发" class="headerlink" title="使用注解开发"></a>使用注解开发</h2><h3 id="代替xml注解"><a href="#代替xml注解" class="headerlink" title="代替xml注解"></a>代替xml注解</h3><ul>
<li>spring4之后,要使用注解开发,必须导入aop包</li>
<li>使用注解需要导入context约束,增加注解支持        </li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>bean和属性的注入</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//等价于        &lt;bean id=&quot;user&quot; class=&quot;com.haley.pojo.User&quot;/&gt;</span></span><br><span class="line"><span class="comment">//@Component 组件 注册的bean默认id为类名小写 表示注册到IOC容器中</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"><span class="comment">//    public String name=&quot;haley&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    相当于        &lt;property name=&quot;user&quot; value=&quot;haley&quot;/&gt;</span></span><br><span class="line"><span class="comment">//    @Value(&quot;haley&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    相当于        &lt;property name=&quot;user&quot; value=&quot;haley&quot;/&gt;</span></span><br><span class="line">    <span class="meta">@Value(&quot;haley&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.衍生的注解<br>        @Component有几个衍生注解,我们在web开发中,会按照mvc三层架构分层!<br>            下面衍生注解都含义相同,用于注册bean:</p>
<ul>
<li>dao [@Repository]</li>
<li>service [@Service]</li>
<li>controller  [@Controller]</li>
</ul>
<p><strong>这四个功能一样都是代表将某个类注册到Spring容器中进行bean装配</strong></p>
<p>4.自动装配注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- <span class="meta">@Autowired</span>:自动装配通过类型,名字</span><br><span class="line">    如果Autowired不能唯一自动装配属性,则需要通过<span class="meta">@Qualifier(value=&quot;xxx&quot;)</span></span><br><span class="line">-  **<span class="meta">@Nullable</span>** 字段标记了这个注解,说明这个字段可以为<span class="keyword">null</span>,为空不报错</span><br><span class="line">- <span class="meta">@Resource</span>:自动装配通过名字,类型</span><br></pre></td></tr></table></figure>

<p>5.Scope注解(放在类上)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@Scope(&quot;singleton&quot;)//单例模式</span></span><br><span class="line"><span class="comment">//@Scope(&quot;prototype&quot;)//多例模式</span></span><br></pre></td></tr></table></figure>

<p>6.小结</p>
<ul>
<li><p>xml更加万能,适用于任何场合!简单更加容易维护</p>
</li>
<li><p>注解  不是自己的类使用不了</p>
</li>
<li><p>维护相对复杂</p>
<p>最佳实践:   </p>
<ul>
<li><p>xml用于管理bean</p>
</li>
<li><p>注解只负责完成属性注入</p>
</li>
<li><p>我们在使用过程中只需要注意必须让注解生效需要开启注解支持</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    指定要扫描的包 这个包下的注解就会生效--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.haley&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="完全使用java方式配置Spring"><a href="#完全使用java方式配置Spring" class="headerlink" title="完全使用java方式配置Spring"></a>完全使用java方式配置Spring</h3><p>我们现在完全不使用Spring的xml配置,全权交给java来做<br>JavaConfig是Spring的一个子项目,Spring4之后成为了新功能</p>
<p>实体类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这个注解的意思就是说明这个类被Spring接管了,注册到容器中</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Value(&quot;haley&quot;)</span><span class="comment">//属性注入值</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>配置类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">配置类<span class="number">1</span></span><br><span class="line"><span class="comment">//这个也会被Spring容器注册到容器中,因为它本来就有@Component代表是一个配置类,就和我们之前看到的beans.xml一样</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//扫描包</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.haley.pojo&quot;)</span></span><br><span class="line"><span class="meta">@Import(HaleyConfiig2.class)</span><span class="comment">//让KuangConfig配置也融合进来</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HaleyConfig</span> </span>&#123;</span><br><span class="line"><span class="comment">//    注册一个bean就相当于之前写的bean标签</span></span><br><span class="line"><span class="comment">//    id是这个方法名字相当于bean标签中id名字</span></span><br><span class="line"><span class="comment">//    这个方法返回值 就相当于&quot;bean中标签的class属性&quot;</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">User</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> User();<span class="comment">//就是返回要注入到bean的对象</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">配置类<span class="number">2</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HaleyConfiig2</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        如果完全使用配置类方式去做,就只有通过AnnotationConfigApplicationContext(ACAC)获取容器,通过配置类class对象加载</span></span><br><span class="line">        AnnotationConfigApplicationContext context= <span class="keyword">new</span>  AnnotationConfigApplicationContext(HaleyConfig.class);</span><br><span class="line"></span><br><span class="line">        User user = (User) context.getBean(<span class="string">&quot;user&quot;</span>);<span class="comment">//这边取取方法名  得到对象</span></span><br><span class="line">        System.out.println(user.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><p>为什么学习代理模式?<br>            因为这就是SpringAop的底层**[SpringAop和SpringMVC必问]**<br>        代理: (租房的人)—&gt;租房中介——&gt;房东    (租房中介,房东需求一致:租房)</p>
<p>​        代理模式分类: </p>
<ul>
<li>静态代理</li>
<li>动态代理</li>
</ul>
<h3 id="静态代理"><a href="#静态代理" class="headerlink" title="静态代理"></a>静态代理</h3><p>角色分析:</p>
<ul>
<li><p>抽象角色:一般会使用接口或者对象类来解决(租房)——-接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//租房</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Rent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>真实角色:被代理的角色</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//房东</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Host</span>  <span class="keyword">implements</span> <span class="title">Rent</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;房东要出租房子&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>代理角色:代理真实角色,代理真实角色后,会做一系列操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Proxy</span> <span class="keyword">implements</span> <span class="title">Rent</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    找房东 用聚合方式拿过来房东</span></span><br><span class="line">    <span class="keyword">private</span> Host host;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Proxy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Proxy</span><span class="params">(Host host)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.host = host;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    重写租房方法,调用房东方法  还有代理特有方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        host.rent();</span><br><span class="line">        seeHouse();</span><br><span class="line">        heTong();</span><br><span class="line">        fare();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    看房</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">seeHouse</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;中介带你看房&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//    收中介费</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fare</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;中介带你看房&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    租赁合同</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">heTong</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;签合同&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>客户:访问代理对象的人</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//要租房人</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        找房东</span></span><br><span class="line">        Host host=<span class="keyword">new</span> Host();</span><br><span class="line"><span class="comment">//        租房 找代理,代理代理房东 中介帮旁房东租房子  但是,代理角色会有附属操作</span></span><br><span class="line">        Proxy proxy = <span class="keyword">new</span> Proxy(host);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        不用面对房东,直接找中介租房即可</span></span><br><span class="line">        proxy.rent();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>代理模式好处</p>
<ul>
<li>可以使得真实角色操作更加纯粹,不用关注一些公共业务</li>
<li>公共就交给代理角色,实现业务分工</li>
<li><strong>公共业务发生扩展的时候,方便管理</strong>:不改变原有业务下实现其他功能,使用代理模式</li>
</ul>
<p>缺点:</p>
<ul>
<li>一个真实角色就会产生一个代理角色,代码量会翻倍,效率变低</li>
</ul>
<p>面向对象七大原则</p>
<p>原来 :  纵向开发:dao–&gt;service–&gt;controller—&gt;前端<br>                                            给service设置代理(横向开发)  —Aop实现底层</p>
<h3 id="动态代理"><a href="#动态代理" class="headerlink" title="动态代理"></a>动态代理</h3><ul>
<li>动态代理和静态代理角色一样</li>
<li>动态代理的代理类是动态生成的,不是我们直接写好的</li>
<li>动态代理分为两大类,基于接口动态代理,基于类的动态代理<ul>
<li>基于接口的动态代理—-jdk动态代理[我们在这里使用]</li>
<li>基于类:cglib</li>
<li>java字节码实现:javasist</li>
</ul>
</li>
</ul>
<p>了解两个类:Proxy(代理,生成动态代理实例),InvocationHandler(调用处理程序并返回一个结果的)</p>
<p>动态代理好处:</p>
<ul>
<li>同静态代理</li>
<li>一个动态代理类代理的是一个接口,一般就是对应一类业务</li>
<li>一个动态代理类可以代理多个类只要是实现了一个接口即可</li>
</ul>
<p>这里不会再学一学反射</p>
<h3 id="回顾-注解和反射"><a href="#回顾-注解和反射" class="headerlink" title="回顾(注解和反射)"></a>回顾(注解和反射)</h3><h4 id="注解-jdk5开始"><a href="#注解-jdk5开始" class="headerlink" title="注解(jdk5开始)"></a>注解(jdk5开始)</h4><p>Annotation作用:</p>
<ul>
<li>不是程序本身,可以对程序作出解释</li>
<li>可以被其他程序(编译器)读取</li>
<li>@开头 可以加在package,class,method,field上方</li>
</ul>
<p>内置注解:<code>@Deprecated``@SuppressWarnings``@Override </code><br>       元注解(自定义注解时候使用):负责注解其他注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>:用于描述注解使用范围</span><br><span class="line"><span class="meta">@Retention</span>:表示需要在什么级别保存该注释信息,用于描述注解声明周期</span><br><span class="line"><span class="meta">@Document</span>:该注解被包含在javadoc中</span><br><span class="line"><span class="meta">@Inherited</span>:说明子类可以继承父类中的注解</span><br></pre></td></tr></table></figure>

<p>自定义注解<br><code>@interface</code>—- 用于声明注解</p>
<ul>
<li>格式 public @interface 注解名{内容}(类中把public省略)</li>
<li>每个方法实际上是声明了配置参数</li>
<li>方法名称就是参数名称</li>
<li>返回值类型是参数类型,只能是(Class,String,enum)</li>
<li>可以通过default来声明参数默认值</li>
<li>如果只有一个参数成员,一般参数名为value</li>
<li>注解元素必须有值,我们定义注解元素时,经常使用空字符串,0作为默认值</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自定义注解</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test03</span> </span>&#123;</span><br><span class="line"><span class="comment">//    定义一个方法</span></span><br><span class="line"><span class="comment">//    注解可以显示赋值 如果没有默认值,我们就要给注解赋值</span></span><br><span class="line">    <span class="meta">@MyAnnotation2(age = 18)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Test</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@MyAnnotation3(&quot;haley&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE,ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@interface</span> MyAnnotation2()&#123;</span><br><span class="line"><span class="comment">//    注解参数 :参数类型:参数名(); 不是方法</span></span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">age</span><span class="params">()</span> <span class="keyword">default</span> 0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">id</span><span class="params">()</span> <span class="keyword">default</span> -1</span>;<span class="comment">//如果默认值为-1代表不存在</span></span><br><span class="line">    String[] schools() <span class="keyword">default</span> &#123;<span class="string">&quot;西北大学&quot;</span>,<span class="string">&quot;中北大学&quot;</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE,ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@interface</span> MyAnnotation3()&#123;</span><br><span class="line">  <span class="function">String <span class="title">value</span><span class="params">()</span></span>;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="反射-Reflection"><a href="#反射-Reflection" class="headerlink" title="反射(Reflection)"></a>反射(Reflection)</h4><p>使得java变成动态语言,可以通过反射取得任何类的内部信息</p>
<p><strong>语言</strong></p>
<ul>
<li>动态语言:Object-C,C#,js,PHP,Python</li>
<li>静态语言:c++,c</li>
</ul>
<p><strong>反射</strong><br>正常方式:引入需要的包名==&gt;new实例化—&gt;取得实例化对象<br>反射:实例化对象—&gt;getClass()方法—&gt;得到完整“包类”名称</p>
<p>加载完类之后,在堆内存中就产生了一个Class类型对象<br>(一个类只有一个Class对象),该class对象包含完整该类完整结构信息,如一名镜子<br>优点:动态创建对象和编译,灵活  缺点:慢</p>
<p>Class:类   Method:方法 Field:成员变量 Constructor:类构造器<br><strong>Class</strong>:</p>
<ul>
<li>本身是一个类,Object中有getClass,所有类继承自Object,可以通过实例对象.getClass()获得Class类对象</li>
<li>Class对象只能由系统建立对象,我们通过Class.forName(“类名”)得到</li>
<li>一个类只有一个Class对象        </li>
<li>一个Class对象对应的是一个加载到JVM中的一个Class实例所生成</li>
<li>每个实例都会记得自己是由哪个Class实例生成的</li>
<li>class对象包含完整该类完整结构信息</li>
<li>Class类是反射根源,想要动态加载,运行的类,先要获得相应的Class对象</li>
</ul>
<p>Class类有很多方法</p>
<ul>
<li><p>得到class类实例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.reflection;</span><br><span class="line"><span class="comment">//测试class类的创建方式</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test03</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        Person person=<span class="keyword">new</span> Student();</span><br><span class="line">        System.out.println(<span class="string">&quot;这个人是&quot;</span>+person.name);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        方式一:通过对象获得class对象</span></span><br><span class="line">        Class&lt;?&gt; c1 = person.getClass();</span><br><span class="line"><span class="comment">//        方式二:forName获得class对象</span></span><br><span class="line">        Class&lt;?&gt; c2 = Class.forName(<span class="string">&quot;com.haley.reflection.Student&quot;</span>);</span><br><span class="line"><span class="comment">//        方式3:通过类名.class获得</span></span><br><span class="line">        Class&lt;Student&gt; c3 = Student.class;</span><br><span class="line"><span class="comment">//        方式4:基本类型的包装类都有一个Type属性</span></span><br><span class="line">        Class&lt;Integer&gt; c4 = Integer.TYPE;</span><br><span class="line">        System.out.println(c4);</span><br><span class="line"><span class="comment">//       获得父类类型</span></span><br><span class="line">        Class&lt;? <span class="keyword">super</span> Integer&gt; c5 = c4.getSuperclass();</span><br><span class="line">        System.out.println(c5);</span><br><span class="line"></span><br><span class="line">        System.out.println(c1.hashCode()==c2.hashCode());</span><br><span class="line">        System.out.println(c1.hashCode()==c3.hashCode());</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=<span class="string">&quot;学生&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"><span class="comment">//    无参构造</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Teacher</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=<span class="string">&quot;老师&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>哪些类型可以有Class对象<pre><code>class:外部类,成员(成员内部类,静态内部类) 局部内部类,匿名内部类
interface:接口
[]:数组
enum:枚举
annotation:注解@interface
primituive type:基本数据类型
void
</code></pre>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//所有类型的Class</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test04</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        Object类可以有class</span></span><br><span class="line">        Class&lt;Object&gt; c1 = Object.class;</span><br><span class="line"><span class="comment">//        接口class对象</span></span><br><span class="line">        Class&lt;Comparable&gt; c2 = Comparable.class;</span><br><span class="line"><span class="comment">//        一维数组有class对象</span></span><br><span class="line">        Class&lt;String[]&gt; c3 = String[].class;</span><br><span class="line"><span class="comment">//        二维数组有class对象</span></span><br><span class="line">        Class&lt;<span class="keyword">int</span>[][]&gt; c4 = <span class="keyword">int</span>[][].class;</span><br><span class="line"><span class="comment">//        注解youclass</span></span><br><span class="line">        Class&lt;Override&gt; c5 = Override.class;</span><br><span class="line"><span class="comment">//        枚举类型的class</span></span><br><span class="line">        Class&lt;ElementType&gt; c6 = ElementType.class;</span><br><span class="line"><span class="comment">//        Integer</span></span><br><span class="line">        Class&lt;Integer&gt; c7 = Integer.class;</span><br><span class="line"><span class="comment">//        void</span></span><br><span class="line">        Class&lt;Void&gt; c8 = <span class="keyword">void</span>.class;</span><br><span class="line"><span class="comment">//        Class类的class对象</span></span><br><span class="line">        Class&lt;Class&gt; c9 = Class.class;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        按住alt键可以复制多行</span></span><br><span class="line">        System.out.println(c1);</span><br><span class="line">        System.out.println(c2);</span><br><span class="line">        System.out.println(c3);</span><br><span class="line">        System.out.println(c4);</span><br><span class="line">        System.out.println(c5);</span><br><span class="line">        System.out.println(c6);</span><br><span class="line">        System.out.println(c7);</span><br><span class="line">        System.out.println(c8);</span><br><span class="line">        System.out.println(c9);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//        只要元素类型与维度一样就是同一个class</span></span><br><span class="line">        <span class="keyword">int</span>[] a=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">        <span class="keyword">int</span>[] b=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line">        System.out.println(a.getClass().hashCode());</span><br><span class="line">        System.out.println(b.getClass().hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>JAVA内存分析</p>
<ul>
<li>堆:存放new对象和数组<br>可以被所有线程共享,不会存放别的对象引用</li>
<li>栈:存放基本变量类型(会包含其具体数值)<pre><code>引用对象的变量(会存放这个引用在堆里面的具体地址)
</code></pre>
</li>
<li>方法区:可以被所有线程共享<pre><code>包含所有class和static静态变量
</code></pre>
</li>
<li>类加载过程:类加载(将类的class文件字节码读入内存并将静态数据转化为运行时数据结构,并且创建.Class对象,此过程由类加载器加载)–&gt;类链接(将类的二进制数据合并到JRE包中(验证规范,准备,解析))–&gt;类初始化(JVM)</li>
</ul>
</li>
<li><p>类的初始化</p>
<ul>
<li><p>主动引用(一定会触发类初始化)</p>
<ul>
<li>虚拟机启动,先初始化main方法所在类</li>
<li>neew一个类对象</li>
<li>使用类的静态成员(除了final变量)和静态方法</li>
<li>使用java.lang.reflect包方法对类进行反射调用</li>
<li>当初始化一个类,其父类如果没有被初始化,会先初始化父类</li>
</ul>
</li>
<li><p>被动引用(不发生类初始化)</p>
<ul>
<li><p>当访问一个静态域时,只有真正声明这个域的类才会被初始化,</p>
<p>当子类调用父类静态方法时不会使得子类初始化</p>
</li>
<li><p>通过数组定义类引用,不会触发此类初始化</p>
</li>
<li><p>引用常量不会触发类的初始化(常量在连接阶段就存入调用类的常量池中)</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>类加载器作用</p>
<ul>
<li>类加载作用:将class字节码内容加载到内存中,并将这些静态数据转换成方法区运行时的数据结构,然后在堆内存中生成一个代表这个类的java.lang.Class对象作为方法区中类数据的访问入口</li>
<li>类缓存: 标准的JavaSE类加载器可以按要求查找一个类,但是一旦某个类被加载到类加载器中,它将维持加载一段(缓存)时间.不过JVM垃圾回收机制会回收Class对象</li>
<li>过程:源文件–&gt;编译(为Javac)—&gt;字节码(.class)—-&gt;类加载器—&gt;字节码校验器—-&gt;解释器—–&gt;操作系统平台</li>
<li>类加载器: <ul>
<li>引导(用户)类加载器:JVM自带,Java核心平台核心库</li>
<li>扩展类加载器</li>
<li>系统类加载器</li>
</ul>
</li>
</ul>
</li>
<li><p>动态创建对象执行方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.reflection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过反射创建对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test09</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, IllegalAccessException, InstantiationException, NoSuchMethodException, InvocationTargetException, NoSuchFieldException </span>&#123;</span><br><span class="line"><span class="comment">//        获得class对象</span></span><br><span class="line">        Class&lt;?&gt; c1 = Class.forName(<span class="string">&quot;com.haley.reflection.User&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        构造一个对象</span></span><br><span class="line">    <span class="comment">/*    User user = (User) c1.newInstance();//本质上调用了无参构造器  类必须有无参构造器(否则会报错)</span></span><br><span class="line"><span class="comment">        System.out.println(user);*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        通过构造器创建对象</span></span><br><span class="line">        Constructor&lt;?&gt; constructor = c1.getDeclaredConstructor(String.class, <span class="keyword">int</span>.class, <span class="keyword">int</span>.class);</span><br><span class="line">        User user2 = (User) constructor.newInstance(<span class="string">&quot;haley&quot;</span>, <span class="number">001</span>, <span class="number">18</span>);</span><br><span class="line">        System.out.println(user2);<span class="comment">//这里要重写toString方法才行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        通过反射调用普通方法</span></span><br><span class="line">        User user3=(User) c1.newInstance();</span><br><span class="line"><span class="comment">//        通过反射获取一个方法,拿到方法,调用invoke</span></span><br><span class="line">        Method setName = c1.getMethod(<span class="string">&quot;setName&quot;</span>, String.class);</span><br><span class="line"><span class="comment">//        invoke是激活的意思</span></span><br><span class="line"><span class="comment">//        使用:(对象,&quot;方法值&quot;) user3对象的setName方法设置一个值&quot;haley&quot;</span></span><br><span class="line">        setName.invoke(user3,<span class="string">&quot;haley&quot;</span>);</span><br><span class="line">        System.out.println(user3.getName());</span><br><span class="line"></span><br><span class="line"><span class="comment">//        通过反射操作属性,拿到属性,调用set</span></span><br><span class="line">        User user4=(User) c1.newInstance();</span><br><span class="line">        Field name = c1.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//不能直接操作私有属性,我们需要关闭程序的安全检测,属性或方法的setAccessible(true),默认打开</span></span><br><span class="line">        name.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        name.set(user4,<span class="string">&quot;haley2&quot;</span>);</span><br><span class="line">        System.out.println(user4.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>测试性能</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.reflection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">//分析性能问题</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test10</span> </span>&#123;</span><br><span class="line"><span class="comment">//    普通方式调用</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line">       User user=<span class="keyword">new</span> User();</span><br><span class="line">       <span class="keyword">long</span> startTime=System.currentTimeMillis();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1000000</span>;i++)&#123;</span><br><span class="line">           user.getName();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">long</span> endTime=System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;普通方式执行&quot;</span>+(endTime-startTime)+<span class="string">&quot;ms&quot;</span>);<span class="comment">//0ms</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    反射方式调用</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, IllegalAccessException </span>&#123;</span><br><span class="line">    User user=<span class="keyword">new</span> User();</span><br><span class="line">    Class&lt;? extends User&gt; c1 = user.getClass();</span><br><span class="line">    Method getName = c1.getDeclaredMethod(<span class="string">&quot;getName&quot;</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> startTime=System.currentTimeMillis();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1000000</span>;i++)&#123;</span><br><span class="line">        getName.invoke(user);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> endTime=System.currentTimeMillis();</span><br><span class="line">    System.out.println(<span class="string">&quot;反射方式调用普通方式执行&quot;</span>+(endTime-startTime)+<span class="string">&quot;ms&quot;</span>);<span class="comment">//62ms</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//    反射方式调用 关闭检测</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, IllegalAccessException </span>&#123;</span><br><span class="line">    User user=<span class="keyword">new</span> User();</span><br><span class="line">    Class&lt;? extends User&gt; c1 = user.getClass();</span><br><span class="line">    Method getName = c1.getDeclaredMethod(<span class="string">&quot;getName&quot;</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">    getName.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">long</span> startTime=System.currentTimeMillis();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1000000</span>;i++)&#123;</span><br><span class="line">        getName.invoke(user);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> endTime=System.currentTimeMillis();</span><br><span class="line">    System.out.println(<span class="string">&quot;反射方式调用 关闭检测普通方式执行&quot;</span>+(endTime-startTime)+<span class="string">&quot;ms&quot;</span>);<span class="comment">//32ms</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, IllegalAccessException, InvocationTargetException </span>&#123;</span><br><span class="line">        test01();</span><br><span class="line">        test02();</span><br><span class="line">        test03();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>获取泛型信息</p>
<p>java中泛型仅仅给编译器javac使用,确保数据安全性和免去强制类型转换问题,但是一但编译完成就会把使用与泛型有关类型全部擦除</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过反射获取泛型</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test11</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">(Map&lt;String,User&gt; map, List&lt;User&gt; list)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;test01&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,User&gt; <span class="title">test02</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;test02&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException </span>&#123;</span><br><span class="line">        Method ts1 = Test11.class.getMethod(<span class="string">&quot;test01&quot;</span>, Map.class, List.class);</span><br><span class="line"><span class="comment">//        通过方法获得泛型参数类型</span></span><br><span class="line">        Type[] genericParameterTypes = ts1.getGenericParameterTypes();</span><br><span class="line">        <span class="keyword">for</span> (Type genericParameterType : genericParameterTypes) &#123;</span><br><span class="line"><span class="comment">//            打印参数类型Map,List</span></span><br><span class="line">            System.out.println(<span class="string">&quot;#&quot;</span>+genericParameterTypes);</span><br><span class="line"><span class="comment">//            判断是否是参数化类型</span></span><br><span class="line">            <span class="keyword">if</span> (genericParameterType <span class="keyword">instanceof</span> ParameterizedType)&#123;</span><br><span class="line"><span class="comment">//                获得真实泛型参数信息</span></span><br><span class="line">                Type[] actualTypeArguments = ((ParameterizedType) genericParameterType).getActualTypeArguments();</span><br><span class="line">                <span class="keyword">for</span> (Type actualTypeArgument : actualTypeArguments) &#123;</span><br><span class="line">                    System.out.println(actualTypeArgument);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Method ts2 = Test11.class.getMethod(<span class="string">&quot;test02&quot;</span>, <span class="keyword">null</span>);</span><br><span class="line">        Type genericReturnType = ts2.getGenericReturnType();</span><br><span class="line"><span class="comment">//        如果返回值类型是参数化类型</span></span><br><span class="line">        <span class="keyword">if</span> (genericReturnType <span class="keyword">instanceof</span> ParameterizedType)&#123;</span><br><span class="line"><span class="comment">//                获得真实泛型参数信息</span></span><br><span class="line">            Type[] actualTypeArguments = ((ParameterizedType) genericReturnType).getActualTypeArguments();</span><br><span class="line">            <span class="keyword">for</span> (Type actualTypeArgument : actualTypeArguments) &#123;</span><br><span class="line">                System.out.println(actualTypeArgument);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>反射获取注解</li>
</ul>
<p>ORM:对象关系映射</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.reflection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="comment">//练习反射操作注解</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test12</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchFieldException </span>&#123;</span><br><span class="line">        Class&lt;?&gt; c1 = Class.forName(<span class="string">&quot;com.haley.reflection.Student2&quot;</span>);</span><br><span class="line"><span class="comment">//        通过反射获取注解</span></span><br><span class="line">        Annotation[] annotations = c1.getAnnotations();</span><br><span class="line">        <span class="keyword">for</span> (Annotation annotation : annotations) &#123;</span><br><span class="line">            System.out.println(annotation);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        获得类上注解value值</span></span><br><span class="line">        tableHaley tableHaley = c1.getAnnotation(tableHaley.class);</span><br><span class="line">        System.out.println(tableHaley.value());</span><br><span class="line"></span><br><span class="line"><span class="comment">//        获得类中字段指定注解值</span></span><br><span class="line"><span class="comment">//        Field name = c1.getDeclaredField(&quot;name&quot;);</span></span><br><span class="line">        Field name = c1.getDeclaredField(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        FieldHaley fieldHaley = name.getAnnotation(FieldHaley.class);</span><br><span class="line">        System.out.println(fieldHaley.columnName());</span><br><span class="line">        System.out.println(fieldHaley.type());</span><br><span class="line">        System.out.println(fieldHaley.length());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@tableHaley(&quot;bd_student&quot;)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student2</span></span>&#123;</span><br><span class="line">    <span class="meta">@FieldHaley(columnName = &quot;bd_id&quot;,type=&quot;int&quot;,length = 10)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="meta">@FieldHaley(columnName = &quot;bd_age&quot;,type=&quot;int&quot;,length = 10)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="meta">@FieldHaley(columnName = &quot;bd_name&quot;,type=&quot;varchar&quot;,length = 3)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student2</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student2</span><span class="params">(<span class="keyword">int</span> id, <span class="keyword">int</span> age, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student2&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//类名注解</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span><span class="comment">///给类加</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span><span class="comment">//运行时获取</span></span><br><span class="line"><span class="meta">@interface</span> tableHaley&#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//属性注解</span></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span><span class="comment">///给属性加</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span><span class="comment">//运行时获取</span></span><br><span class="line"><span class="meta">@interface</span> FieldHaley&#123;</span><br><span class="line">    <span class="function">String <span class="title">columnName</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">String <span class="title">type</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="使用Spring实现Aop学习"><a href="#使用Spring实现Aop学习" class="headerlink" title="使用Spring实现Aop学习"></a>使用Spring实现Aop学习</h3><p>具体链接:<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_33369905/article/details/105828920">https://blog.csdn.net/qq_33369905/article/details/105828920</a></p>
<p>AOP（Aspect Oriented Programming）意为：面向切面编程，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术。AOP是OOP的延续，是软件开发中的一个热点，也是Spring框架中的一个重要内容，是函数式编程的一种衍生范型。利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。</p>
<p>以下名词需要了解下：</p>
<p>横切关注点：跨越应用程序多个模块的方法或功能。即是，与我们业务</p>
<p>辑无关的，但是我们需要关注的部分，就是横切关注点。如日志 , 安全 , 缓存 , 事务等等 ….</p>
<p>切面（ASPECT）：横切关注点 被模块化 的特殊对象。即，它是一个类。</p>
<p>通知（Advice）：切面必须要完成的工作。即，它是类中的一个方法。</p>
<p>目标（Target）：被通知对象。</p>
<p>代理（Proxy）：向目标对象应用通知之后创建的对象。</p>
<p>切入点（PointCut）：切面通知 执行的 “地点”的定义。</p>
<p>连接点（JointPoint）：与切入点匹配的执行点。</p>
<h3 id="使用Spring接口实现"><a href="#使用Spring接口实现" class="headerlink" title="使用Spring接口实现"></a>使用Spring接口实现</h3><p>方式一:使用Spring  API接口  [主要为SpringAPI接口实现]</p>
<p>方式二:自定义类来实现Aop  [主要为切面定义</p>
<p>方式三:使用注解实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Aspect</span><span class="comment">//标注这个类是切面</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationPointCut</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Before(&quot;execution(* com..haley.service.UserServiceImpl.*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;方法执行前&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After(&quot;execution(* com..haley.service.UserServiceImpl.*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;方法执行后&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    在环绕增强中，我们可以给定一个参数，代表我们要获取的处理的切入的点</span></span><br><span class="line">    <span class="meta">@Around(&quot;execution(* com..haley.service.UserServiceImpl.*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">(ProceedingJoinPoint pj)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line"><span class="comment">//        执行前</span></span><br><span class="line">        System.out.println(<span class="string">&quot;环绕前&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        获得签名</span></span><br><span class="line">        Signature signature = pj.getSignature();</span><br><span class="line">        System.out.println(<span class="string">&quot;signature&quot;</span>+signature);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        执行方法</span></span><br><span class="line">        Object proceed = pj.proceed();</span><br><span class="line"><span class="comment">//        执行后</span></span><br><span class="line">        System.out.println(<span class="string">&quot;环绕后&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="回顾-MyBatis"><a href="#回顾-MyBatis" class="headerlink" title="回顾(MyBatis)"></a>回顾(MyBatis)</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/04/06/JS%E8%BF%9B%E9%98%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/04/06/JS%E8%BF%9B%E9%98%B6/" itemprop="url">JS进阶</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-04-05T23:59:22Z">
                2021-04-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="JS进阶"><a href="#JS进阶" class="headerlink" title="JS进阶"></a>JS进阶</h1><h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><h4 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h4><p><code>var a=2</code></p>
<ul>
<li>分词: 将代码分为单元 var 、a、=、2</li>
<li>词法分析： 调用有状态的解析规则</li>
<li>解析：词法单元流</li>
<li>生成<code>AST</code>抽象语法树</li>
<li>生成可执行的代码</li>
</ul>
<p><strong>引擎可以根据需要创建存储变量</strong></p>
<ul>
<li><code>JS</code>编译不发生在构造之前,编译发生在代码执行前几秒(编译后立刻执行)</li>
</ul>
<h4 id="引擎"><a href="#引擎" class="headerlink" title="引擎"></a>引擎</h4><p><strong>编译器</strong>为引擎生成可运行的代码</p>
<ul>
<li><p>引擎:编译+执行</p>
</li>
<li><p>编译器: 语法分析/代码生成</p>
</li>
<li><p>变量赋值:</p>
<ul>
<li>编译器:当前作用域中声明变量,如果之前未声明</li>
<li>引擎:运行时在作用域中查找变量,找到后赋值</li>
</ul>
</li>
</ul>
<h3 id="变量查找"><a href="#变量查找" class="headerlink" title="变量查找"></a>变量查找</h3><p><code>var a=2</code></p>
<ul>
<li><code>LHS</code>找到变量容器本身对其赋值,不成功创建全局变量<code>undefined</code>后使用该变量</li>
<li><code>RHS</code>找到某个变量值,不成功抛出<code>ReferenceError</code></li>
</ul>
<p><strong>练习</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a</span>)</span>&#123;<span class="comment">//2会给a赋值,所以a的查询为LHS查询</span></span><br><span class="line">    <span class="built_in">console</span>.log(a);<span class="comment">//打印a的值 RHS查询</span></span><br><span class="line">&#125;</span><br><span class="line">fun(<span class="number">2</span>);<span class="comment">// 查找fun为找fun值(地址值)  RHS查询fun</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>)</span>&#123;<span class="comment">//给a赋值为LHS查询</span></span><br><span class="line">    <span class="keyword">var</span> b=a;<span class="comment">//b为LHS  a为RHS查询</span></span><br><span class="line">    <span class="keyword">return</span> a+b;<span class="comment">//a+b为2次RHS查询</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c=foo(<span class="number">2</span>)<span class="comment">//查找c为LHS  foo为RHS  </span></span><br><span class="line"><span class="number">4</span>次RHS <span class="number">3</span>次LHS</span><br></pre></td></tr></table></figure>

<h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><h3 id="作用域介绍"><a href="#作用域介绍" class="headerlink" title="作用域介绍"></a>作用域介绍</h3><ul>
<li><p>确定当前执行的代码对变量的访问权限,是一套查找变量的规则</p>
</li>
<li><p>用于确定何处以及如何查找变量</p>
</li>
<li><p>查找目的是对变量进行赋值,使用<code>LHS</code>查询,目的是获取变量的值,使用<code>RHS</code>查询</p>
</li>
<li><p><code>js</code>没有动态作用域,可以使用let构建,<code>js</code>只有词法作用域</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line"><span class="comment">//等价于</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//声明a</span></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="comment">//LHS查询给a赋值</span></span><br><span class="line">a=<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 作用域嵌套</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">     <span class="comment">// 这里的b会在全局作用域中找到</span></span><br><span class="line">    <span class="built_in">console</span>.log(a+b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b=<span class="number">2</span>;</span><br><span class="line">foo(<span class="number">3</span>);<span class="comment">//5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.RHS查询查不到会报错,LHS查询查不到会自动声明一个全局变量使用,值为undefined</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo2</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a+b)</span><br><span class="line">    <span class="comment">// 此处b是RHS查询,是一个未声明的变量会报Reference错误</span></span><br><span class="line">    b=a;</span><br><span class="line">&#125;</span><br><span class="line">foo2(<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h3 id="词法作用域"><a href="#词法作用域" class="headerlink" title="词法作用域"></a>词法作用域</h3><ul>
<li><p>词法作用域:定义在词法阶段的作用域,由编写代码时,变量和块作用域写在哪里决定</p>
</li>
<li><p><strong>写代码时决定,与函数在哪里调用无关</strong></p>
</li>
<li><p>遮蔽效应: 内容中变量名会遮蔽外部标识符</p>
</li>
<li><p>作用域查找变量方式:</p>
<ul>
<li><p>从运行所处的内部作用域开始,逐级向上或向外进行,直到遇见第一个匹配的标识符</p>
</li>
<li><p>访问被遮蔽的全局变量可以<code>window.a</code></p>
</li>
<li><p>非全局变量被遮蔽无论怎样都访问不到</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 词法作用域</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> b=a+<span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">c</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a,b,c);</span><br><span class="line">    &#125;</span><br><span class="line">    bar(b*<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(<span class="number">2</span>);<span class="comment">//2 4 12</span></span><br></pre></td></tr></table></figure></li>
<li><p>欺骗词法作用域</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 欺骗词法(少用)</span></span><br><span class="line"><span class="comment">//1.eval欺骗</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">str,a</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//欺骗 使得在执行完此函数后b遮盖全局的b</span></span><br><span class="line">    <span class="built_in">eval</span>(str);</span><br><span class="line">    <span class="built_in">console</span>.log(a,b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> b=<span class="number">5</span>;</span><br><span class="line">foo(<span class="string">&quot;var b=3;&quot;</span>,<span class="number">1</span>)  <span class="comment">//1 3</span></span><br></pre></td></tr></table></figure></li>
<li><p>with</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.with创建新的词法作用域</span></span><br><span class="line"><span class="comment">// with便于访问属性</span></span><br><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    a:<span class="number">2</span>,</span><br><span class="line">    b:<span class="number">3</span>,</span><br><span class="line">    c:<span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 给其中元素重新赋值</span></span><br><span class="line"><span class="function"><span class="title">with</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    a=<span class="number">4</span>;</span><br><span class="line">    b=<span class="number">9</span>;</span><br><span class="line">    c=<span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj.a);<span class="comment">//4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// with容易将a泄漏到全局作用域</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="title">with</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">        a=<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1=&#123;</span><br><span class="line">    a:<span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2=&#123;</span><br><span class="line">    b:<span class="number">5</span></span><br><span class="line">&#125;</span><br><span class="line">foo(obj1)</span><br><span class="line"><span class="built_in">console</span>.log(obj1.a);<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">foo(obj2);</span><br><span class="line"><span class="built_in">console</span>.log(obj2.a)<span class="comment">//undefined  在obj中找(LHS)不到a,就去全局声明了a</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//2  全局的a</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="函数作用域"><a href="#函数作用域" class="headerlink" title="函数作用域"></a>函数作用域</h3><p>全局作用域不能向下查找变量,函数作用域可以向上查找变量,即<strong>外部作用域无法访问包装在函数内部的任何内容</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a);<span class="comment">//3</span></span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a)<span class="comment">//2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> i=<span class="number">3</span>;<span class="comment">//这里不加i,i会声明到全局中并改变值永远小于10,一直循环下去</span></span><br><span class="line">        <span class="built_in">console</span>.log(a+i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">        bar(i*<span class="number">2</span>);<span class="comment">//无限循环</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="匿名和具名函数"><a href="#匿名和具名函数" class="headerlink" title="匿名和具名函数"></a>匿名和具名函数</h4><ul>
<li>function是第一个词,则为函数声明</li>
<li><code>function()&#123;&#125;</code>无标识的函数,叫匿名函数表达式(匿名函数表达式可以匿名,函数声明不可以匿名)</li>
<li>立即执行函数为函数表达式</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匿名和具名函数</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;我是匿名函数&quot;</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timeHandler</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;我是具名函数&quot;</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<h4 id="IIFE"><a href="#IIFE" class="headerlink" title="IIFE"></a>IIFE</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">IIFE</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a);<span class="comment">//3</span></span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IIFE用法2 传递参数进去 window只用在html中才会被浏览器解析</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">window</span>=<span class="built_in">this</span>;</span><br><span class="line"><span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">IIFE</span>(<span class="params"><span class="built_in">global</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">3</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(a);<span class="comment">//3</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">global</span>.a);<span class="comment">//2</span></span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3.IIFE倒置代码顺序,将需要运行的函数放在第二位</span></span><br><span class="line"> <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"> (<span class="function"><span class="keyword">function</span> <span class="title">IIFE</span>(<span class="params">def</span>) </span>&#123;</span><br><span class="line">   def(<span class="built_in">window</span>);</span><br><span class="line"> &#125;)(<span class="function"><span class="keyword">function</span> <span class="title">def</span>(<span class="params"><span class="built_in">global</span></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">   <span class="built_in">console</span>.log(a); <span class="comment">//3</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="built_in">global</span>.a); <span class="comment">//2</span></span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="块作用域"><a href="#块作用域" class="headerlink" title="块作用域"></a>块作用域</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 块作用域 &#123;&#125;内部</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.with </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.try/catch的catch作用域是块级</span></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="literal">undefined</span>();</span><br><span class="line">&#125;<span class="keyword">catch</span>(err)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//console.log(err);//ReferenceError</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="let"><a href="#let" class="headerlink" title="let"></a>let</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//1.let构建了隐式作用域</span></span><br><span class="line"> <span class="keyword">var</span> foo=<span class="literal">true</span>;</span><br><span class="line"> <span class="keyword">if</span>(foo)&#123;</span><br><span class="line">     <span class="keyword">let</span> bar=foo*<span class="number">2</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(bar);<span class="comment">//2</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">console</span>.log(bar);<span class="comment">//ReferenceError</span></span><br><span class="line"> <span class="comment">//如果bar的声明用var则外部会打印2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.let的显示作用域</span></span><br><span class="line"><span class="comment">//let的显示作用域 显示括号不加默认以从里到内第一个大括号为块作用域</span></span><br><span class="line"><span class="keyword">var</span> foo=<span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span>(foo)&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">let</span> bar=foo*<span class="number">2</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(bar);<span class="comment">//2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(bar)<span class="comment">//ReferenceError</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.let的for循环</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);<span class="comment">//0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line">&#123;<span class="comment">//显示作用域</span></span><br><span class="line">    <span class="keyword">let</span> j;</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">10</span>;j++)&#123;</span><br><span class="line">        <span class="keyword">let</span> i=j;</span><br><span class="line">        <span class="built_in">console</span>.log(i);<span class="comment">//0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="const"><a href="#const" class="headerlink" title="const"></a><code>const</code></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//const也可以创建块级作用域,其定义的变量为常量,且必须赋值</span></span><br><span class="line"><span class="keyword">var</span> foo=<span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span>(foo)&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">const</span> b=<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    a=<span class="number">3</span>;</span><br><span class="line">    b=<span class="number">4</span>;<span class="comment">//报错</span></span><br><span class="line">    <span class="built_in">console</span>.log(b);<span class="comment">//4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(b);<span class="comment">//ReferenceError</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//3</span></span><br></pre></td></tr></table></figure>

<h3 id="动态-词法作用域区别"><a href="#动态-词法作用域区别" class="headerlink" title="动态,词法作用域区别"></a>动态,词法作用域区别</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 词法作用域</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">      foo();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">4</span>;</span><br><span class="line">    baz();<span class="comment">//4</span></span><br><span class="line"><span class="comment">//词法作用域让foo()中的a通过RHS引用到了全局作用域的a,因此输出4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//动态作用域 this很像动态作用域</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">      foo();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">4</span>;</span><br><span class="line">    baz();<span class="comment">//3</span></span><br><span class="line"><span class="comment">//动态作用域会顺着调用foo()的地方查找a,而不是在嵌套的词法作用域链上向上查找</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="提升"><a href="#提升" class="headerlink" title="提升"></a>提升</h3><h4 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//变量声明提升</span></span><br><span class="line"><span class="keyword">var</span>声明变量不管放在哪里会放到最前边,先有声明后操作</span><br><span class="line">a=<span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a)<span class="comment">//2 不是undefined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line"><span class="comment">//等价于</span></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a=<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<h4 id="函数提升"><a href="#函数提升" class="headerlink" title="函数提升"></a>函数提升</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数声明会被提升,函数表达式,以及名称标识符不会被提升</span></span><br><span class="line">foo();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="built_in">console</span>.log(a);<span class="comment">//undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();<span class="comment">//TypeError</span></span><br><span class="line">bar();<span class="comment">//ReferenceError RHS查询错误 bar在函数体内</span></span><br><span class="line"><span class="keyword">var</span> foo=<span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   </span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// 会被被解析为</span></span><br><span class="line"><span class="keyword">var</span> foo;</span><br><span class="line">foo();</span><br><span class="line">bar();</span><br><span class="line">foo=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> bar=...screenLeft...;</span><br><span class="line">    <span class="built_in">console</span>.log(bar);</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>



<h4 id="函数提升优先"><a href="#函数提升优先" class="headerlink" title="函数提升优先"></a>函数提升优先</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">foo();<span class="comment">//1</span></span><br><span class="line"><span class="keyword">var</span> foo;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">foo=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 被解析为</span></span><br><span class="line"><span class="comment">//函数声明会被提前到普通变量声明前,所以var foo不再重复声明</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br><span class="line">foo=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">//函数表达式不提升</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 尽管重复的var声明会被忽略掉,但出现在后面的函数声明还是可以覆盖前面的</span></span><br><span class="line">foo();<span class="comment">//3</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> foo=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 提升过程不会被条件判断限制---测试错误  书上说不受限制</span></span><br><span class="line">    foo(); <span class="comment">// &quot;b&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (a) &#123;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><h3 id="闭包介绍"><a href="#闭包介绍" class="headerlink" title="闭包介绍"></a>闭包介绍</h3><ul>
<li>当函数可以<strong>记住并且访问所在的词法作用域</strong>,即使<strong>函数是在当前词法作用域之外执行</strong>,这时就产生了闭包。</li>
<li>无论通过何种手段将<strong>内部函数</strong>传递到<strong>所在词法作用域外</strong>,它都会**持有原始定义作用域的引用,**无论在何处执行此函数,均会使用闭包</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 闭包</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">代码解释:</span></span><br><span class="line"><span class="comment">    foo()执行后,其返回值(即内部的bar函数)赋值给变量baz并且调用baz(),实际上是通过不同标识符</span></span><br><span class="line"><span class="comment">引用了内部函数bar(),bar执行在自己词法作用域以外的地方,foo()执行完后作用域本应该被销毁,但是闭包会让他不发生</span></span><br><span class="line"><span class="comment">垃圾回收器没有释放内部作用域,因为bar()本身会使用</span></span><br><span class="line"><span class="comment">   拜bar()所声明的位置所赐,它涵盖foo内部作用域的闭包,使得该作用域存活,以供bar()在任何时间都可以进行引用</span></span><br><span class="line"><span class="comment">   bar依然持有对该作用域的引用,这个引用叫做闭包</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a=<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> baz=foo();<span class="comment">//2</span></span><br><span class="line"><span class="comment">// 该函数在定义时词法以外的作用域被调用,闭包使他仍然可以访问定义时的作用域</span></span><br><span class="line">baz();<span class="comment">//2</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 直接传递参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">    fn();</span><br><span class="line">&#125;</span><br><span class="line">baz(foo());<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 间接传递参数</span></span><br><span class="line"><span class="keyword">var</span> fn;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    fn= bar;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    fn();</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br><span class="line">baz();<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//常见闭包</span></span><br><span class="line"><span class="comment">// 将一个内部函数(名字为timer)传递给setTimeout(),timer具有涵盖wait作用域闭包,因此对message的引用还保留</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wait</span>(<span class="params">message</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(message);</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line">wait(<span class="string">&quot;hello,closure&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// IIFE利用闭包for循环</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;)(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params">j</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(j);</span><br><span class="line">        &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 通常使用块级作用域加闭包</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i)</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>

<h3 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h3><p>两个条件</p>
<ul>
<li><p>必须有外部的封闭函数,该函数至少被调用一次(每次调用都会创建一个新模块实例)</p>
</li>
<li><p>封闭函数必须返回至少一个内部函数,这样内部函数才能在私有作用域中形成闭包,并且可以访问或者修改私有状态</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CoolModule 模块实现方式为模块暴露,CoolModule是一个函数,必须要通过它创建模块实例</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">CoolModule返回一个对象字面量语法,这个返回的对象内部含有对内部函数而不是内部数据的引用,我们保持内部数据</span></span><br><span class="line"><span class="comment">是隐藏且私有的状态,可以将这个对象的类型返回值看作本质上是模块的公共API</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CoolModule</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> something=<span class="string">&quot;cool&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> another=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(something);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">doAnother</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(another.join(<span class="string">&#x27;!&#x27;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        doSomething:doSomething,</span><br><span class="line">        doAnother:doAnother</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo=CoolModule();</span><br><span class="line">foo.doSomething();<span class="comment">//cool</span></span><br><span class="line">foo.doAnother();<span class="comment">//1!2!3!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 模块也是普通函数，可以接受参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CoolModule</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">identify</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(id)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        identify:identify</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo1=CoolModule(<span class="string">&quot;foo1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> foo2=CoolModule(<span class="string">&quot;foo2&quot;</span>);</span><br><span class="line">foo1.identify();<span class="comment">//foo1</span></span><br><span class="line">foo2.identify();<span class="comment">///foo2</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单例模式</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">上方模块可以被调用任意多次,每次都会创建一个新模块实例,</span></span><br><span class="line"><span class="comment">只需要一个实例时,可以对这个模式实行单例模式</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> foo=(</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">CooloModule</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> sth=<span class="string">&quot;cool&quot;</span>;</span><br><span class="line">        <span class="keyword">var</span> another=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">doSth</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(sth);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">doAnother</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(another.join(<span class="string">&quot;@&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            doSth:doSth,</span><br><span class="line">            doAnother:doAnother</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">)();</span><br><span class="line"></span><br><span class="line">foo.doSth();</span><br><span class="line">foo.doAnother();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 命名公共API返回的对象</span></span><br><span class="line"><span class="keyword">var</span> foo=(<span class="function"><span class="keyword">function</span> <span class="title">CoolModule</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> publicAPI=&#123;</span><br><span class="line">        change:change,</span><br><span class="line">        identify:identify</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        publicAPI.identify=identify2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">identify</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">identify2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(id.toUpperCase());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> publicAPI;</span><br><span class="line">&#125;)(<span class="string">&quot;foo module&quot;</span>);</span><br><span class="line"></span><br><span class="line">foo.identify();<span class="comment">//foo module</span></span><br><span class="line">foo.change();</span><br><span class="line">foo.identify();<span class="comment">//FOO MODULE</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="现代模块机制"><a href="#现代模块机制" class="headerlink" title="现代模块机制"></a>现代模块机制</h3><p>==看不懂==</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 现代模块机制 将模块分装到API中</span></span><br><span class="line"><span class="keyword">var</span> myModules=(<span class="function"><span class="keyword">function</span> <span class="title">Manager</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> modules=&#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">define</span>(<span class="params">name,deps,impl</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;deps.length;i++)&#123;</span><br><span class="line">            deps[i]=modules[deps[i]];</span><br><span class="line">        &#125;</span><br><span class="line">        modules[name]=impl.apply(impl,deps)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> modules[name];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        define:define,</span><br><span class="line">        get:get</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">// 使用上述函数定义模块</span></span><br><span class="line">myModules.define(<span class="string">&quot;bar&quot;</span>,[],<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">who</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;let me introduce&quot;</span>+who;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        hello:hello</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">myModules.define(<span class="string">&quot;foo&quot;</span>,[<span class="string">&quot;bar&quot;</span>],<span class="function"><span class="keyword">function</span>(<span class="params">bar</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hungry=<span class="string">&#x27; hipopo&#x27;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">awesome</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(bar.hello(hungry).toUpperCase());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        awesome:awesome</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar=myModules.get(<span class="string">&quot;bar&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> foo=myModules.get(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(bar.hello(<span class="string">&quot; hipopo&quot;</span>));</span><br><span class="line">foo.awesome();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="未来模块机制"><a href="#未来模块机制" class="headerlink" title="未来模块机制"></a>未来模块机制</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">bar.js:</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">who</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;let me introduce &quot;</span>+who</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">export</span> hello;</span><br><span class="line"></span><br><span class="line">foo.js:</span><br><span class="line">    <span class="comment">//仅从bar模块导入hello()</span></span><br><span class="line">      <span class="keyword">import</span> hello <span class="keyword">from</span> <span class="string">&quot;bar&quot;</span>;</span><br><span class="line">      <span class="keyword">var</span> hungery=<span class="string">&quot;hipop&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">awesome</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        hello(hungery).toUpperCase();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">export</span> awesome;</span><br><span class="line"></span><br><span class="line">baz.js</span><br><span class="line">    <span class="comment">//导入完整的&quot;foo&quot;和&quot;bar&quot;模块</span></span><br><span class="line">    <span class="built_in">module</span> foo <span class="keyword">from</span> <span class="string">&quot;foo&quot;</span>;</span><br><span class="line">    <span class="built_in">module</span> bar <span class="keyword">from</span> <span class="string">&quot;bar&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log&#123;</span><br><span class="line">        bar.hello(<span class="string">&quot;rohino&quot;</span>)<span class="comment">//let me introduce :rihino</span></span><br><span class="line">    &#125;</span><br><span class="line">	foo.awesom()<span class="comment">//LET ME INTRODUCE: HIPPO</span></span><br></pre></td></tr></table></figure>

<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><h3 id="this误解"><a href="#this误解" class="headerlink" title="this误解"></a>this误解</h3><ul>
<li>this不指向函数自身,也不指向函数词法作用域</li>
<li>this是在<strong>函数调用时发生的绑定</strong>,它的指向完全<strong>取决于函数在哪里被调用</strong></li>
</ul>
<p>例如</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this不指向函数自身</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 结果出人意料，，的确向函数对象中添加了一个属性count，但是函数内部代码this.count不是指向那个函数对象，</span></span><br><span class="line"><span class="comment">//所以属性名相同，但是根对象不相同</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">事实上，这段代码无意之中创建了全局变量count，值为NaN(因为undefined+1=NaN)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;foo:&quot;</span>+num);</span><br><span class="line">    <span class="built_in">this</span>.count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.count=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(i&gt;<span class="number">5</span>)&#123;</span><br><span class="line">        foo(i);<span class="comment">//foo中的this指向window</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(foo.count);<span class="comment">//0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解决上述问题</span></span><br><span class="line"><span class="comment">//方法一</span></span><br><span class="line"><span class="keyword">var</span> data=&#123;</span><br><span class="line">    count:<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;foo:&quot;</span>+num);</span><br><span class="line">    data.count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(i&gt;<span class="number">5</span>)&#123;</span><br><span class="line">        foo(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(data.count);<span class="comment">//4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法二</span></span><br><span class="line"><span class="comment">//具名函数可以指向自身</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    foo.count++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 匿名函数</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="comment">//函数没有名字可以指向自身，无法从函数内部引用自身</span></span><br><span class="line"><span class="comment">//    arguments.callee可以引用这个匿名函数自身，但是据说已经被弃用</span></span><br><span class="line">&#125;,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;foo:&quot;</span>+num);</span><br><span class="line">    foo.count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.count=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(i&gt;<span class="number">5</span>)&#123;</span><br><span class="line">        foo(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(foo.count);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法3：强制this指向foo对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;foo:&quot;</span>+num);</span><br><span class="line">    <span class="built_in">this</span>.count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.count=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(i&gt;<span class="number">5</span>)&#123;</span><br><span class="line">        <span class="comment">//call可以确保this指向foo本身</span></span><br><span class="line">        foo.call(foo,i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(foo.count);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this不指向函数作用域</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bar中的a的this不可以访问foo的a，不能使用this来引用一个词法作用域的内部东西</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">        <span class="built_in">this</span>.bar();</span><br><span class="line">        <span class="comment">// 与上边一样  bar();</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">        <span class="comment">// console.log(a);//a is not defined</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">//window</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      foo(); <span class="comment">//undefined</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//   每次相要把this和词法作用域查找时，提醒自己，无法实现</span></span><br></pre></td></tr></table></figure>

<h3 id="调用位置"><a href="#调用位置" class="headerlink" title="调用位置"></a>调用位置</h3><ul>
<li><p>调用栈:为了到达当前位置所调用的所有函数</p>
</li>
<li><p>调用位置:在当前正在执行的函数的前一个调用中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//调用栈:baz</span></span><br><span class="line">    <span class="comment">//调用位置:全局作用域中</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;baz&quot;</span>);</span><br><span class="line">    bar();---bar调用位置</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//调用栈:baz--&gt;bar</span></span><br><span class="line">    <span class="comment">//当前调用位置:baz中</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;bar&quot;</span>);</span><br><span class="line">    foo();  --foo调用位置</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//当前调用栈:baz--&gt;bar--&gt;foo</span></span><br><span class="line">    <span class="comment">//调用位置:bar中</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">baz(); ---baz调用位置</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="默认绑定"><a href="#默认绑定" class="headerlink" title="默认绑定"></a>默认绑定</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">默认,找不到具体<span class="built_in">this</span>绑定,绑定全局<span class="built_in">window</span>对象</span><br><span class="line">      <span class="comment">// 非严格，默认模式下 this绑定全局对象</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">      foo(); <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//   严格模式下</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">        &quot;use strict&quot;</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">      foo(); <span class="comment">//Cannot read property &#x27;a&#x27; of undefined</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//严格与非严格混用</span></span><br><span class="line">  <span class="comment">//   严格模式下与foo（）调用位置无关</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">      (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">        &quot;use strict&quot;</span>;</span><br><span class="line">        foo(); <span class="comment">//2</span></span><br><span class="line">      &#125;)();</span><br></pre></td></tr></table></figure>

<h3 id="隐式绑定"><a href="#隐式绑定" class="headerlink" title="隐式绑定"></a>隐式绑定</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//   隐式绑定this</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a === obj.a);<span class="comment">///true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> obj=&#123;</span><br><span class="line">        a:<span class="number">2</span>,</span><br><span class="line">        foo:foo</span><br><span class="line">    &#125;</span><br><span class="line">    obj.foo();<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 对象属性引用链中只有最顶层或者说最后一层会影响调用位置</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">        a: <span class="number">32</span>,</span><br><span class="line">        foo: foo,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">        a: <span class="number">42</span>,</span><br><span class="line">        obj2: obj2,</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      obj1.obj2.foo();<span class="comment">//32  所以这里的this为obj2</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//   隐式绑定this丢失</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//   虽然bar是obj.foo引用，但它实际上是引用的foo函数本身，用默认绑定</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&quot;global a&quot;</span>;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        a: <span class="number">2</span>,</span><br><span class="line">        foo: foo,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">var</span> bar = obj.foo;</span><br><span class="line">      bar(); <span class="comment">//global a </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="comment">//回调丢失</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">doFoo</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//   fn其实是引用的foo</span></span><br><span class="line">        fn(); <span class="comment">//调用位置</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        a: <span class="number">2</span>,</span><br><span class="line">        foo: foo,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="string">&quot;global a&quot;</span>;</span><br><span class="line">      doFoo(obj.foo);<span class="comment">// global a</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="显示绑定和硬绑定"><a href="#显示绑定和硬绑定" class="headerlink" title="显示绑定和硬绑定"></a>显示绑定和硬绑定</h3><p><strong>显示绑定</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//   显示绑定 call/apply的第一个参数为调用该函数的this</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">num, s</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">   <span class="built_in">console</span>.log(num, s);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">var</span> obj = &#123;</span><br><span class="line">   a: <span class="number">2</span>,</span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> foo.call(obj, <span class="number">2</span>, <span class="string">&quot;s&quot;</span>); <span class="number">2</span>  <span class="number">2</span> <span class="string">&quot;s&quot;</span> <span class="comment">// 把foo的this设置为obj</span></span><br><span class="line"> foo.apply(obj, [<span class="number">1</span>, <span class="string">&quot;s&quot;</span>]);<span class="number">2</span>  <span class="number">1</span> <span class="string">&quot;s&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>硬绑定</strong>(显示绑定的一种)</p>
<p>硬绑定就是在函数内部调用另一函数时,调用apply/call()方法时把this绑定到某个对象,但调用外边函数的apply,call仍然不能修改内部已经指定的this</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">      a: <span class="number">2</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//把this绑到了obj上</span></span><br><span class="line">      foo.call(obj);</span><br><span class="line">    &#125;;</span><br><span class="line">    bar(); <span class="comment">//2</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(bar, <span class="number">100</span>); <span class="comment">//2</span></span><br><span class="line">  <span class="comment">//   硬绑定的bar不能在修改this</span></span><br><span class="line">    bar.call(<span class="built_in">window</span>); <span class="comment">//2</span></span><br></pre></td></tr></table></figure>

<p><strong>硬绑定应用</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建包裹函数  </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">sth</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a, sth);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.a + sth;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        a: <span class="number">2</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> foo.apply(obj, <span class="built_in">arguments</span>);</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> b = bar(<span class="number">3</span>);<span class="comment">//2 3</span></span><br><span class="line">      <span class="built_in">console</span>.log(b); <span class="comment">//5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//   创建可以重复使用的辅助函数</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">sth</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a, sth);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.a + sth;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">obj, fn</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> fn.apply(obj, <span class="built_in">arguments</span>);<span class="comment">//这一操作会执行foo函数 arguments会被赋值为3,它可以由浏览器传入</span></span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        a: <span class="number">2</span>,</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> bar = bind(obj, foo);</span><br><span class="line">      <span class="keyword">var</span> b = bar(<span class="number">3</span>); <span class="comment">//2 3</span></span><br><span class="line">      <span class="built_in">console</span>.log(b); <span class="comment">//5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">//   es5的内置方法 </span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">sth</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a, sth);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.a + sth;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        a: <span class="number">2</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">//   让foo函数和obj绑定 bind返回一个函数.该函数的this指向bind后的第一个参数,该函数的形式参数用于接收bind要调用函数的传入的实参</span></span><br><span class="line">      <span class="keyword">var</span> bar = foo.bind(obj);</span><br><span class="line">      <span class="keyword">var</span> b = bar(<span class="number">3</span>);<span class="comment">//2 3</span></span><br><span class="line">      <span class="built_in">console</span>.log(b);<span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">//   API调用上下文 context 确保回调函数指定的this</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">el</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(el, <span class="built_in">this</span>.id);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        id: <span class="string">&quot;awesome&quot;</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">//调用foo(...)时把this绑定到obj</span></span><br><span class="line">      [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].forEach(foo, obj);</span><br></pre></td></tr></table></figure>

<h3 id="new绑定"><a href="#new绑定" class="headerlink" title="new绑定"></a>new绑定</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new 绑定</span></span><br><span class="line"><span class="comment">// new来调用函数,或者说发生构造函数调用时,会执行以下操作</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">1.创建一个全新的对象</span></span><br><span class="line"><span class="comment">2.这个新对象会被执行(原型链连接)</span></span><br><span class="line"><span class="comment">3.新对象会绑定到函数调用的this上</span></span><br><span class="line"><span class="comment">4.如果函数没有返回其他对象,new表达式自动返回这个新对象</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.a=a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> bar=<span class="keyword">new</span> foo(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// 使用new来调用foo(),会构造一个新对象并把它绑定到foo()调用的this上</span></span><br></pre></td></tr></table></figure>

<h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><p>new&gt;显示绑定&gt;隐式绑定&gt;默认绑定</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 显示绑定this优先级比隐式绑定高</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  a: <span class="number">2</span>,</span><br><span class="line">  foo: foo,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  a: <span class="number">3</span>,</span><br><span class="line">  foo: foo,</span><br><span class="line">&#125;;</span><br><span class="line">obj1.foo.call(obj2); <span class="comment">//3</span></span><br><span class="line">obj1.foo.call(obj1); <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// new绑定优先级比显示绑定优先级高</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">sth</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.a = sth;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  foo: foo,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;&#125;;</span><br><span class="line">obj1.foo(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj1.a); <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">obj1.foo.call(obj2, <span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj2.a); <span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="keyword">new</span> obj1.foo(<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj1.a); <span class="comment">//1</span></span><br><span class="line"><span class="built_in">console</span>.log(bar.a); <span class="comment">//4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// new 和apply/call不能一起调用,可以用硬绑定测试,硬绑定也是显示绑定的一种</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">sth</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.a = sth;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;;</span><br><span class="line"><span class="comment">// 硬绑定</span></span><br><span class="line"><span class="keyword">var</span> bar = foo.bind(obj1);</span><br><span class="line">bar(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj1.a); <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// new绑定</span></span><br><span class="line"><span class="keyword">var</span> baz = <span class="keyword">new</span> bar(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj1.a); <span class="comment">//2 证明new后没有改变原来的绑定的对象的值</span></span><br><span class="line"><span class="built_in">console</span>.log(baz.a); <span class="comment">//3 但是给new出的对象新增了a属性和值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bind功能之一就是可以把除了第一个参数(第一个参数用于this绑定)之外的其他参数都传给下层函数(柯里化一种)</span></span><br><span class="line"><span class="comment">// 例如</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">p1, p2</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.val = p1 + p2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 使用null是因为本例子中我们并不关心硬绑定的this是谁</span></span><br><span class="line"><span class="comment">// 反正使用new时候this回修改</span></span><br><span class="line"><span class="keyword">var</span> bar = foo.bind(<span class="literal">null</span>, <span class="string">&quot;p1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> baz = <span class="keyword">new</span> bar(<span class="string">&quot;pz&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(baz.val); <span class="comment">//p1pz</span></span><br></pre></td></tr></table></figure>

<h3 id="this绑定例外"><a href="#this绑定例外" class="headerlink" title="this绑定例外"></a>this绑定例外</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this例外</span></span><br><span class="line">      <span class="comment">// 1.把null或undefined作为this的绑定对象传入call、apply、bind，调用时会被忽略，实际应用的是默认绑定规则！</span></span><br><span class="line">      <span class="comment">// bind可以对函数进行柯里化</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(<span class="string">&quot;a:&quot;</span> + a, <span class="string">&quot;b:&quot;</span> + b);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">// apply可以把数组展开成参数</span></span><br><span class="line">           foo.apply(<span class="literal">null</span>, [<span class="number">2</span>, <span class="number">3</span>]); <span class="comment">//a:2 b:3</span></span><br><span class="line">           <span class="comment">// 使用bind进行柯里化</span></span><br><span class="line">           <span class="keyword">var</span> bar = foo.bind(<span class="literal">null</span>, <span class="number">2</span>);</span><br><span class="line">           bar(<span class="number">3</span>); <span class="comment">//a:2 b:3</span></span><br><span class="line"></span><br><span class="line">           <span class="comment">// 2.更安全的this Object.create(null)和&#123;&#125;很像,但是前者不会创建prototype这个委托,比&#123;&#125;更空</span></span><br><span class="line">           <span class="comment">// 创建的该对象叫做DMZ对象,空的非委托对象</span></span><br><span class="line">           <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(<span class="string">&quot;a:&quot;</span> + a, <span class="string">&quot;b:&quot;</span> + b);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">var</span> o = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">           <span class="comment">// 把数组展开为参数</span></span><br><span class="line">           foo.apply(o, [<span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line">           <span class="keyword">var</span> bar = foo.bind(o, <span class="number">2</span>);</span><br><span class="line">           bar(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">           <span class="comment">// 2.间接引用</span></span><br><span class="line">           <span class="comment">// p.foo是目标函数的引用,调用位置是foo()不是p.foo()或o.foo(),所以使用默认绑定,this为window,注意这里引用的是函数本身</span></span><br><span class="line">           <span class="comment">// 决定this绑定对象的并不是调用位置是否处于严格模式,而是函数体是否处于严格模式.函数体是严格模式</span></span><br><span class="line">           <span class="comment">// 则this会绑定到undefined否则绑到window</span></span><br><span class="line">           <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">           <span class="keyword">var</span> o = &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">foo</span>: foo &#125;;</span><br><span class="line">           <span class="keyword">var</span> p = &#123; <span class="attr">a</span>: <span class="number">4</span> &#125;;</span><br><span class="line"></span><br><span class="line">           o.foo(); <span class="comment">//3</span></span><br><span class="line">           (p.foo = o.foo)();<span class="comment">//2  一定不是4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 3.软绑定 softBind可以实现软绑定,在硬绑定(指定this)的效果上,还保留隐式绑定或显示绑定修改this的能力</span></span><br><span class="line">      <span class="keyword">if</span> (!<span class="built_in">Function</span>.prototype.softBind) &#123;</span><br><span class="line">        <span class="built_in">Function</span>.prototype.softBind = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">var</span> fn = <span class="built_in">this</span>;</span><br><span class="line">          <span class="comment">// 捕获所有curried参数</span></span><br><span class="line">          <span class="keyword">var</span> curried = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">          <span class="keyword">var</span> bound = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> fn.apply(!<span class="built_in">this</span> || <span class="built_in">this</span> === (<span class="built_in">window</span> || <span class="built_in">global</span>) ? obj : <span class="built_in">this</span>);</span><br><span class="line">            curried.concat.apply(curried, <span class="built_in">arguments</span>);</span><br><span class="line">          &#125;;</span><br><span class="line"></span><br><span class="line">          bound.prototype = <span class="built_in">Object</span>.create(fn.prototype);</span><br><span class="line">          <span class="keyword">return</span> bound;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;name:&quot;</span> + <span class="built_in">this</span>.name);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> obj = &#123; <span class="attr">name</span>: <span class="string">&quot;obj&quot;</span> &#125;,</span><br><span class="line">        obj2 = &#123; <span class="attr">name</span>: <span class="string">&quot;obj2&quot;</span> &#125;,</span><br><span class="line">        obj3 = &#123; <span class="attr">name</span>: <span class="string">&quot;obj3&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> fooOBJ = foo.softBind(obj);</span><br><span class="line">      fooOBJ(); <span class="comment">//name:obj</span></span><br><span class="line"></span><br><span class="line">      obj2.foo = foo.softBind(obj);</span><br><span class="line">      <span class="comment">// obj2.foo()隐式调用 this指向obj2</span></span><br><span class="line">      obj2.foo(); <span class="comment">//name: obj2</span></span><br><span class="line"></span><br><span class="line">      fooOBJ.call(obj3); <span class="comment">//name:obj3</span></span><br><span class="line">      <span class="comment">// obj2.foo默认指向obj,所以输出obj</span></span><br><span class="line">      <span class="built_in">setTimeout</span>(obj2.foo, <span class="number">1000</span>); <span class="comment">//nane:obj</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 4.箭头函数</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 返回一个箭头函数 this继承自foo()</span></span><br><span class="line">        <span class="keyword">return</span> <span class="function">(<span class="params">a</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">2</span> &#125;;</span><br><span class="line">      <span class="keyword">var</span> obj2 = &#123; <span class="attr">a</span>: <span class="number">3</span> &#125;;</span><br><span class="line">      <span class="keyword">var</span> bar = foo.call(obj1);</span><br><span class="line">      bar.call(obj2); <span class="comment">//2 不是3</span></span><br><span class="line">      <span class="comment">// foo内部的箭头函数hi捕获调用使的this,由于this绑定到obj1上,</span></span><br><span class="line">      <span class="comment">// 所以bar引用箭头函数的this也会绑定到obj1上,箭头函数绑定无法被修改(new也不行)</span></span><br><span class="line">      <span class="comment">// 箭头函数常应用于事件处理器和定时器</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> obj = &#123; <span class="attr">a</span>: <span class="number">2</span> &#125;;</span><br><span class="line">      foo.call(obj); <span class="comment">//2</span></span><br></pre></td></tr></table></figure>

<h2 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h2><p>ajax:<a target="_blank" rel="noopener" href="http://www.voidcn.com/article/p-obthvvem-bpe.html">http://www.voidcn.com/article/p-obthvvem-bpe.html</a></p>
<h3 id="程序分块"><a href="#程序分块" class="headerlink" title="程序分块"></a>程序分块</h3><ul>
<li>现在执行片段</li>
<li>将来执行的片段</li>
<li>当你在代码中创建了一个将来执行的块时候,就引入了异步机制</li>
</ul>
<h3 id="异步控制台"><a href="#异步控制台" class="headerlink" title="异步控制台"></a>异步控制台</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=&#123;<span class="attr">index</span>:<span class="number">1</span>&#125; </span><br><span class="line"><span class="built_in">console</span>.log(a) </span><br><span class="line">a.index++; </span><br><span class="line"></span><br><span class="line">结果有的浏览器会显示 &#123;<span class="attr">index</span>:<span class="number">2</span>&#125; 因为浏览器可能会把I/O延迟到最后</span><br></pre></td></tr></table></figure>

<h4 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h4><ul>
<li><p><code>Js</code>引擎运行的环境是<strong>宿主环境</strong>,即Web浏览器  / <code>Node.js</code>,但这些宿主环境都提供了一种机制处理程序中多个块的执行,且执行<code>js</code>语句,这种机制被称为<code>事件循环机制</code></p>
</li>
<li><p>例如:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(fun,<span class="number">1000</span>)</span><br><span class="line">该函数并没有把回调函数挂载到事件循环队列中,它所做的是设置定时器,定时器到后,<span class="string">`环境会把回调函数放在事件循环队列中`</span>,这样在,未来某个时刻的事件循环会摘下这个并执行回调</span><br><span class="line"></span><br><span class="line"><span class="comment">//程序分成好多块,在事件循环队列中一个接一个执行,和程序不直接相关的其他事件也可能被插入到队列中</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="并行线程"><a href="#并行线程" class="headerlink" title="并行线程"></a>并行线程</h4><ul>
<li>JS为单线程运行,不允许对共享内存的访问和修改,但是通过分立线程的中彼此合作的事件循环,并行可以和顺序执行共存</li>
<li><strong>并行:关于能够同时发生的事情</strong></li>
<li><strong>异步:现在和将来的时间间隙</strong></li>
</ul>
<h3 id="完整运行"><a href="#完整运行" class="headerlink" title="完整运行"></a>完整运行</h3><ul>
<li><p>两个ajax对应的回调会在在时间上有分隔</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ajax(<span class="string">&#x27;/xx&#x27;</span>,func);</span><br><span class="line">ajax(<span class="string">&#x27;/xxx&#x27;</span>,func2);</span><br></pre></td></tr></table></figure>

<ul>
<li>上边两个请求,一旦func开始运行,它的所有代码都会在func2的任意代码执行前完成,或者相反,这一特性叫做<strong>完整运行</strong>.</li>
<li>但是<code>func</code>和<code>func2</code>的调用要看服务器响应,这种函数顺序的不确定性即<strong>竞态条件</strong></li>
</ul>
</li>
</ul>
<h4 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h4><ul>
<li>下边有两个进程<ul>
<li>在用户向下滚动页面触发onscroll事件时响应这些事件(发起ajax请求要求新内容)</li>
<li>接收ajax响应(把内容展示到页面)</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">onscroll 请求<span class="number">1</span> &lt;-------- 进程一启动</span><br><span class="line">onscroll 请求<span class="number">2</span> &lt;---------进程二启动</span><br><span class="line">响应<span class="number">1</span></span><br><span class="line">onscroll 请求<span class="number">3</span></span><br><span class="line">响应<span class="number">2</span></span><br><span class="line">onscroll 请求<span class="number">4</span></span><br><span class="line">onscroll 请求<span class="number">5</span></span><br><span class="line">onscroll 请求<span class="number">6</span></span><br><span class="line">响应<span class="number">4</span></span><br><span class="line">onscroll 请求<span class="number">7</span></span><br><span class="line">响应<span class="number">6</span></span><br><span class="line">响应<span class="number">5</span></span><br><span class="line">响应<span class="number">7</span></span><br></pre></td></tr></table></figure>

<p>上边过程即是<strong>“进程一”和“进程二”并发运行</strong>(任务级并行),[与运算级并行相对(不同处理器上的线程)],但是他们的<strong>各个事件是在事件循环队列中依次运行的.</strong></p>
<ul>
<li>单线程<strong>事件循环是并发</strong>的一种形式</li>
</ul>
<h4 id="非交互"><a href="#非交互" class="headerlink" title="非交互"></a>非交互</h4><p>两个或多个“进程”在同一个程序内并发的交替运行他们的步骤/事件时，这些任务彼此不相关，就不一定需要交互。</p>
<h4 id="交互（常见）"><a href="#交互（常见）" class="headerlink" title="交互（常见）"></a>交互（常见）</h4><ul>
<li><p>交互条件下的不确定性是竞态条件的bug，需要顺序协调避免竞态</p>
</li>
<li><p>简单例子</p>
</li>
<li><p>eg1:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">两个并发进程通过隐含顺序相互影响,此顺序有可能被破坏</span><br><span class="line"><span class="keyword">var</span> res=[];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">response</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    res.push(data);</span><br><span class="line">&#125;</span><br><span class="line">ajax(<span class="string">&#x27;/xxx&#x27;</span>,response)</span><br><span class="line">ajax(<span class="string">&#x27;/xxx2&#x27;</span>,response)</span><br><span class="line">这里的并发<span class="string">&quot;进程&quot;</span>是这两个用来处理ajax响应的response()调用,他们可能以任意顺序执行 ---竞态bug</span><br><span class="line"></span><br><span class="line">假定我们期望先把<span class="string">&quot;/xxx&quot;</span>结果放入res[<span class="number">0</span>],再把<span class="string">&quot;/xxx2&quot;</span>放入res[<span class="number">1</span>]中  (有时可能是这样,取决于响应返回浏览器的顺序)</span><br><span class="line"><span class="comment">//协调顺序</span></span><br><span class="line"><span class="keyword">var</span> res=[];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">response</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(data.url==<span class="string">&quot;/xxx&quot;</span>)&#123;</span><br><span class="line">        res[<span class="number">0</span>]=data</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(data.url==<span class="string">&quot;/xxx2&quot;</span>)&#123;</span><br><span class="line">        res[<span class="number">1</span>]=data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">ajax(<span class="string">&#x27;/xxx&#x27;</span>,response)</span><br><span class="line">ajax(<span class="string">&#x27;/xxx2&#x27;</span>,response)</span><br></pre></td></tr></table></figure></li>
<li><p>eg2: 不确定性在交互中造成问题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a,b;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    a=x*<span class="number">2</span>;</span><br><span class="line">    baz();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">y</span>)</span>&#123;</span><br><span class="line">    b=y*<span class="number">2</span>;</span><br><span class="line">    baz();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a+b)</span><br><span class="line">&#125;</span><br><span class="line">ajax(<span class="string">&quot;/xxx&quot;</span>,foo);<span class="comment">//此时baz没有b,b为undefined</span></span><br><span class="line">ajax(<span class="string">&quot;/xxx2&quot;</span>,bar);<span class="comment">//此时baz没有a,a为undefined</span></span><br><span class="line">该例子中无论foo()和bar()哪个先被触发,使得baz()会过早运行(a或b仍然未定义),但对baz()第二次调用就没问题</span><br><span class="line">解决该问题</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a,b;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    a=x*<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(a&amp;&amp;b)&#123;</span><br><span class="line">    	baz();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">y</span>)</span>&#123;</span><br><span class="line">    b=y*<span class="number">2</span>;</span><br><span class="line"> 	<span class="keyword">if</span>(a&amp;&amp;b)&#123;</span><br><span class="line">    	baz();</span><br><span class="line">    &#125;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a+b)</span><br><span class="line">&#125;</span><br><span class="line">ajax(<span class="string">&quot;/xxx&quot;</span>,foo);</span><br><span class="line">ajax(<span class="string">&quot;/xxx2&quot;</span>,bar);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p>eg3: 不确定性可以接受在并发交互时,竞态又叫做门闩,只有唯一胜利者</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a,b;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!a)&#123;</span><br><span class="line">        a=x*<span class="number">2</span>;</span><br><span class="line">    	baz();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line"> <span class="keyword">if</span>(!a)&#123;</span><br><span class="line">      a=x/<span class="number">2</span>;</span><br><span class="line">      baz() </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;</span><br><span class="line">ajax(<span class="string">&quot;/xxx&quot;</span>,foo);</span><br><span class="line">ajax(<span class="string">&quot;/xxx2&quot;</span>,bar);</span><br><span class="line">上述使得只有第一个响应回调的函数会被通过</span><br></pre></td></tr></table></figure>

<h4 id="协作"><a href="#协作" class="headerlink" title="协作"></a>协作</h4><p>数组map方法的使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">接口数据映射</span><br><span class="line"></span><br><span class="line">从接口得到数据 res:</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> r = res.map(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        title: item.name,</span><br><span class="line">        sex: item.sex === <span class="number">1</span>? <span class="string">&#x27;男&#x27;</span>:item.sex === <span class="number">0</span>?<span class="string">&#x27;女&#x27;</span>:<span class="string">&#x27;保密&#x27;</span>,</span><br><span class="line">        age: item.age,</span><br><span class="line">        avatar: item.img</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">map定义和方法 </span><br><span class="line">map()方法返回一个新数组，数组中的元素为原始数组元素调用函数处理的后值。 </span><br><span class="line">map()方法按照原始数组元素顺序依次处理元素。 </span><br><span class="line">注意： </span><br><span class="line">map不会对空数组进行</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>并发协作</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res=[];</span><br><span class="line"><span class="comment">//response从ajax调用中获得结果数组</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">response</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//添加到已有的res数组中</span></span><br><span class="line">    res=res.concat(</span><br><span class="line">    <span class="comment">//创建一个新的变换数组把所有data值加倍</span></span><br><span class="line">        data.map(<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> va;*<span class="number">2</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line">ajax(<span class="string">&quot;/xxx&quot;</span>,response);</span><br><span class="line">ajax(<span class="string">&quot;/xxx2&quot;</span>,response);</span><br><span class="line">如<span class="string">&quot;/xxx&quot;</span>先得到数据,整个列表会立刻映射到res中,但是上<span class="number">100</span>万条记录会霸占事件循环队列的并发系统,让其他事件等待,你可以异步处理这些结果,每次处理之后返回事件循环,让其他等待事件有机会运行</span><br><span class="line"></span><br><span class="line"><span class="comment">//解决</span></span><br><span class="line"><span class="keyword">var</span> res=[];</span><br><span class="line"><span class="comment">//response从ajax调用中获得结果数组</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">response</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="comment">//一次处理1000个</span></span><br><span class="line">    <span class="keyword">var</span> chunk=data.splice(<span class="number">0</span>,<span class="number">1000</span>);</span><br><span class="line">    <span class="comment">//添加到已有的res数组</span></span><br><span class="line">    res=res.concat(chunk.map(<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> val*<span class="number">2</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//还有剩余需要处理?</span></span><br><span class="line"><span class="keyword">if</span>(data.length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    <span class="comment">//异步调度下一次处理</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        response(data);</span><br><span class="line">    &#125;,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用setTimeout(function()&#123;&#125;,0)意思是把这个函数插入到当前事件循环队列的结尾处,严格来说会在有机会时插入</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h3><p>事件循环的每一轮叫做tick</p>
<ul>
<li>**任务队列:**它是挂在事件循环队列的每个tick之后的一个队列.在事件循环的每个tick中,可能出现的异步动作不会导致一个完整的新事件添加到事件循环队列中,而会在当前tick任务队列末尾添加一个任务</li>
<li>一个任务可能引起更多任务被添加,</li>
<li>定时器触发是为了调度下一个事件循环tick,</li>
<li>Promoise异步特性基于任务</li>
</ul>
<h3 id="语句顺序"><a href="#语句顺序" class="headerlink" title="语句顺序"></a>语句顺序</h3><ul>
<li><p>代码中的语句顺序和JavaScript引擎执行顺序并不一定要一致</p>
</li>
<li><p>JS引擎会自由的把代码重新排序</p>
</li>
<li><p>代码编写的方式(从上到下)和编译后执行的方式之间联系脆弱</p>
</li>
</ul>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ul>
<li>JS分为两块:现在运行/将来运行,程序是一块一块执行,但是这些块共享对程序作用域和状态的访问</li>
<li>一旦有事件需要运行,事件循环就会运行直到队列清空.用户交互,io,定时器都会向事件队列中插入事件</li>
<li><strong>一次只能从队列中处理一个事件,执行事件的时候,可能会直接或间接引发一个或多个后续事件</strong></li>
<li>并发**:两个或多个事件链随时间发展交替执行,就像是同时运行,有时需要协调防止交互时竞态程序**</li>
<li>事件:异步函数调用</li>
</ul>
<h2 id="同步和异步"><a href="#同步和异步" class="headerlink" title="同步和异步"></a>同步和异步</h2><p>参考:<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000018717485">https://segmentfault.com/a/1190000018717485</a></p>
<p>​    <a target="_blank" rel="noopener" href="https://www.sohu.com/a/333554883_283613">https://www.sohu.com/a/333554883_283613</a></p>
<h3 id="单线程JS"><a href="#单线程JS" class="headerlink" title="单线程JS"></a>单线程JS</h3><ul>
<li>为什么<code>JS</code>是单线程?</li>
</ul>
<blockquote>
<p>JavaScript的单线程，与它的用途有关。作为浏览器脚本语言，JavaScript的<strong>主要用途是与用户互动</strong>，以及<strong>操作DOM</strong>。这决定了它只能是单线程，否则会带来很复杂的同步问题。<strong>比如</strong>，假定JavaScript同时有两个线程，一个线程在某个DOM节点上添加内容，另一个线程删除了这个节点，这时浏览器应该以哪个线程为准？</p>
<p><strong>所谓单线程，是指在JS引擎中负责解释和执行JavaScript代码的线程只有一个</strong></p>
</blockquote>
<ul>
<li><p>计算机的同步和异步?</p>
<ul>
<li>同步:按顺序从上到下加载html,<strong>遇到发出请求后会暂停</strong>,直到远程服务器产生回应后才会继续运行。</li>
<li>异步:程序<strong>发出ajax调用后不会暂</strong>停，而是立即执行后面的代码，<strong>服务器返回信息后会自动触发回调函数进行处理。</strong></li>
</ul>
</li>
<li><p><code>JS</code>单线程为什么会有异步任务?</p>
<ul>
<li>如果JS中不存在异步,只能自上而下执行,万一上一行解析时间很长,那么下面的代码就会被阻塞,对于用户而言,阻塞就意味着”卡死”,这样就导致了很差的用户体验</li>
</ul>
</li>
<li><p>js单线程又是如何实现异步的呢?</p>
<ul>
<li><p><strong>事件循环</strong></p>
<p>例如</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;3&#x27;</span>)  </span><br><span class="line"><span class="comment">//       1，3，2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*,setTimeout里的函数并没有立即执行,而是延迟了一段时间,满足一定条件后,才去执行的,这类代码,我们叫异步代码*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>JS分类</p>
<ul>
<li>同步任务</li>
<li>异步任务</li>
</ul>
<img src="https://user-gold-cdn.xitu.io/2019/3/31/169d1a50de61bc54?w=601&h=527&f=png&s=67266" alt="img" style="zoom: 67%;" /></li>
<li><p>虽然<strong>JS是单线程的</strong>但是<strong>浏览器的内核是多线程的</strong>，在浏览器的内核中<strong>不同的异步操作由不同的浏览器内核模块调度执行</strong>，<strong>异步操作会将相关回调添加到任务队列中</strong>。</p>
</li>
<li><p>而<strong>不同的异步操作添加到任务队列的时机也不同</strong>，如 onclick, setTimeout, ajax 处理的方式都不同，这些**异步操作是由浏览器内核的 webcore **来执行的，webcore 包含上图中的3种 webAPI，分别是 DOM Binding、network、timer模块</p>
</li>
<li><p>按照这种分类方式:<strong>JS的执行机制</strong>是</p>
<ul>
<li><p>首先判断js代码是同步还是异步,同步就进入主进程,异步就进入<strong>event table</strong></p>
<blockquote>
<p>Event Table 可以理解成一张<strong>事件-&gt;回调函数对应表</strong>,用来存储 JavaScript 中的异步事件 (request, setTimeout, IO等) 及其对应的回调函数的列表</p>
</blockquote>
</li>
<li><p>异步任务在event table中注册函数,当满足触发条件后,被推入<strong>event queue</strong></p>
<blockquote>
<p>​    回调函数 队列</p>
<p>当 <strong>Event Table 中的事件被触发，</strong>事件对应的 回调函数 就会被 push 进这个 Event Queue，然后<strong>等待JS主线程执行</strong></p>
</blockquote>
</li>
<li><p>同步任务进入主线程后一直执行,直到主线程空闲时,才会去event queue中查看是否有可执行的异步任务,如果有就推入主进程中</p>
<p>如图</p>
<img src="http://5b0988e595225.cdn.sohucs.com/images/20190814/520026eea8954abaaa4263b8fde15be0.png" alt="img" style="zoom: 150%;" /></li>
</ul>
</li>
</ul>
<h3 id="同步任务和异步任务"><a href="#同步任务和异步任务" class="headerlink" title="同步任务和异步任务"></a>同步任务和异步任务</h3><ul>
<li><p>为什么会有同步和异步?</p>
<blockquote>
<ul>
<li>因为<strong>JavaScript的单线程</strong>，因此同个时间只能处理同个任务，<strong>所有任务都需要排队</strong>，前一个任务执行完，才能继续执行下一个任务，但是，<strong>如果前一个任务的执行时间很长</strong>，比如文件的读取操作或ajax操作，后一个任务就不得不等着，拿ajax来说，当用户向后台获取大量的数据时，不得不等到所有数据都获取完毕才能进行下一步操作，用户只能在那里干等着，<strong>严重影响用户体验</strong></li>
<li> 因此，JavaScript在设计的时候，就已经考虑到这个问题，<strong>主线程</strong>可以完全不<strong>用等待文件的读取完毕或ajax的加载成功</strong>，可以<strong>先挂起处于等待中的任务，先运行排在后面的任务，等到文件的读取或ajax有了结果后，再回过头执行挂起的任务</strong>，因此，任务就可以分为同步任务和异步任务</li>
</ul>
</blockquote>
</li>
<li><p>同步任务:</p>
<blockquote>
<p>同步任务是指在主线程上排队执行的任务，<strong>只有前一个任务执行完毕，才能继续执行下一个任务</strong>，当我们打开网站时，网站的渲染过程，比如元素的渲染，其实就是一个同步任务</p>
</blockquote>
</li>
<li><p>异步任务</p>
<blockquote>
<p>  异步任务是指不进入主线程，而<strong>进入任务队列的任务</strong>，只有<strong>任务队列通知主线程，某个异步任务可以执行了，该任务才会进入主线程</strong>，当我们打开网站时，像图片的加载，音乐的加载，其实就是一个异步任务</p>
</blockquote>
</li>
<li><p>异步机制实现</p>
<blockquote>
<ul>
<li><p> 首先要先说下<strong>任务队列</strong>，我们在前面也介绍了，异步任务是不会进入主线程，而是会先进入任务队列，<strong>任务队列其实是一个先进先出的数据结构，也是一个事件队列</strong>，比如说文件读取操作，因为这是一个异步任务，因此该任务会被添加到<strong>Event Table(事件回调函数对应表)<strong>中，等到</strong>IO事件完成后，就会在任务队列中添加一个事件，表示异步任务完成啦，可以进入执行栈</strong>啦~但是这时候呀，<strong>主线程不一定有空</strong>，当<strong>主线程</strong>处理完其它任务<strong>有空时</strong>，就会读取任务队列，如果该任务指定了回调函数，那么主线程在处理该事件时，就会执行回调函数中的代码，也就是执行异步任务啦</p>
</li>
<li><p> <strong>单线程从从任务队列中读取任务是不断循环的</strong>，每次栈被清空后，都会在任务队列中读取新的任务，如果没有任务，就会等到，直到有新的任务，这就叫做<strong>任务循环</strong>，因为<strong>每个任务都是由一个事件触发的，因此也叫作事件循环</strong></p>
</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*（1）所有同步任务都在主线程上执行，行成一个执行栈</span></span><br><span class="line"><span class="comment">（2）主线程之外，还存在一个任务队列，只要异步任务有了结果，就会在任务队列中放置一个事件</span></span><br><span class="line"><span class="comment">（3）一旦执行栈中的所有同步任务执行完毕，系统就会读取任务队列，看看里面还有哪些事件，那些对应的异步任务，于是结束等待状态，进入执行栈，开始执行</span></span><br><span class="line"><span class="comment">（4）主线程不断的重复上面的第三步*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="异步代码"><a href="#异步代码" class="headerlink" title="异步代码?"></a>异步代码?</h2><ul>
<li>异步有4种编程模式<ul>
<li>回调函数</li>
<li>.事件监听,任务的执行不取决于代码的顺序，而取决于某个事件是否发生</li>
<li>发布订阅模式，也叫观察者模式</li>
<li>Promises对象</li>
<li>async await</li>
</ul>
</li>
</ul>
<h2 id="回调"><a href="#回调" class="headerlink" title="回调"></a>回调</h2><ul>
<li>回调是js最基础的异步模式</li>
<li>回调函数的优点是简单、容易理解和部署，缺点是不利于代码的阅读和维护，各个部分之间高度耦合，流程会很混乱，而且每个任务只能指定一个回调函数</li>
</ul>
<h3 id="两种回调"><a href="#两种回调" class="headerlink" title="两种回调"></a>两种回调</h3><blockquote>
<p>  回调函数:1.你自己定义的 2.我不会调用 3.最终执行了</p>
<p>  1**.同步回调**:立即执行,完全执行完了才结束,<strong>不会放入回调队列</strong>中</p>
<p>​    例子:<strong>数组遍历相关回调函数</strong>,<strong>Promise是excutor函数</strong></p>
<p>  2.<strong>异步回调</strong></p>
<p>​    理解:<strong>不会立即执行,会放入回调队列将来执行</strong></p>
<p>​    例子:<strong>定时器回调/ajax回调/Promise的成功|失败问题</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.同步回调</span></span><br><span class="line">    <span class="comment">//forEach执行不代表打印item执行</span></span><br><span class="line">    <span class="comment">//这里arr调用forEach后内部要把所有item遍历并调用回调函数后才执行    console.log(&quot;forEach()之后&quot;);</span></span><br><span class="line">    <span class="comment">//所以这是一个同步回调函数 不会放入队列,一上来就要执行完</span></span><br><span class="line">	  <span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line">    <span class="comment">//    遍历该数组</span></span><br><span class="line">    arr.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//遍历回调</span></span><br><span class="line">      <span class="built_in">console</span>.log(item);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;forEach()之后&quot;</span>);</span><br><span class="line"><span class="comment">//2.异步回调</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;timeout callback&quot;</span>);</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;setTime之后&quot;</span>);</span><br><span class="line">    <span class="comment">//先执行 console.log(&quot;setTime之后&quot;),后执行console.log(&quot;timeout callback&quot;)</span></span><br><span class="line">    <span class="comment">//setTimeout是异步回调函数,会放入队列中将来执行</span></span><br></pre></td></tr></table></figure>



<h3 id="continuation"><a href="#continuation" class="headerlink" title="continuation"></a>continuation</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//A</span></span><br><span class="line">ajax(<span class="string">&quot;/xxx&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//C</span></span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"><span class="comment">//B</span></span><br><span class="line"></span><br><span class="line">A和B表示代码执行现在阶段,C表示执行的将来部分.前半部分立刻执行,然后是一段不确定的停顿,在未来某时刻,完成ajax调度,程序执行将来部分</span><br><span class="line">换句话说: 回调包裹或封装了程序的延续</span><br></pre></td></tr></table></figure>

<h3 id="嵌套回调和链式回调"><a href="#嵌套回调和链式回调" class="headerlink" title="嵌套回调和链式回调"></a>嵌套回调和链式回调</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">addeventlistener(<span class="string">&quot;click&quot;</span>,<span class="function"><span class="keyword">function</span> <span class="title">handler</span>(<span class="params">evt</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        ajax(<span class="string">&quot;http://xxx&quot;</span>,<span class="function"><span class="keyword">function</span> <span class="title">response</span>(<span class="params">text</span>)</span>&#123;<span class="comment">//得到的text是返回的响应体由浏览器自己传入</span></span><br><span class="line">            <span class="keyword">if</span>(text==<span class="string">&quot;hello&quot;</span>)&#123;</span><br><span class="line">                handler();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(text==<span class="string">&quot;world&quot;</span>)&#123;</span><br><span class="line">                request();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,<span class="number">500</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">解释:等待click,等待定时器,等待Ajax响应单返回,之后可能再次重新开始,回调地狱</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">doA(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    doB();</span><br><span class="line">    doC(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        doD();</span><br><span class="line">    &#125;)</span><br><span class="line">    doE();</span><br><span class="line">&#125;)</span><br><span class="line">doF();</span><br><span class="line">假设doX()里传的是回调函数则上述代码执行顺序为</span><br><span class="line">doA()</span><br><span class="line">doF()</span><br><span class="line">doB()</span><br><span class="line">doC()</span><br><span class="line">doE()</span><br><span class="line">doD()</span><br></pre></td></tr></table></figure>

<p>顺序的人脑计划于回调驱动的异步JavaScript代码之间的不匹配是回调问题的一部分</p>
<h3 id="信任问题"><a href="#信任问题" class="headerlink" title="信任问题"></a>信任问题</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//A</span></span><br><span class="line">ajax(<span class="string">&quot;/xxx&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//C</span></span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line"><span class="comment">//B</span></span><br><span class="line"></span><br><span class="line">C会延迟到将来发生,是在ajax第三方控制下,控制反转,即把自己的一部分执行控制交给第三方工具,第三方工具出错,回调导致程序出错</span><br></pre></td></tr></table></figure>

<p><strong>控制反转</strong>是回调最大的问题,会导致信任链断裂,使用回调需要应用某种逻辑解决所有这些控制反转导致的信任问题.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自己代码信任问题</span></span><br><span class="line">过分信任输入</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addNumbers</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line">addNumbers(<span class="number">12</span>,<span class="number">12</span>)<span class="comment">//24</span></span><br><span class="line">addNumbers(<span class="number">12</span>,<span class="string">&quot;12&quot;</span>)<span class="comment">//&quot;1212&quot; 不合要求</span></span><br><span class="line"></span><br><span class="line">需要应用逻辑解决问题</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addNumbers</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> a!=<span class="string">&quot;number&quot;</span>||<span class="keyword">typeof</span> b!=number)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">&quot;Bad parameters&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a+b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>同步和异步:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/Yellow-ice/p/10433423.html">https://www.cnblogs.com/Yellow-ice/p/10433423.html</a></p>
<p>回调两大问题:与<strong>大脑方式不同</strong>有顺序性问题   <strong>控制反转造成信任问题</strong></p>
<h2 id="Prmomise"><a href="#Prmomise" class="headerlink" title="Prmomise"></a>Prmomise</h2><h3 id="准备知识"><a href="#准备知识" class="headerlink" title="准备知识"></a>准备知识</h3><h4 id="错误类型"><a href="#错误类型" class="headerlink" title="错误类型"></a>错误类型</h4><blockquote>
<p>​    Error:所有错误父类型</p>
<p>   Reference:引用的变量不存在</p>
<ul>
<li><p>```js<br> console.log(a); //:1 Uncaught ReferenceError: a is not defined</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   TypeError:数据类型不正确</span><br><span class="line"></span><br><span class="line">* &#96;&#96;&#96;js</span><br><span class="line">   let b;</span><br><span class="line">  console.log(b.xxx); &#x2F;&#x2F;Uncaught TypeError: Cannot read property &#39;xxx&#39; of null</span><br><span class="line">   b &#x3D; &#123;&#125;;</span><br><span class="line">  b.xxx();&#x2F;&#x2F;错误.html:33 Uncaught TypeError: b.xxx is not a function</span><br></pre></td></tr></table></figure>

<p> RangeError:数据值不在其允许范围内</p>
</li>
<li><p>```js<br>  // function fn() {</p>
<pre><code>//   fn();
// &#125;
// fn(); //递归调用  Uncaught RangeError: Maximum call stack size exceeded
</code></pre>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   SyntaxError:语法错误</span><br><span class="line"></span><br><span class="line">* &#96;&#96;&#96;js</span><br><span class="line">      &#x2F;&#x2F; const c; &#x2F;&#x2F;Uncaught SyntaxError: Missing initializer in const declaration</span><br><span class="line">  </span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<p><strong>错误处理</strong></p>
<blockquote>
<p>​    捕获错误:try..catch</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 捕获错误:try..catch</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> f;</span><br><span class="line">      <span class="built_in">console</span>.log(f.xxx);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(error.message);</span><br><span class="line">      <span class="built_in">console</span>.log(error.stack);</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="comment">//出错之后</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;出错之后&quot;</span>); <span class="comment">//仍然可以执行</span></span><br></pre></td></tr></table></figure>

<p>   抛出错误:throw error</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">something</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Date</span>.now() % <span class="number">2</span> === <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;当前时间为奇数 可以执行任务&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//如果时间为偶数抛出异常,由调用处理</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;当前时间为偶数,无法执行任务&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>


</blockquote>
<p><strong>错误对象</strong></p>
<blockquote>
<p>​    message属性:错误相关信息</p>
<p>​    stack:函数调用栈记录信息</p>
</blockquote>
<h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">    1.实例对象和函数对象</span></span><br><span class="line"><span class="comment">    实例对象：new 函数作为对象使用时简称为对象</span></span><br><span class="line"><span class="comment">    函数对象：将函数作为对象使用时</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>) </span>&#123;&#125; <span class="comment">//Fn函数</span></span><br><span class="line">    <span class="keyword">const</span> fn = <span class="keyword">new</span> Fn(); <span class="comment">//Fn是构造函数 fn是实例对象(即对象)</span></span><br><span class="line">    <span class="built_in">console</span>.log(Fn.__proto__ == <span class="built_in">Function</span>.prototype); <span class="comment">//Fn是函数对象 此处Fn作为对象使用</span></span><br><span class="line">    <span class="comment">// 所有函数都是Function的实例</span></span><br><span class="line">    Fn.bind(&#123;&#125;); <span class="comment">//Fn是函数对象</span></span><br><span class="line">    $(<span class="string">&quot;test&quot;</span>); <span class="comment">//$是函数用于找对应标签  jQuery函数</span></span><br><span class="line">    $.get(<span class="string">&quot;/test&quot;</span>); <span class="comment">//调用jquery函数对象的get方法  jQuery函数对象</span></span><br></pre></td></tr></table></figure>

<h3 id="Promise基本理解"><a href="#Promise基本理解" class="headerlink" title="Promise基本理解"></a>Promise基本理解</h3><ul>
<li>抽象:Promise是JS中去<strong>执行异步编程的新的解决方案</strong>(旧的是谁?纯回调)</li>
<li>具体:<ul>
<li>1.从语法上:Promise是一个<strong>构造函数</strong></li>
<li>2.promise对象用来封装一个<strong>异步操作</strong>并可以<strong>获得异步执行结果</strong></li>
<li>Promise的参数是一个<strong>回调函数(同步)</strong></li>
<li>promise必须实现<code>then</code>方法（可以说，<strong>then就是promise的核心</strong>），而且then必须返回一个promise，<strong>同一个promise的then可以调用多次</strong>，并且回调的执行顺序跟它们被定义时的顺序一致</li>
<li><strong>then</strong>方法接受两个参数，第一个参数是<strong>成功时的回调</strong>(异步)，在promise由“等待”态转换到“完成”态时调用，另一个是<strong>失败时的回调</strong>(异步)，在promise由“等待”态转换到“拒绝”态时调用，同时，then可以接受另一个promise传入，也接受一个“类then”的对象或方法，即thenable对象</li>
</ul>
</li>
</ul>
<h4 id="状态改变"><a href="#状态改变" class="headerlink" title="状态改变"></a>状态改变</h4><ul>
<li><p><code>1.pending(即将发生的)- - -&gt;resolved</code></p>
</li>
<li><p><code>2.pending(即将发生的)- - -&gt;rejected</code></p>
</li>
<li><p><code>不能逆向转换，同时“完成”态和“拒绝”态不能相互转换</code></p>
</li>
<li><p>说明</p>
<ul>
<li><blockquote>
<ul>
<li><p><strong>只有</strong>这<strong>两种状态转变</strong>,且一个Promise对象只能改变一次状态</p>
</li>
<li><p>无论变为成功还是失败,都<strong>会有一个结果数据</strong></p>
</li>
<li><p><strong>成功</strong>的结果数据一般称为<strong>value</strong>,<strong>失败</strong>结果数据为<strong>reason</strong>(可以使用这两个做形参得到结果)</p>
</li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="Promise代码"><a href="#Promise代码" class="headerlink" title="Promise代码"></a>Promise代码</h4> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(</span><br><span class="line">     <span class="comment">//创建一个promise对象  参数为执行器函数,执行器函数的参数为resolve,和reject,该执行器回调函数是同步回调函数</span></span><br><span class="line">    <span class="comment">//// resolve和reject也是函数调用后成功执行.then里的第一个函数,失败执行第二个函数</span></span><br><span class="line">    (resolve,reject)=&gt;&#123;</span><br><span class="line">        <span class="comment">//先执行  console.log(&quot;new promise()之后&quot;) 因为此时回调为同步回调 异步任务已经启动了还有可能没有完成，但是已经得到promise对象</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;执行了excutor&quot;</span>);</span><br><span class="line">        <span class="comment">//2.执行异步操作任务</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(</span><br><span class="line">        ()=&gt;&#123;</span><br><span class="line">         <span class="keyword">const</span> time=<span class="built_in">Date</span>.now();</span><br><span class="line">            <span class="comment">// 3.1如果成功了,调用resolve(value)</span></span><br><span class="line">        <span class="keyword">if</span> (time % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">          resolve(<span class="string">&quot;成功的数据,time=&quot;</span> + time);<span class="comment">//该数据会传递给.then中的成功回调的参数(value)</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">//3.2 失败了,调用reject(reason)</span></span><br><span class="line">          reject(<span class="string">&quot;失败的数据,time=&quot;</span> + time);<span class="comment">//该数据会传递给.then中的失败回调的参数(reason)</span></span><br><span class="line">        &#125;</span><br><span class="line">            <span class="comment">// //上边两个调用完后,调用then会执行value(),</span></span><br><span class="line">        &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;new promise()之后&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(</span><br><span class="line">      () =&gt;</span><br><span class="line">        p.then(</span><br><span class="line">          (value) =&gt; &#123;</span><br><span class="line">            <span class="comment">//接收得到成功value数据 onResolved回调函数被调用</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;成功的回调&quot;</span>, value);</span><br><span class="line">          &#125;,</span><br><span class="line">          (reason) =&gt; &#123;</span><br><span class="line">            <span class="comment">//接收得到失败的reason数据 onRejected回调函数被调用</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;失败的回调&quot;</span>, reason);</span><br><span class="line">          &#125;</span><br><span class="line">        ),</span><br><span class="line">      <span class="number">2000</span></span><br><span class="line">    ); <span class="comment">//指定回调函数2s之后 仍然可以得到结果数据</span></span><br></pre></td></tr></table></figure>

<h3 id="为什么使用Promise"><a href="#为什么使用Promise" class="headerlink" title="为什么使用Promise"></a>为什么使用Promise</h3><blockquote>
<ul>
<li><p>promise指定回调函数更加灵活,</p>
<p>旧的:必须在启动异步任务前指定回调函数</p>
<p> promise:启动异步任务=&gt;返回promise对象=&gt;给promise对象绑定回调函数(甚至可以在异步完成之后再指定回调函数)</p>
</li>
<li><p>支持链式调用 可以解决回调地狱问题</p>
<ul>
<li><p>什么是回调地狱?</p>
<p>回调函数嵌套调用,外部回调函数异步执行的结果是嵌套的回调函数执行的条件</p>
</li>
<li><p>回调地狱缺点?</p>
<p>不便于阅读与异常处理</p>
</li>
<li><p>解决方案?promise链式调用</p>
</li>
<li><p>终极解决方案?async/await</p>
</li>
</ul>
</li>
</ul>
</blockquote>
<p><strong>发展历史</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.伪函数 纯回调 回调地狱</span></span><br><span class="line">  <span class="comment">// 成功的回调函数</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">successCallback</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;声音文件创建成功：&quot;</span> + result);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 失败的回调函数</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">failureCallback</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;声音文件创建失败：&quot;</span> + error);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 使用纯回调函数 AudioSettings用于创建异步任务  先指定回调函数后启动异步任务（后执行creatAudioFileAsync（）调用启动异步任务）</span></span><br><span class="line">  creatAudioFileAsync(AudioSettings, successCallback, failureCallback);</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 2.使用promise</span></span><br><span class="line">  <span class="comment">// creatAudioFileAsync会执行异步任务 这里使用promise在creatAudioFileAsync内部，可以得到promise对象，创建文件已经开始了，但是没有完成</span></span><br><span class="line">  <span class="keyword">const</span> promise = creatAudioFileAsync(AudioSettings);</span><br><span class="line">  <span class="comment">// 指定回调函数在异步任务启动后 上边异步任务启动异步到创建文件2s，下边指定回调函数是3s之后 回调函数仍然能得到结果</span></span><br><span class="line">  <span class="comment">// promise也需要指定回调函数，但是它是在启动任务之后，甚至在任务结束才指定回调函数</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    promise.then(successCallback, failureCallback);</span><br><span class="line">  &#125;, <span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.回调地狱 多个串联异步操作会用到  第二个回调函数要用上一个回调的数据 doSomething是封装的执行异步函数返回promise,一个promise对应一个异步任务</span></span><br><span class="line">  doSomething(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span><br><span class="line">    doSomethingElse(</span><br><span class="line">      result,</span><br><span class="line">      <span class="function"><span class="keyword">function</span> (<span class="params">newResult</span>) </span>&#123;</span><br><span class="line">        doThirdThing(</span><br><span class="line">          newResult,</span><br><span class="line">          <span class="function"><span class="keyword">function</span> (<span class="params">finalResult</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;got the final result&quot;</span> + finalResult);</span><br><span class="line">          &#125;,</span><br><span class="line">          failureCallback</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">      failureCallback</span><br><span class="line">    );</span><br><span class="line">  &#125;, failureCallback);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 4.使用promise 仍然有回调函数不是终极方案</span></span><br><span class="line">  doSomething()</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span> (<span class="params">result</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> doSomethingElse(result);</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span> (<span class="params">newResult</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> doThirdThing(newResult);</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span> (<span class="params">finalResult</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;got the final result&quot;</span> + finalResult);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(failureCallback);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 5.解决回调地狱终极  async/await</span></span><br><span class="line">  <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> result = <span class="keyword">await</span> doSomething();</span><br><span class="line">      <span class="keyword">const</span> newResult = <span class="keyword">await</span> doSomethingElse(result);</span><br><span class="line">      <span class="keyword">const</span> finalResult = <span class="keyword">await</span> doThirdThing(newResult);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;got the final result&quot;</span> + finalResult);</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      failureCallback(error);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Promise语法"><a href="#Promise语法" class="headerlink" title="Promise语法"></a>Promise语法</h3><ul>
<li>API???就是语法 和发请求api(前后端交互接口),定义一个函数也是Api</li>
<li>PromiseAPI Promise语法</li>
</ul>
<blockquote>
<ol>
<li>Promise构造函数:Promise(excutor){}<ul>
<li><strong>excutor</strong>同步回调函数:同步执行 <code>(resolve,reject)=&gt;&#123; 写异步代码&#125;</code></li>
<li><strong>resolve</strong>函数:内部定义成功时我们调用的函数(异步操作)          <code>resolve()</code>会改变Promise状态到成功</li>
<li><strong>reject</strong>函数:内部定义失败时我们调用的函数 <code>reject()</code>会改变Promise状态到失败</li>
<li>说明:<code>excutor</code>会在<code>Promise</code>内部立即<strong>同步回调</strong>,异步操作在执行器中执行,resolve,reject调用在<strong>异步操作</strong>中使用,参数为成功或失败的数据,这些<strong>数据将会传给.then的成功/失败的回调函数的参数value/reason</strong></li>
</ul>
</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(</span><br><span class="line">    (resolve,reject)=&gt;&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          resolve(<span class="string">&quot;成功的数据&quot;</span>);</span><br><span class="line">          reject(<span class="string">&quot;失败的数据&quot;</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;).then(</span><br><span class="line">    value=&gt;<span class="built_in">console</span>.log(<span class="string">&quot;&quot;</span>onResolved()<span class="number">1</span><span class="string">&quot;, value&quot;</span>)</span><br><span class="line">    ).catch(</span><br><span class="line">    reason=&gt;<span class="built_in">console</span>.log(<span class="string">&quot;onRejected()1&quot;</span>, reason);</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<blockquote>
<p>2<code>.Promise.prototype.then</code>方法:参数:<code>(onResolved,onRejected)=&gt;&#123;&#125;</code></p>
<ul>
<li>onResolved函数:成功的回调函数 <code>() (value)=&gt;&#123;处理返回的数据&#125;</code></li>
<li>onRejected函数:失败的回调函数 <code>() (reason)=&gt;&#123;处理失败的数据&#125;</code></li>
<li>说明:指定用于得到成功value的成功回调和用于失败reason的失败回调</li>
<li><strong>返回一个Promise对象</strong></li>
</ul>
<p>3.<code>Promise.prototype.catch</code>方法:参数:<code>(onRejected)=&gt;&#123;&#125;</code></p>
<p>​     <code>onRejected函数</code>:失败的回调函数<code> () (reason)=&gt;&#123;&#125;</code></p>
<p>​     说明:then的语法糖 相当于then(undefined,onRejected)</p>
<p> 4.<code>Promise.resolve</code>方法:<code>(value)=&gt;&#123;&#125;</code></p>
<p>​      value:成功的数据或promise对象</p>
<p>​      说明:<strong>返回一个成功/失败的promise对象</strong></p>
<p>5.<code>Promise.reject</code>方法:<code>(reason)=&gt;&#123;&#125;</code></p>
<p>​      value:失败的原因</p>
<p>​      说明:<strong>返回一个失败的promise对象</strong></p>
<p> 6.<code>Promise.all():(promises)=&gt;&#123;&#125;</code></p>
<p>​      promises:包含n个promise的数组</p>
<p>​      说明**:返回一个新的promise,只有所有的promise成功才成功,只要有一个失败就直接失败**</p>
<p>​    7.<code> Promise.race()方法:(promise)=&gt;&#123;&#125;</code></p>
<p>​     promises:包含n个promise的数组</p>
<p>​     说明:**返回一个新的promise,**<strong>第一个完成的promise的结果状态就是最终结果状态</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">     <span class="comment">// 产生一个成功值为1的promise</span></span><br><span class="line">     <span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">       resolve(<span class="number">1</span>);</span><br><span class="line">     &#125;);</span><br><span class="line">     <span class="comment">// 产生一个成功值为2的promise</span></span><br><span class="line">     <span class="keyword">const</span> p2 = <span class="built_in">Promise</span>.resolve(<span class="number">2</span>);</span><br><span class="line">     <span class="comment">// 产生一个失败值为3的promise</span></span><br><span class="line">     <span class="keyword">const</span> p3 = <span class="built_in">Promise</span>.reject(<span class="number">3</span>);</span><br><span class="line">     <span class="comment">//   p1.then((value) =&gt; console.log(value));</span></span><br><span class="line">     <span class="comment">//   p2.then((value) =&gt; console.log(value));</span></span><br><span class="line">     <span class="comment">//   p3.then(null, (reason) =&gt; console.log(reason));</span></span><br><span class="line">     p3.catch(<span class="function">(<span class="params">reason</span>) =&gt;</span> <span class="built_in">console</span>.log(reason)); <span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">//   const pAll = Promise.all([p1, p2, p3]);</span></span><br><span class="line">     <span class="keyword">const</span> pAll = <span class="built_in">Promise</span>.all([p1, p2]);</span><br><span class="line">     pAll.then(</span><br><span class="line">       (values) =&gt; &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">&quot;all onResolved&quot;</span>, values);</span><br><span class="line">       &#125;,</span><br><span class="line">       (reason) =&gt; &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">&quot;all onRejected&quot;</span>, reason);</span><br><span class="line">       &#125;</span><br><span class="line">     );</span><br><span class="line"></span><br><span class="line"><span class="comment">// const pRace = Promise.race([p1, p2, p3]);</span></span><br><span class="line">     <span class="keyword">const</span> pRace = <span class="built_in">Promise</span>.race([p3, p2, p1]); <span class="comment">//不一定是显示第一个promise,而是先产生的promise对应的成功还是失败</span></span><br><span class="line">     pRace.then(</span><br><span class="line">       (value) =&gt; <span class="built_in">console</span>.log(value),</span><br><span class="line">       (reason) =&gt; <span class="built_in">console</span>.log(reason)</span><br><span class="line">     );</span><br></pre></td></tr></table></figure>

<h3 id="关键问题"><a href="#关键问题" class="headerlink" title="关键问题"></a>关键问题</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    1.如何改变promise的状态？</span></span><br><span class="line"><span class="comment">      1.resolve（value）：如果当前是pending就会变为resolved</span></span><br><span class="line"><span class="comment">      2.reject（reason）：如果当前是pending就会变成rejected</span></span><br><span class="line"><span class="comment">      3.抛出异常：如果当前是pending就会变成rejected</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    2.一个promise指定多个成功/失败的回调，会调用吗？</span></span><br><span class="line"><span class="comment">        当promise改变为对应状态时都会调用</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    3.改变promise状态和指定回调函数 谁先谁后？</span></span><br><span class="line"><span class="comment">     1.都有可能，正常情况下是先指定回调再改变状态，但也可以先改变状态再指定回调</span></span><br><span class="line"><span class="comment">     2.如何先改状态再指定回调？</span></span><br><span class="line"><span class="comment">       在执行器中直接调用resolve（）/reject（）</span></span><br><span class="line"><span class="comment">       延迟更长时间才调用then（）</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     3. 什么时候才能得到数据？</span></span><br><span class="line"><span class="comment">        如果先指定的回调，那当状态发生改变时，回调函数会调用，得到数据</span></span><br><span class="line"><span class="comment">        如果先改变的状态，那当指定回调时，回调函数就会调用，得到数据</span></span><br><span class="line"><span class="comment">    注意：then是同步执行，then的参数异步执行</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  常规：先指定回调函数，后改变状态</span></span><br><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//异步任务</span></span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="number">1</span>); <span class="comment">//后改变状态（同时指定数据），异步执行回调函数</span></span><br><span class="line">      &#125;, <span class="number">1000</span>);</span><br><span class="line">      <span class="comment">//   resolve(1); //promise变为resolved的成功状态</span></span><br><span class="line">      <span class="comment">//  reject(2)//promise变为resolved的成功状态</span></span><br><span class="line">      <span class="comment">//   throw new Error(&quot;出错了&quot;); //抛出异常 promise变为rejected失败状态，reason为抛出的error</span></span><br><span class="line">      <span class="comment">//   throw 3; //抛可以抛如何数据</span></span><br><span class="line">    &#125;);</span><br><span class="line">    p.then(</span><br><span class="line">      (value) =&gt; &#123;&#125;, <span class="comment">//先指定回调函数，保存当前指定的回调函数</span></span><br><span class="line">      (reason) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;reason&quot;</span>, reason);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">    <span class="comment">// p.then(</span></span><br><span class="line">    <span class="comment">//   value =&gt; &#123;&#125;,</span></span><br><span class="line">    <span class="comment">//   (reason) =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;reason2&quot;, reason);</span></span><br><span class="line">    <span class="comment">//   &#125;</span></span><br><span class="line">    <span class="comment">// );</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如何先改状态后指定回调函数</span></span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="number">1</span>); <span class="comment">//先改变状态（同时指定数据），把数据存储起来</span></span><br><span class="line">    &#125;).then(</span><br><span class="line">      <span class="comment">//.then的执行是同步</span></span><br><span class="line">      <span class="comment">//后指定回调函数，异步执行回调函数</span></span><br><span class="line">      (value) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;value&quot;</span>, value);</span><br><span class="line">      &#125;,</span><br><span class="line">      (reason) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;reason2&quot;</span>, reason);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;--------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="number">2</span>);</span><br><span class="line">      &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      p1.then(</span><br><span class="line">        (value) =&gt; &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;value&quot;</span>, value);</span><br><span class="line">        &#125;,</span><br><span class="line">        (reason) =&gt; &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;reason2&quot;</span>, reason);</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">    &#125;, <span class="number">1100</span>);</span><br></pre></td></tr></table></figure>

<h3 id="状态的决定"><a href="#状态的决定" class="headerlink" title="状态的决定"></a>状态的决定</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> promise.then（）返回的新的promise的结果状态由什么决定？</span></span><br><span class="line"><span class="comment">    1.简单表达：由then()指定的回调函数执行的结果决定</span></span><br><span class="line"><span class="comment">    2.详细表达：</span></span><br><span class="line"><span class="comment">        1.如果抛出异常，新的promise变为rejected，reason为抛出的异常的值</span></span><br><span class="line"><span class="comment">        2.如果返回的是非promise的任意值，新promise变为resolved，value为返回的值</span></span><br><span class="line"><span class="comment">        3.如果返回的是另一个新的promise，此promise的结果会成为新的promise的结果</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="number">1</span>);</span><br><span class="line">      <span class="comment">//reject(1);</span></span><br><span class="line">    &#125;)</span><br><span class="line">      .then(</span><br><span class="line">        (value) =&gt; &#123;</span><br><span class="line">          <span class="comment">//1  该回调函数返回的值是undefined,此时then返回的promise会成功,成功值为undefined</span></span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;onResolved1()&quot;</span>, value);</span><br><span class="line">          <span class="comment">//return 2;//加这个下边的then返回2</span></span><br><span class="line">          <span class="comment">//return Promise.resolve(3); //return了一个成功的为3的promise,下边的then的value为3</span></span><br><span class="line">          <span class="comment">// return Promise.reject(4);//return了一个失败的为4的promise,下边的then的reason为4</span></span><br><span class="line">          <span class="keyword">throw</span> <span class="number">5</span>; <span class="comment">//return了一个失败的为5的promise,下边的then的reason为5</span></span><br><span class="line">        &#125;,</span><br><span class="line">        (reason) =&gt; &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;onRejected()&quot;</span>, reason);</span><br><span class="line">        &#125;</span><br><span class="line">      ) <span class="comment">//这里返回一个新的promise给接下来的then使用而里边</span></span><br><span class="line">      .then(</span><br><span class="line">        (value) =&gt; &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;onResolved1()&quot;</span>, value); <span class="comment">//undefined</span></span><br><span class="line">        &#125;,</span><br><span class="line">        (reason) =&gt; &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;reason&quot;</span>, reason);</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br></pre></td></tr></table></figure>

<h3 id="链式调用"><a href="#链式调用" class="headerlink" title="链式调用"></a>链式调用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 5.promise如何创建多个操作任务</span></span><br><span class="line"><span class="comment"> 1.promise的then()返回以给promise对象,可以看成then()的链式调用</span></span><br><span class="line"><span class="comment"> 2.通过then的链式调用串联多个同步/异步任务</span></span><br><span class="line"><span class="comment"> 3.then()返回的promise与上一个promise执行的结果无关,.then的回调函数返回什么有关</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;执行任务1(异步)&quot;</span>);</span><br><span class="line">    resolve(<span class="number">1</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;任务1的结果:&quot;</span>, value), <span class="built_in">console</span>.log(<span class="string">&quot;执行任务2(同步)&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;任务2的结果&quot;</span>, value); <span class="comment">//2</span></span><br><span class="line">    <span class="comment">//    启动任务3(异步)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;执行任务3(异步)&quot;</span>);</span><br><span class="line">        resolve(<span class="number">3</span>);</span><br><span class="line">      &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">(<span class="params">value</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&quot;任务3的结果&quot;</span>, value)); <span class="comment">//3</span></span><br></pre></td></tr></table></figure>

<h3 id="异常穿透和中断promise"><a href="#异常穿透和中断promise" class="headerlink" title="异常穿透和中断promise"></a>异常穿透和中断<code>promise</code></h3><p><strong>返回空的promise值为undefined,promise为等待pending状态</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;&#125;).then(<span class="function"><span class="params">value</span>=&gt;</span><span class="built_in">console</span>.log(value))</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//resolve();//这里一旦有resolve()调用则会修改状态,它 会返回一个值为undefined的成功的Promise</span></span><br><span class="line">    reject();</span><br><span class="line">&#125;).then(</span><br><span class="line">    	<span class="comment">//value=&gt;console.log(value), 有这个没有resolve()调用也会返回成功Promise,只有这个注释掉才会返回失败Promise</span></span><br><span class="line">       	reason=&gt;<span class="built_in">console</span>.log(reason)</span><br><span class="line">       )</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   6.promise的异常穿透/传透 ?</span></span><br><span class="line"><span class="comment">    - 当使用promise的then链式调用时,可以在最后指定失败的回调</span></span><br><span class="line"><span class="comment">    - 前面任何操作出现了异常,都会传到最后的失败的回调中处理</span></span><br><span class="line"><span class="comment">   7.中断promise链</span></span><br><span class="line"><span class="comment">    - 当使用promise的then链式调用时,在中间中断,不再调用后面的回调函数</span></span><br><span class="line"><span class="comment">    - 办法:在回调函数中返回一个pending状态的promise对象</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="comment">// resolve(1)</span></span><br><span class="line">     reject(<span class="number">1</span>);</span><br><span class="line">   &#125;)</span><br><span class="line">     .then(</span><br><span class="line">       (value) =&gt; &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">&quot;onResolved1()&quot;</span>, value);</span><br><span class="line">         <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//   reason=&gt;&#123;throw reason&#125;</span></span><br><span class="line">     )</span><br><span class="line">     .then(</span><br><span class="line">       (value) =&gt; &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">&quot;onResolved2()&quot;</span>, value);</span><br><span class="line">         <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//   reason=&gt;&#123;throw reason&#125;</span></span><br><span class="line">     )</span><br><span class="line">     .then(</span><br><span class="line">       (value) =&gt; <span class="built_in">console</span>.log(<span class="string">&quot;onResolved3()&quot;</span>, value),</span><br><span class="line">       <span class="comment">// reason =&gt; &#123;throw reason;&#125; 当所有.then都没有处理改异常时,这三个代码不写,reject也会一路穿透,相当于写了不断抛异常</span></span><br><span class="line">       (reason) =&gt; <span class="built_in">Promise</span>.reject(reason) <span class="comment">//也相当于返回一个失败的promise对象,值为reason</span></span><br><span class="line">     )</span><br><span class="line">     .catch(<span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&quot;onRejected1()&quot;</span>, reason);</span><br><span class="line">       <span class="comment">//   throw reason//用于把错误传下去</span></span><br><span class="line">       <span class="comment">// return Promise.reject(reason);//用于把错误传下去</span></span><br><span class="line">       <span class="comment">// 不想让后边的执行了</span></span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">() =&gt;</span> &#123;&#125;); <span class="comment">//返回一个pending的promise 中断promise链</span></span><br><span class="line">     &#125;)</span><br><span class="line">     .then(</span><br><span class="line">       (value) =&gt; <span class="built_in">console</span>.log(<span class="string">&quot;onResolved3()&quot;</span>, value), <span class="comment">//onResolved3() undefined</span></span><br><span class="line">       (reason) =&gt; <span class="built_in">console</span>.log(<span class="string">&quot;onRejected2()&quot;</span>, reason)</span><br><span class="line">     );</span><br></pre></td></tr></table></figure>

<h3 id="宏队列和微队列"><a href="#宏队列和微队列" class="headerlink" title="宏队列和微队列"></a>宏队列和微队列</h3><blockquote>
<p><strong>小结</strong>：1.JS中用来存储执行回调函数的队列包含2个不同的特定的队列</p>
<pre><code>      2.**宏队列**：用来存储待执行的宏任务（回调），比如：定时器回调/DOM事件回调/ajax回调，一般回调不再微任务的都在宏任务中
</code></pre>
<p>​         3.<strong>微队列</strong>：用来保存待执行的微任务（回调），比如promise的回调/MutationObserve的回调</p>
<p>​     4.JS执行时会区别这2个队列</p>
<p>​             1.JS引擎首先必须先执行所有初始化同步代码</p>
<pre><code>         2.**每次准备取出第一个宏任务执行前，都要将所有微任务一个一个取出来执行**
</code></pre>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JS是单线程，只有一条主线程  宏/微队列（先进先出--队列）</span></span><br><span class="line">   <span class="comment">// 主线程先执行同步代码，等遇到异步代码把他们先放到event table,等触发事件后放到宏/微队列 等主线程空先下来执行队列任务</span></span><br><span class="line">   <span class="comment">// 先执行微队列的回调函数后执行宏队列的回调函数</span></span><br><span class="line">   <span class="comment">// 放入宏队列</span></span><br><span class="line">   <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&quot;timout callback()&quot;</span>);</span><br><span class="line">     <span class="comment">// 放入微队列</span></span><br><span class="line">     <span class="built_in">Promise</span>.resolve(<span class="number">1</span>).then(<span class="function">(<span class="params">value</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&quot;onResolved&quot;</span>, value));</span><br><span class="line">   &#125;, <span class="number">0</span>);</span><br><span class="line">   <span class="comment">// 当执行宏任务时，此时微队列还有新的微任务所以这个最后执行</span></span><br><span class="line">   <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&quot;timout callback2()&quot;</span>);</span><br><span class="line">   &#125;, <span class="number">0</span>);</span><br><span class="line">   <span class="comment">// 异步回调,promise放入微队列</span></span><br><span class="line">   <span class="built_in">Promise</span>.resolve(<span class="number">1</span>).then(<span class="function">(<span class="params">value</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&quot;onResolved&quot;</span>, value));</span><br><span class="line">   <span class="built_in">Promise</span>.resolve(<span class="number">1</span>).then(<span class="function">(<span class="params">value</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&quot;onResolved2&quot;</span>, value));</span><br></pre></td></tr></table></figure>

<h3 id="async和await"><a href="#async和await" class="headerlink" title="async和await"></a>async和await</h3><ul>
<li><p>async函数</p>
<blockquote>
<ul>
<li><strong>函数</strong>的<strong>返回值为promise对象</strong></li>
<li>promise对象的结果由<strong>async函数执行的返回值</strong>决定</li>
</ul>
</blockquote>
</li>
<li><p>await表达式</p>
<blockquote>
<ul>
<li><strong>await右侧表达式一般为promise对象</strong>,但是也可以为其他值<ul>
<li>如果表达式是promise对象,await返回的是promise成功的值</li>
<li>如果表达式是其他值,直接将此值作为await的返回值</li>
</ul>
</li>
</ul>
</blockquote>
</li>
</ul>
<ul>
<li><p>注意</p>
<blockquote>
<ul>
<li>**await必须写在async函数中,**但是async函数可以没有await</li>
<li>如果await的promise失败了,就会抛出异常,需要try..catch来捕获异常</li>
<li><strong>async返回一个promise对象,await后一般为promise对象,await的返回值为Promise的值(不论成功还是失败)</strong></li>
</ul>
</blockquote>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//   return 1;</span></span><br><span class="line">  <span class="comment">//   throw 2;</span></span><br><span class="line">  <span class="comment">//   return Promise.reject(2);</span></span><br><span class="line">  <span class="comment">//   return Promise.resolve(1);</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(resolve);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">      resolve(<span class="number">2</span>); <span class="comment">//放在setTimeout里边和外边有什么区别????</span></span><br><span class="line">    &#125;, <span class="number">200</span>); <span class="comment">//这里的200和20000s打印结果不同?????</span></span><br><span class="line">  &#125;);</span><br><span class="line">  resolve(<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> result = fn1();</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">//pending的promise</span></span><br><span class="line"></span><br><span class="line">result.then(</span><br><span class="line">  (value) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;onResolved&quot;</span>, value);</span><br><span class="line">    <span class="built_in">console</span>.log(result); <span class="comment">//fullfilled的结果为2的promise</span></span><br><span class="line">  &#125;,</span><br><span class="line">  (reason) =&gt; <span class="built_in">console</span>.log(<span class="string">&quot;onRejected&quot;</span>, reason)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line">      resolve(<span class="number">2</span>);</span><br><span class="line">      <span class="comment">// reject(3);</span></span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn4</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//async返回一个undefined的Promise</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// await右侧表达式为promise,得到的结果就是promise成功的value</span></span><br><span class="line">  <span class="comment">//   const value = await fn2();</span></span><br><span class="line">  <span class="comment">//   const value = await fn4(); //await右侧表达式不是promise 得到的结果是表达式的值</span></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// const value = fn1();</span></span><br><span class="line">    <span class="keyword">const</span> value = <span class="keyword">await</span> fn2();</span><br><span class="line">    <span class="built_in">console</span>.log(fn2());</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;value&quot;</span>, value);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;得到的失败结果&quot;</span>, error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fn3()); <span class="comment">//pending的promise</span></span><br></pre></td></tr></table></figure>

<h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a><strong>练习</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//这是执行器函数 说同步执行的</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">  resolve();</span><br><span class="line">&#125;)</span><br><span class="line">  .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//这个回调函数是异步执行的</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">  &#125;) <span class="comment">//这个返回的promise是在3的微队列执行完后才放入微队列中的,一开始并没有和3一起进入微队列</span></span><br><span class="line">  .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line"><span class="comment">//2 5 3 4 1</span></span><br><span class="line"><span class="comment">// 注意回调函数先会放入队列中,主线程空闲把它们放到</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">    做题技巧,先挑选出所有同步函数(注意普通函数的调用,promise的执行器函数都是同步函数)</span></span><br><span class="line"><span class="comment">    再去找回调函数,把promise的回调函数(.then()中的回调函数)放入微任务,setTimeout为宏任务</span></span><br><span class="line"><span class="comment">     执行每个宏任务前都有看有没有新的微任务需要执行,有的话先执行微任务</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    <span class="keyword">const</span> first = <span class="function">() =&gt;</span></span><br><span class="line">      <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">3</span>); <span class="comment">//执行器函数同步执行,第一个打印3</span></span><br><span class="line">        <span class="keyword">let</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="number">7</span>); <span class="comment">//执行器函数同步执行,第二个打印7</span></span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">//把该任务放入宏队列中</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line">            resolve(<span class="number">6</span>);</span><br><span class="line">          &#125;, <span class="number">0</span>);</span><br><span class="line">          resolve(<span class="number">1</span>); <span class="comment">//改变p的promise的状态为onResolved</span></span><br><span class="line">        &#125;);</span><br><span class="line">        resolve(<span class="number">2</span>); <span class="comment">//改变无名的promise的状态为onResolved</span></span><br><span class="line">        p.then(<span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">//.then后边的回调函数为异步函数放入到微队列中</span></span><br><span class="line">          <span class="built_in">console</span>.log(arg);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    <span class="comment">//   first的函数调用所以这里先执行first调用即主线程从这里开始</span></span><br><span class="line">    first().then(<span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//.then后边的回调函数为异步函数放入到微队列中</span></span><br><span class="line">      <span class="built_in">console</span>.log(arg);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>); <span class="comment">//这是要同步执行的 第3个打印4  返回去执行为队列的任务,依次打印[1,2]</span></span><br><span class="line">    <span class="comment">// 最后找到宏队列执行5,当执行resolve(6);时候无效,因为一个promise对象的状态只能改变一次</span></span><br><span class="line">    <span class="comment">// 最终结果:3 7 4 1 2 5</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/* </span></span><br><span class="line"><span class="comment">宏:[0]</span></span><br><span class="line"><span class="comment">微1:[2,8]  </span></span><br><span class="line"><span class="comment">同步:1 7 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">  <span class="comment">//   同步执行:1 7  2 3 8 4 6 5 0</span></span><br><span class="line">  <span class="comment">// 关于.then()什么时候返回promise 必须是.then的回调函数执行完后返回可能为undefined的promise,</span></span><br><span class="line">  <span class="comment">//当回调函数被放入微队列时还没有promise返回,下一个.then是不能使用的(回调函数不能放到微队列中)</span></span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    <span class="comment">//1.把这个回调函数放入到宏队列中</span></span><br><span class="line">    () =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;0&quot;</span>);<span class="comment">//18 打印0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="number">0</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(</span><br><span class="line">    <span class="comment">//2.同步执行执行器函数 打印1</span></span><br><span class="line">    (resolve, reject) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">      resolve(); <span class="comment">//3.把promise状态改变为onResolved</span></span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">    .then(</span><br><span class="line">      <span class="comment">// 4.这是异步执行回调函数,放入到微队列中</span></span><br><span class="line">      () =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;2&quot;</span>); <span class="comment">//7.执行微队列的回调函数,打印2</span></span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">Promise</span>(</span><br><span class="line">          <span class="comment">// 8. 执行器函数同步执行 打印3</span></span><br><span class="line">          (resolve, reject) =&gt; &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">            resolve(); <span class="comment">//9.改变该promise的状态为onResolved</span></span><br><span class="line">          &#125;</span><br><span class="line">        )</span><br><span class="line">          .then(</span><br><span class="line">            <span class="comment">// 10.异步执行回调函数,是promise的放入到微队列中</span></span><br><span class="line">            () =&gt; &#123;</span><br><span class="line">              <span class="built_in">console</span>.log(<span class="string">&quot;4&quot;</span>); <span class="comment">//14. 打印4</span></span><br><span class="line">            &#125;</span><br><span class="line">          ) <span class="comment">//15.产生promise对象</span></span><br><span class="line">          .then(</span><br><span class="line">            <span class="comment">//16 异步执行回调函数,是promise的放入到微队列中</span></span><br><span class="line">            () =&gt; &#123;</span><br><span class="line">              <span class="built_in">console</span>.log(<span class="string">&quot;5&quot;</span>);<span class="comment">// 17 执行回调函数 打印5</span></span><br><span class="line">            &#125;</span><br><span class="line">          );</span><br><span class="line">      &#125;</span><br><span class="line">    ) <span class="comment">//11.这个.then的回调函数执行完就产生了undefined的promise对象</span></span><br><span class="line">    .then(</span><br><span class="line">      <span class="comment">// 12.异步执行回调函数,是promise的放入到微队列中</span></span><br><span class="line">      () =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;6&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(</span><br><span class="line">    <span class="comment">// 5.执行器函数同步执行,打印7</span></span><br><span class="line">    (resolve, reject) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;7&quot;</span>);</span><br><span class="line">      resolve(); <span class="comment">//改变该promise的状态</span></span><br><span class="line">    &#125;</span><br><span class="line">  ).then(</span><br><span class="line">    <span class="comment">// 6. 异步执行函数放入到微队列中</span></span><br><span class="line">    () =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;8&quot;</span>); <span class="comment">//13. 执行打印8</span></span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>resolve(<span class="number">1</span>);<span class="comment">//1 改变Promise状态</span></span><br><span class="line">).then(<span class="function"><span class="params">val</span>=&gt;</span>&#123;<span class="comment">//2 放入微队列中</span></span><br><span class="line">    <span class="built_in">console</span>.log(val);<span class="comment">//4 执行回调 打印1</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;<span class="comment">//5 把回调放到宏中</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>);<span class="comment">//15 打印2</span></span><br><span class="line">    &#125;,<span class="number">0</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;<span class="comment">//3 把回调函数放入宏队列</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);<span class="comment">//6 打印3</span></span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(</span><br><span class="line">    resolve=&gt;resolve(<span class="number">4</span>);<span class="comment">// 7 把promise状态改为4</span></span><br><span class="line">    ).then(<span class="function"><span class="params">val</span>=&gt;</span>&#123;<span class="comment">//8 回调放到微队列中</span></span><br><span class="line">        <span class="built_in">console</span>.log(val);<span class="comment">//9 执行回调 打印4</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">5</span>);<span class="comment">//10 打印5</span></span><br><span class="line">            resolve(<span class="number">6</span>);<span class="comment">//11 把状态改为6</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;).then(<span class="function"><span class="params">val</span>=&gt;</span>&#123;<span class="comment">//12 回调放到微队列</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span>&#123;</span><br><span class="line">            resolve(val);<span class="comment">//13 改变状态为6</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">val</span>=&gt;</span><span class="built_in">console</span>.log(val);) <span class="comment">//14 把回调放到微队列 打印6</span></span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/03/30/css%E8%A1%A5%E5%85%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/30/css%E8%A1%A5%E5%85%85/" itemprop="url">css补充</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-30T15:11:32Z">
                2021-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="flex布局"><a href="#flex布局" class="headerlink" title="flex布局"></a>flex布局</h1><ul>
<li>flex布局:flexible布局,弹性布局</li>
<li>移动端最多,目前PC端也越来越多</li>
</ul>
<h2 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h2><ul>
<li>开启了flex布局的元素叫flex container</li>
<li>flex container里面的子元素叫做flex item</li>
<li>设为 Flex 布局以后，子元素的float、clear和vertical-align属性将失效。</li>
</ul>
<p>开启flex布局两种方式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">   .box &#123;</span><br><span class="line"><span class="css">     <span class="comment">/* 开启flex布局 用于块级元素,按下边元素按照文档流显示 */</span></span></span><br><span class="line"><span class="css">     <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">     <span class="comment">/* 用于行内元素  接下来的元素和它会一行显示*/</span></span></span><br><span class="line"><span class="css">     <span class="comment">/* display: inline-flex; */</span></span></span><br><span class="line"><span class="css">     <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">     <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">     <span class="attribute">background-color</span>: red;</span></span><br><span class="line">   &#125;</span><br><span class="line"> <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">strong</span>&gt;</span>strong元素<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-flex布局模型"><a href="#2-flex布局模型" class="headerlink" title="2.flex布局模型"></a>2.flex布局模型</h2><ul>
<li><p>flex container 中的两个轴:</p>
<ul>
<li><p>主轴:main axis(相当于x轴)</p>
<p>主轴开始地方:main srtart  </p>
<p>​        结束地方:main end</p>
<p>​        主轴大小:main size(相当于盒子宽)</p>
</li>
<li><p>交叉轴:cross axis(相当于y轴)</p>
<p>交叉轴开始地方:cross srtart  </p>
<p>​        结束地方:cross end<br>​        交叉轴大学:cross size(相当于盒子高)</p>
</li>
<li><p>默认情况在左上角为开始</p>
</li>
</ul>
</li>
</ul>
<h2 id="3-与flex有关相关属性"><a href="#3-与flex有关相关属性" class="headerlink" title="3.与flex有关相关属性"></a>3.与flex有关相关属性</h2><p>用作container上:</p>
<ul>
<li>flex-flow</li>
<li>flex-direction</li>
<li>flex-wrap</li>
<li>justify-content</li>
<li>align-items</li>
<li>align-content</li>
</ul>
<p>用在flex items上的css属性</p>
<ul>
<li>flex</li>
<li>flex-grow</li>
<li>flex-basis</li>
<li>flex-shrink</li>
<li>order</li>
<li>align-self</li>
</ul>
<h3 id="一-加在flex-container的属性"><a href="#一-加在flex-container的属性" class="headerlink" title="一.加在flex-container的属性"></a>一.加在flex-container的属性</h3><h4 id="1-flex-direction"><a href="#1-flex-direction" class="headerlink" title="1.flex-direction"></a>1.flex-direction</h4><p>==决定主轴方向==</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">   .box &#123;</span><br><span class="line"><span class="css">     <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">     <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">     <span class="attribute">background-color</span>: orange;</span></span><br><span class="line"><span class="css">     <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"></span><br><span class="line"><span class="css">     <span class="comment">/* box里的div为块级元素,所以有父元素的宽度,没有高度,且块级元素会独占一行 */</span></span></span><br><span class="line"></span><br><span class="line">     /* 加上flex布局则块级元素和行内元素不再区分  默认情况下item从左到右排序(item按照主轴方向排序) </span><br><span class="line"><span class="css">       设为 <span class="attribute">Flex</span> 布局以后，子元素的<span class="attribute">float</span>、<span class="attribute">clear</span>和<span class="attribute">vertical-align</span>属性将失效。</span></span><br><span class="line">       */</span><br><span class="line"><span class="css">     <span class="attribute">display</span>: flex;</span></span><br><span class="line">     /* flex-direction: row;  决定主轴方向,会改变item顺序</span><br><span class="line">       默认值row 从左到右 </span><br><span class="line">      row-reverse表示主轴方向从右到左</span><br><span class="line">      column主轴方向从上到下</span><br><span class="line">      column-reverse 主轴方向是从下到上</span><br><span class="line">      */</span><br><span class="line"><span class="css">     <span class="comment">/* flex-direction: row-reverse; */</span></span></span><br><span class="line"><span class="css">     <span class="comment">/* flex-direction: column; */</span></span></span><br><span class="line"><span class="css">     <span class="attribute">flex-direction</span>: column-reverse;</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   .item &#123;</span><br><span class="line"><span class="css">     <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">     <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">     <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="css">     <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">     <span class="attribute">line-height</span>: <span class="number">100px</span>;</span></span><br><span class="line">   &#125;</span><br><span class="line">   .item1 &#123;</span><br><span class="line"><span class="css">     <span class="attribute">background-color</span>: <span class="number">#f00</span>;</span></span><br><span class="line">   &#125;</span><br><span class="line">   .item2 &#123;</span><br><span class="line"><span class="css">     <span class="attribute">background-color</span>: <span class="number">#0f0</span>;</span></span><br><span class="line">   &#125;</span><br><span class="line">   .item3 &#123;</span><br><span class="line"><span class="css">     <span class="attribute">background-color</span>: <span class="number">#00f</span>;</span></span><br><span class="line">   &#125;</span><br><span class="line"> <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item1&quot;</span>&gt;</span>item1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item2&quot;</span>&gt;</span>item2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item3&quot;</span>&gt;</span>item3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">strong</span>&gt;</span>strong元素<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-justify-content"><a href="#2-justify-content" class="headerlink" title="2.justify-content"></a>2.justify-content</h4><p>==决定主轴上flex-item如何排布===</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">     <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">     <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">     <span class="attribute">background-color</span>: orange;</span><br><span class="line">     <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line"></span><br><span class="line">     <span class="attribute">display</span>: flex;</span><br><span class="line">     <span class="attribute">flex-direction</span>: column;</span><br><span class="line"></span><br><span class="line">     <span class="comment">/* justify-content: 决定flex-items主轴对齐方式</span></span><br><span class="line"><span class="comment">       flex-start在主轴开始处对齐 --默认</span></span><br><span class="line"><span class="comment">       flex-end 在主轴结束处对齐</span></span><br><span class="line"><span class="comment">       center:居中对齐</span></span><br><span class="line"><span class="comment">       space-between分开等分对齐,但是两边贴着盒子</span></span><br><span class="line"><span class="comment">       space-evenly 分开不贴边等分</span></span><br><span class="line"><span class="comment">       space-around两边少空隙(边缘空隙为中间空隙的2倍),中间多</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">     <span class="comment">/* justify-content: flex-end; */</span></span><br><span class="line">     <span class="comment">/* justify-content: center; */</span></span><br><span class="line">     <span class="comment">/* justify-content: space-between; */</span></span><br><span class="line">     <span class="comment">/* justify-content: space-evenly; */</span></span><br><span class="line">     <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-align-items"><a href="#3-align-items" class="headerlink" title="3.align-items"></a>3.align-items</h4><p>==决定交叉轴上的对齐方式==</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">   <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">   <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">   <span class="attribute">background-color</span>: orange;</span><br><span class="line">   <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line"></span><br><span class="line">   <span class="attribute">display</span>: flex;</span><br><span class="line">   <span class="comment">/* justify-content: space-around; */</span></span><br><span class="line">   <span class="comment">/* align-items:决定flex-item在交叉轴的对齐方式</span></span><br><span class="line"><span class="comment">         normal为默认值，前提是没有设置高度会自动拉伸为container的高度，若item有高度则会按照指定高度,与strech相似</span></span><br><span class="line"><span class="comment">    		stretch:当flex items 在cross axis方向的size为auto时,会自动拉伸填充flex container</span></span><br><span class="line"><span class="comment">         flex-start对齐是根据交叉轴的开始对齐，flex-end是根据交叉轴的end对齐</span></span><br><span class="line"><span class="comment">         center交叉轴的中心对齐</span></span><br><span class="line"><span class="comment">         baseline：基线（底部的线）对齐，即所含内容要对齐，注意它会以第一个文本的底线作为基线</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="comment">/* align-items: center; */</span></span><br><span class="line">   <span class="attribute">align-items</span>: baseline;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="selector-class">.item</span> &#123;</span><br><span class="line">   <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">   <span class="comment">/* 块级元素内容多高它多高 */</span></span><br><span class="line">   <span class="comment">/* height: 100px;  */</span></span><br><span class="line">   <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">   <span class="attribute">text-align</span>: center;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.item1</span> &#123;</span><br><span class="line">   <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">   <span class="attribute">font-size</span>: <span class="number">50px</span>;</span><br><span class="line">   <span class="attribute">background-color</span>: <span class="number">#f00</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.item2</span> &#123;</span><br><span class="line">   <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">   <span class="attribute">background-color</span>: <span class="number">#0f0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="selector-class">.item3</span> &#123;</span><br><span class="line">   <span class="attribute">height</span>: <span class="number">120px</span>;</span><br><span class="line">   <span class="attribute">background-color</span>: <span class="number">#00f</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-flex-wrap-flow"><a href="#4-flex-wrap-flow" class="headerlink" title="4.flex-wrap/flow"></a>4.flex-wrap/flow</h4><p>==决定是否换行==</p>
<p>==缩写属性==</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/* 默认情况下，所有的flex-items都会在同一行显示 */</span></span><br><span class="line">  <span class="comment">/* flex-wrap：norwrap 默认值为它表示一行放不下缩小宽后放</span></span><br><span class="line"><span class="comment">        值为 wrap会换行显示</span></span><br><span class="line"><span class="comment">        wrap-reverse：多行（对比cross start与cross end相反）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="comment">/* flex-wrap: wrap-reverse; */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/* 缩写属性：flex-flow flex-direction和flex wrapper的缩写*/</span></span><br><span class="line">  <span class="attribute">flex-flow</span>: row-reverse wrap;</span><br><span class="line">  <span class="comment">/* 平均分开 */</span></span><br><span class="line">  <span class="attribute">justify-content</span>: space-evenly;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h4><p>==决定交叉轴上item如何排布==</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* align-content ：决定了多行item在交叉轴上的对齐方式，与justify-content相似，justify决定了在主轴上的对齐方式</span></span><br><span class="line"><span class="comment">         flex-start表示从交叉轴开始处向下排多行</span></span><br><span class="line"><span class="comment">         flex-end表示从交叉轴结束处开始排，行内容不变</span></span><br><span class="line"><span class="comment">         center表示从交叉轴中心开始排</span></span><br><span class="line"><span class="comment">         space-between表示排在贴着上下边框</span></span><br><span class="line"><span class="comment">         space-evenly：表示上下行间距等分</span></span><br><span class="line"><span class="comment">         space-around：表示中间距离为边缘距离2倍</span></span><br><span class="line"><span class="comment">   */</span></span><br></pre></td></tr></table></figure>

<h3 id="二-给flex-items的属性"><a href="#二-给flex-items的属性" class="headerlink" title="二 .给flex-items的属性"></a>二 .给flex-items的属性</h3><h4 id="1-order"><a href="#1-order" class="headerlink" title="1.order"></a>1.order</h4><ul>
<li>可以设置任意整数(正整数,负整数,0),值越小越排在前边</li>
<li>默认值是0</li>
</ul>
<h4 id="2-align-self"><a href="#2-align-self" class="headerlink" title="2.align-self"></a>2.align-self</h4><ul>
<li>这个可以修改align-items设置，专门应用于自己的item 的对齐方式,与其他对齐方式不同</li>
</ul>
<h4 id="3-flex-grow"><a href="#3-flex-grow" class="headerlink" title="3.flex-grow"></a>3.flex-grow</h4><p>flex-grow决定了flex items如何扩展</p>
<ul>
<li>可以设置任何非负数字(正小数,负小数,0),,默认值为0</li>
<li>当flex container在main axis方向上有剩余时,flex-grow属性才会有效</li>
</ul>
<p>如果所有flex-items的flex-grow总和sum超过1.每个item扩展大小为:</p>
<ul>
<li>剩余部分大小*flex-grow/sum</li>
</ul>
<p>如果所有flex-items的flex-grow总和sum不超过1.每个item扩展大小为:</p>
<ul>
<li><p>剩余部分*flex-grow为长大 的大小</p>
<p><strong>flex items扩展后不能超过max-width\max-height</strong></p>
</li>
</ul>
<h4 id="4-flex-shrink"><a href="#4-flex-shrink" class="headerlink" title="4.flex-shrink"></a>4.flex-shrink</h4><p>==决定flex-item如何让收缩==</p>
<ul>
<li><p>可以设置任何非负数字(正小数,负小数,0),,默认值为0</p>
</li>
<li><p>当flex container在main axis方向上有超出部分时,flex-shrink属性才会有效</p>
</li>
<li><p>如果所有flex-items的flex-shrink总和sum超过1</p>
<p>.每个item收缩大小为:</p>
<p>=超出部分的size *  收缩比例 / 所有flex items收缩比例之和</p>
</li>
<li><p>如果所有flex-items的flex-grow总和sum不超过1.</p>
<p>每个item收缩大小=超出部分的size * sum * 收缩比例 / 所有flex items收缩比例之和</p>
<p>收缩比例=flex-shrink * flex item的basesize</p>
<p>basesize为item的之前的size在放入container里时</p>
</li>
</ul>
<p><strong>flex items扩展后不能小于max-width\max-height</strong></p>
<h4 id="5-flex-basis和flex"><a href="#5-flex-basis和flex" class="headerlink" title="5.flex-basis和flex"></a>5.flex-basis和flex</h4><ul>
<li><p>flex-basis决定主轴上item的大小，优先级较高 </p>
<p>​            分配多余空间之前,项目占据的主轴空间,默认为auto</p>
</li>
<li><p>flex属性:</p>
<p>​    是flex-grow/shrink/basis的缩写,可以指定1个,2个或3个值</p>
<p>单值语法: 值必须为其下之一:</p>
<ul>
<li>一个无单位数,会被当做flex-grow值</li>
<li>一个有效的宽度值,会被当作flex-basis的值</li>
<li>关键字:none,auto和initial</li>
</ul>
<p>双值语法: 第一个值必须无单位,并且会被当做flex-grow值</p>
<ul>
<li><p>第二个值:</p>
<p>​    一个无单位数,flex-shrink</p>
<p>​    一个有效宽度:flex-basis</p>
</li>
</ul>
<p>三值语法:无单位(flex-grow) 无单位(flex-shrink) 有效宽度(flex-basis)</p>
<p><strong>flex总结:</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex</span>:initial;  等价于 <span class="attribute">flex</span>:<span class="number">0</span> <span class="number">1</span> auto;     会自动缩小,按内容决定所占位置大小</span><br><span class="line"></span><br><span class="line">felx:<span class="number">0</span>; 等价于:flex:<span class="number">0</span> <span class="number">1</span> <span class="number">0%</span>; 会按照最小的宽度在item中存放内容</span><br><span class="line"></span><br><span class="line"><span class="attribute">flex</span>:none; 等价于 <span class="attribute">flex</span>:<span class="number">0</span> <span class="number">0</span> auto;  不会放大,不会缩小,会超出父盒子当内容多时</span><br><span class="line"></span><br><span class="line"><span class="attribute">flex</span>:<span class="number">1</span>;  等价于<span class="attribute">flex</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0%</span>;  会将item平均分开存放内容</span><br><span class="line"><span class="attribute">flex</span>:auto; 等价于<span class="attribute">flex</span>: <span class="number">1</span> <span class="number">1</span> auto; 会将item按照内容多少分配,并且一定会沾满整个父盒子</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex</span>常用</span><br><span class="line">	父盒子:</span><br><span class="line">.father &#123;</span><br><span class="line">    display:flex;</span><br><span class="line">    <span class="attribute">justify-content</span>:space-around;</span><br><span class="line">    <span class="attribute">flex-flow</span>:row wrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.son</span>&#123;</span><br><span class="line">  <span class="comment">/*全部占满父亲盒子位置 不为均分*/</span></span><br><span class="line">    <span class="attribute">flex</span>:<span class="number">1</span> <span class="number">1</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">等分布局:</span><br><span class="line">flex:<span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><p>***<code>align-items</code>和<code>align-content</code>的区别**</p>
<ul>
<li><p>align-items属性是针对单独的每一个flex子项起作用，它的基本单位是每一个子项，在所有情况下都有效果（当然要看具体的属性值）。</p>
</li>
<li><p> align-content属性是将flex子项作为一个整体起作用，它的基本单位是子项构成的行，只在两种情况下有效果：①子项多行且flex容器高度固定 ②子项单行，flex容器高度固定且设置了flex-wrap:wrap;</p>
</li>
<li><p><em>注：这里的高度固定的意思实际上是让flex容器在交叉轴上有多余的空间。</em>*</p>
</li>
</ul>
<p><strong>justify-content，justify-items和justify-self之间的主要区别：</strong></p>
<ul>
<li><p>justify-conten: 它<strong>不适用于</strong>或控制网格项目的对齐。</p>
<p><strong>displsy:flex时一般用justify-content属性</strong></p>
</li>
<li><p>justify-items属性控制网格项目的对齐方式。它设置在网格容器上。</p>
</li>
<li><p>justify-self属性将覆盖单个项目上的justify-items。默认情况下，它在网格项目上设置并继承justify-items的值。</p>
</li>
</ul>
<h1 id="隐藏元素"><a href="#隐藏元素" class="headerlink" title="隐藏元素"></a>隐藏元素</h1><ul>
<li>display:none   表示隐藏了不保留位置</li>
<li>visibility:hidden  表示隐藏了保留位置</li>
<li>opacity:表示透明保留位置</li>
</ul>
<h1 id="text属性"><a href="#text属性" class="headerlink" title="text属性"></a>text属性</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">text-transform</span>: capitalize; 将每个单词首字符变成大写</span><br><span class="line">			   uppercase;将每个单词所有字符变成大写</span><br><span class="line">			   lowercase 将每个单词所有字符变成小写</span><br><span class="line">			   <span class="attribute">none</span>没有影响</span><br><span class="line"><span class="attribute">text-decoration</span>:underline 下划线</span><br><span class="line">			   overline 上划线</span><br><span class="line">			   line-throungh中划线</span><br><span class="line">				none 无任何装饰线</span><br><span class="line">text-indent:<span class="number">2em</span> 缩进(em表示字体大小)</span><br><span class="line">font-variant:small-caps  可以让小写字母变大写字母,但是按照小写字母规格渲染</span><br></pre></td></tr></table></figure>

<h1 id="盒子居中"><a href="#盒子居中" class="headerlink" title="盒子居中"></a>盒子居中</h1><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">1</span>.定位:子绝父相</span><br><span class="line"><span class="selector-id">#wrap</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="selector-class">.inner</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">background-color</span>: pink;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">2</span><span class="selector-class">.margin</span>:<span class="selector-tag">0</span> <span class="selector-tag">auto</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">3</span>.</span><br></pre></td></tr></table></figure>

<h1 id="三角形制作"><a href="#三角形制作" class="headerlink" title="三角形制作"></a>三角形制作</h1><blockquote>
<p>div盒子宽高为0，只有border属性，且border属性拆开写</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#wrap</span> <span class="selector-class">.sjx</span> &#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">0px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">0px</span>;</span><br><span class="line">      <span class="attribute">border-width</span>: <span class="number">40px</span>;</span><br><span class="line">    //这里也可以不写dashed,为了兼容ie6,<span class="number">7</span>可以加上dashed</span><br><span class="line">      <span class="attribute">border-style</span>: dashed solid dashed dashed;</span><br><span class="line">      <span class="attribute">border-color</span>: transparent transparent transparent red;//朝右的指向正方形中央的三角形  上右下左原则</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="媒体相关"><a href="#媒体相关" class="headerlink" title="媒体相关"></a>媒体相关</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// 响应式布局核心 css3媒体查询选择器</span><br><span class="line"><span class="keyword">@media</span> 媒体类型 <span class="keyword">and</span>(关键字) (带条件)媒体属性 <span class="keyword">and</span> 媒体属性&#123;</span><br><span class="line">    // 规则</span><br><span class="line">&#125;</span><br><span class="line">关键字:</span><br><span class="line">      only:处理浏览器兼容问题</span><br><span class="line">      and :连接一条查询规则</span><br><span class="line">        ,: 连接多条查询规则</span><br><span class="line">        not:取反 </span><br><span class="line"></span><br><span class="line">媒体属性:</span><br><span class="line">        width:浏览器窗口尺寸</span><br><span class="line">        device-width;设备尺寸</span><br><span class="line">        device-pixel-retio(必须加webkit前缀):像素比</span><br><span class="line">            -----以上三个属性可加min和max前缀</span><br><span class="line">            min:最小值为谁  max:最大值为谁</span><br><span class="line">        横竖屏切换</span><br><span class="line">            orientation:<span class="built_in">landscape</span>(横屏)  <span class="built_in">portrait</span>(竖屏)</span><br><span class="line"></span><br><span class="line">媒体类型:  </span><br><span class="line">        <span class="built_in">all</span>(默认值)</span><br><span class="line">        screen</span><br><span class="line">        print</span><br></pre></td></tr></table></figure>

<h1 id="规范"><a href="#规范" class="headerlink" title="规范"></a>规范</h1><p>HTML</p>
<ul>
<li>什么是HTML?   是一个强大的技术集(HTml5=css+html+js)</li>
</ul>
<p>Css</p>
<ul>
<li>什么是css3?  css3是html5的一部分,而且现代前端已经没有版本概念,都是级别</li>
</ul>
<p>JS</p>
<ul>
<li>ES6</li>
<li>DOM</li>
<li>BOM(无规范,window)</li>
</ul>
<p>Node节点:</p>
<ul>
<li>DOM(文档)——–&gt;htmldocument</li>
<li>Element(元素)—–&gt;htmlElement——–&gt;Element——&gt;bodyElement, HtmlStyleElement,HtmlHeadElement</li>
<li>Text(文本)</li>
<li>Attribute(属性)</li>
</ul>
<h1 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h1><h2 id="transform2D"><a href="#transform2D" class="headerlink" title="transform2D"></a>transform2D</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        transform2D包含属性名和属性值。transform属性用函数定义</span></span><br><span class="line"><span class="comment">        translate() scale() rotate() skew()</span></span><br><span class="line"><span class="comment">        书写格式：transform 函数名（x轴，y轴）</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      #box1 &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span></span><br><span class="line">      &#125;</span><br><span class="line">      /* #box1:hover &#123;</span><br><span class="line"><span class="css">        <span class="comment">/* 水平和垂直方向移动函数:translate:支持一个参数,代表水平移动 (负值往左正值往右移动)*/</span></span></span><br><span class="line"><span class="css">      <span class="comment">/* transform: translate(30px); */</span></span></span><br><span class="line">      /* transform: translate(30px, 50px); * /</span><br><span class="line">        </span><br><span class="line">      &#125; */</span><br><span class="line">      #box2 &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line">      &#125;</span><br><span class="line">      /* #box2:hover &#123;</span><br><span class="line">        /* transform: translate(0px, -10px); * /</span><br><span class="line"><span class="css">        <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">#f4f4f4</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="comment">/* 旋转 只支持一个参数 单位:deg*/</span></span></span><br><span class="line"><span class="css">      <span class="comment">/* transform: rotate(20deg); */</span></span></span><br><span class="line"><span class="css">      <span class="comment">/* transform: rotate(-20deg); */</span></span></span><br><span class="line"></span><br><span class="line">      /* 缩放 </span><br><span class="line">            支持两个参数,代表水平和垂直方向的缩放大小</span><br><span class="line">            也支持一个参数,水平和垂直等于一个值,缩小放大一样</span><br><span class="line">            * /</span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>, <span class="number">1.2</span>);</span></span><br><span class="line">      /* transform: scale(0.5); * /</span><br><span class="line">      &#125; */</span><br><span class="line"></span><br><span class="line">      #box3 &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">650px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">112px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">../../images/butterfly.jpg</span>) no-repeat;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line"><span class="css">        <span class="attribute">transition</span>: all <span class="number">1s</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-id">#box3</span> &gt; <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="comment">/* border: 1px solid red; */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-left</span>: <span class="number">22px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-id">#box3</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.2</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">      #box4 &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-id">#box4</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line">        /* 倾斜 </span><br><span class="line">        支持两个值,一个代表水平,一个代表垂直方向倾斜</span><br><span class="line">        */</span><br><span class="line"><span class="css">        <span class="attribute">transform</span>: <span class="built_in">skew</span>(<span class="number">40deg</span>, <span class="number">30deg</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;div id=&quot;box1&quot;&gt;&lt;/div&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;div id=&quot;box2&quot;&gt;&lt;/div&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;div id=&quot;box3&quot;&gt;</span></span><br><span class="line"><span class="comment">      &lt;div&gt;</span></span><br><span class="line"><span class="comment">        &lt;span&gt;350小时&lt;/span&gt;</span></span><br><span class="line"><span class="comment">        &lt;p&gt;视频教程&lt;/p&gt;</span></span><br><span class="line"><span class="comment">      &lt;/div&gt;</span></span><br><span class="line"><span class="comment">      &lt;div&gt;</span></span><br><span class="line"><span class="comment">        &lt;span&gt;350小时&lt;/span&gt;</span></span><br><span class="line"><span class="comment">        &lt;p&gt;视频教程&lt;/p&gt;</span></span><br><span class="line"><span class="comment">      &lt;/div&gt;</span></span><br><span class="line"><span class="comment">      &lt;div&gt;</span></span><br><span class="line"><span class="comment">        &lt;span&gt;350小时&lt;/span&gt;</span></span><br><span class="line"><span class="comment">        &lt;p&gt;视频教程&lt;/p&gt;</span></span><br><span class="line"><span class="comment">      &lt;/div&gt;</span></span><br><span class="line"><span class="comment">      &lt;div&gt;</span></span><br><span class="line"><span class="comment">        &lt;span&gt;350小时&lt;/span&gt;</span></span><br><span class="line"><span class="comment">        &lt;p&gt;视频教程&lt;/p&gt;</span></span><br><span class="line"><span class="comment">      &lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;/div&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">总结:</span><br><span class="line">	transform后边可以跟函数:</span><br><span class="line">		1.translate()</span><br><span class="line">         水平和垂直方向移动函数:translate:支持一个参数,代表水平移动 (负值往左正值往右移动)</span><br><span class="line">		2.rotate()旋转 只支持一个参数 单位:deg</span><br><span class="line">		3.scale() 缩放 </span><br><span class="line">            支持两个参数,代表水平和垂直方向的缩放大小</span><br><span class="line">            也支持一个参数,水平和垂直等于一个值,缩小放大一样</span><br><span class="line">		4.skew() 倾斜</span><br><span class="line">			 支持两个值,一个代表水平,一个代表垂直方向倾斜</span><br></pre></td></tr></table></figure>

<h2 id="transform3D"><a href="#transform3D" class="headerlink" title="transform3D"></a>transform3D</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">perspective</span>: <span class="number">400px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      #parent &#123;</span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background</span>: pink;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line"><span class="css">        <span class="attribute">perspective</span>: <span class="number">400px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">      /* 必须父类的perspective与子类的transformZ连用才能呈现伪3D效果</span><br><span class="line"><span class="css">      或者把<span class="attribute">perspective</span>放到子类中也可以</span></span><br><span class="line">       */</span><br><span class="line">      #son &#123;</span><br><span class="line"><span class="css">        <span class="comment">/* 宽高为100%会继承父类宽度高度 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background</span>: blue;</span></span><br><span class="line"><span class="css">        <span class="comment">/* z轴移动 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(-<span class="number">100px</span>);</span></span><br><span class="line"><span class="css">        <span class="comment">/* transform: translate3d(-10px, -10px, -100px); */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">transition</span>: all <span class="number">3s</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-id">#son</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="comment">/* scaleZ为负值会向里边缩小,正值则会放大 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">transform</span>: <span class="built_in">perspective</span>(<span class="number">400px</span>) <span class="built_in">scaleZ</span>(-<span class="number">1</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">      <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background</span>: blue;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-class">.p</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">background</span>: pink;</span></span><br><span class="line"><span class="css">        <span class="attribute">transform</span>: <span class="built_in">perspective</span>(<span class="number">400px</span>) <span class="built_in">translate</span>(-<span class="number">100px</span>);</span></span><br><span class="line"><span class="css">        <span class="attribute">transition</span>: all <span class="number">10s</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-class">.c</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">background</span>: orangered;</span></span><br><span class="line"><span class="css">        <span class="attribute">transform</span>: <span class="built_in">perspective</span>(<span class="number">400px</span>) <span class="built_in">scale3D</span>(<span class="number">0.8</span>, <span class="number">0.8</span>, <span class="number">0.8</span>) <span class="built_in">translate</span>(-<span class="number">100px</span>)</span></span><br><span class="line">          rotate3D(10deg, 10deg, 10deg);</span><br><span class="line"><span class="css">        <span class="comment">/* transition用于控制动画秒数 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">transition</span>: all <span class="number">3s</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">transition</span>: all <span class="number">3s</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>: <span class="number">700px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">400px</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="comment">/* 控制旋转的动画3D 多了个y轴 */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">180deg</span>);</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;div class=&quot;y&quot;&gt;y&lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;p&quot;&gt;p&lt;/div&gt;</span></span><br><span class="line"><span class="comment">    &lt;div class=&quot;c&quot;&gt;c&lt;/div&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../../images/butterfly.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">总结:</span><br><span class="line">	1.做3d效果的时候要加透视perspective:400px(一个距离)</span><br><span class="line">	2.transform:translate3d(-10px, -10px, -100px); 表示平移的3d属性,加了z轴方向</span><br><span class="line">	3.transform:perspective(400px) scaleZ(-1); 缩小放大效果</span><br><span class="line">	   scaleZ为负值会向里边缩小,正值则会放大</span><br><span class="line">	4.rotateX,rotateY,rotateZ 3d 旋转效果</span><br><span class="line">	  transform: rotateZ(180deg);</span><br><span class="line">	5.transform: matrix3d();与矩阵有关</span><br></pre></td></tr></table></figure>

<h2 id="过度-Transition"><a href="#过度-Transition" class="headerlink" title="过度(Transition)"></a>过度(Transition)</h2><ul>
<li><p>什么是过度?</p>
<p>使用css属性值在一段时间内平滑过渡,比如,鼠标悬停1s内,由白色过度到红色 <strong>一般过度发生在悬浮</strong></p>
</li>
<li><p>指定4个要素</p>
<p>==过渡属性==</p>
<p>​        <code>transition-property:none|all|property</code></p>
<ul>
<li>多个属性逗号隔开</li>
</ul>
<ul>
<li>可设置的过度属性<ul>
<li>颜色属性</li>
<li>取值为数值的属性</li>
<li>转换属性</li>
<li>渐变属性</li>
<li>阴影属性</li>
</ul>
</li>
</ul>
<p>==过度所需时间==</p>
<p>​    <code>transition-duration: s|ms</code></p>
<ul>
<li>默认值为0,意味着不会有效果,所以必须设置为trasition-duration属性</li>
</ul>
<p>==过度函数==</p>
<p>​    <code>transition-timing-function:</code></p>
<ul>
<li>取值:<ul>
<li>ease:默认值,规定慢速开始,然后变快,然后慢速结束的过度效果</li>
<li>linear: 匀速</li>
<li>ease-in:规定以慢速开始,加速效果</li>
<li>ease-out:以慢速开始,减速效果</li>
<li>ease-in-out:以慢速开始和结束,先加后减速效果</li>
</ul>
</li>
</ul>
<p>==过度延迟时间==</p>
<p>``transition-dapley: s|ms`</p>
<p>改变元素属性后多长时间开始执行动画效果</p>
<p>==简写属性==</p>
<ul>
<li><p>语法:`transition:property duration timing-function delay</p>
</li>
<li><p>例如</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  <span class="selector-id">#box</span>&#123;</span><br><span class="line">      <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">      <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">      <span class="attribute">background-color</span>:<span class="number">#1fb57b</span>;</span><br><span class="line">      //鼠标放上去后<span class="number">1s</span>后执行背景颜色改变，且整个过程持续<span class="number">4s</span></span><br><span class="line">      <span class="attribute">transition</span>: background <span class="number">4s</span> linear <span class="number">1s</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  //设置要改变的属性,过渡将过渡到这里</span><br><span class="line">  <span class="selector-id">#box</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">      <span class="attribute">background-color</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>触发过度</p>
<p><strong>通过用户的行为触发,如点击,悬浮等</strong></p>
</li>
</ul>
<h2 id="动画animation"><a href="#动画animation" class="headerlink" title="动画animation"></a>动画animation</h2><p>animation属性可以制作flash动画</p>
<p>通过关键帧控制动画每一步<br>       使得元素从一种样式变化到另一种样式,实现复杂的动画效果</p>
<p>==@keyframes==</p>
<ul>
<li><p>作用:用于分解动画动作</p>
<p>每个帧代表一个时间点,定义每个帧上的动作</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> 动画名&#123;</span><br><span class="line">    <span class="selector-tag">from</span> <span class="number">0%</span>&#123;</span><br><span class="line">        css样式</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">50%</span>&#123;</span><br><span class="line">        css杨样式</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span>  <span class="number">100%</span>&#123;</span><br><span class="line">        css样式</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>animation属性用于控制动画</p>
<ul>
<li><p>调用由@keyframes定义的动画</p>
<p>设置动画属性 时间,次数</p>
</li>
<li><p>简写属性</p>
<p><code>animation:name duration timing-function deplay iteration-count direction</code></p>
</li>
<li><p>动画子属性</p>
<ul>
<li><p>animation-name:    调用动画,需要与@keyframes的名字一致</p>
</li>
<li><p>animation-duration: s|ms 动画完成一个周期所需的时间</p>
</li>
<li><p>animation-timing-function: 规定动画的速度变化类型</p>
</li>
<li><p>animation-deplay:播放之前延迟的时间</p>
</li>
<li><p>animation-iteration-count: 播放次数  infinite表示无限次</p>
</li>
<li><p>animation-direction: 动画播放方向</p>
<ul>
<li>normal 默认值 正常播放</li>
<li>alternate 轮流播放 动画会在奇数次正常播放,而在偶数次向后播放</li>
</ul>
</li>
<li><p>animation-fill-mode: </p>
<ul>
<li>forwards:动画停在最后一帧</li>
<li>backwards : 动画停止开始位置</li>
</ul>
</li>
<li><p>both :动画开始结束都有</p>
<ul>
<li>none 默认值</li>
</ul>
</li>
<li><p>animation-play-state:</p>
<ul>
<li><p>paused|running</p>
<p>属性规定动画正在运行还是暂停,默认值为running</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>例如</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">     <span class="selector-tag">body</span> &#123;</span><br><span class="line">       <span class="attribute">padding</span>: <span class="number">0px</span>;</span><br><span class="line">       <span class="attribute">margin</span>: <span class="number">0px</span>;</span><br><span class="line">       <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="selector-tag">img</span> &#123;</span><br><span class="line">       <span class="attribute">width</span>: <span class="number">950px</span>;</span><br><span class="line">       <span class="attribute">height</span>: <span class="number">380px</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="selector-id">#banner</span> &#123;</span><br><span class="line">       <span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">       <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">       <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">       <span class="attribute">overflow</span>: hidden;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="selector-id">#box</span> &#123;</span><br><span class="line">       <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</span><br><span class="line">       <span class="attribute">width</span>: <span class="number">3800px</span>;</span><br><span class="line">       <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">       <span class="comment">/* animation: name duration timing-function delay iteration-count direction fill-mode; */</span></span><br><span class="line">       <span class="attribute">animation</span>: myname <span class="number">10s</span> ease <span class="number">1s</span> <span class="number">2</span> alternate;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="selector-id">#box</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">       <span class="attribute">display</span>: block;</span><br><span class="line">       <span class="attribute">flex</span>: <span class="number">1</span> <span class="number">1</span> auto;</span><br><span class="line">       <span class="attribute">float</span>: left;</span><br><span class="line">     &#125;</span><br><span class="line">  </span><br><span class="line">     <span class="keyword">@keyframes</span> myname &#123;</span><br><span class="line">       <span class="number">35%</span> &#123;</span><br><span class="line">         <span class="attribute">margin-left</span>: -<span class="number">1000px</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="number">70%</span> &#123;</span><br><span class="line">         <span class="attribute">margin-left</span>: -<span class="number">2000px</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="number">100%</span> &#123;</span><br><span class="line">         <span class="attribute">margin-left</span>: -<span class="number">4000px</span>;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="selector-id">#box</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">       <span class="attribute">animation-play-state</span>: paused;</span><br><span class="line">     &#125;</span><br><span class="line">   &lt;/style&gt;</span><br><span class="line"> &lt;/head&gt;</span><br><span class="line"> &lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">   &lt;div id=&quot;banner&quot;&gt;</span><br><span class="line">     &lt;!-- banner是摆设,box才管理里边元素 --&gt;</span><br><span class="line">     &lt;div id=&quot;box&quot;&gt;</span><br><span class="line">       &lt;img src=&quot;../../images/black.jpg&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">       &lt;img src=&quot;../../images/white.jpg&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">       &lt;img src=&quot;../../images/pink.jpg&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">       &lt;img src=&quot;../../images/blue.jpg&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">     &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">   &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"> &lt;/<span class="selector-tag">body</span>&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="CSS单位的使用"><a href="#CSS单位的使用" class="headerlink" title="CSS单位的使用"></a>CSS单位的使用</h1><h3 id="宽和高"><a href="#宽和高" class="headerlink" title="宽和高"></a>宽和高</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* &quot;视口&quot;所指为浏览器内部的可视区域大小*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*1. vh  视口(viewport)高度 */</span></span><br><span class="line">vh就是当前屏幕可见高度的<span class="number">1%</span>，也就是说 前提是在<span class="attribute">height</span>:<span class="number">100%</span>;设置之前设置过</span><br><span class="line"><span class="selector-tag">html</span>,<span class="selector-tag">body</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;则有</span><br><span class="line"><span class="attribute">height</span>:<span class="number">100vh</span> == height:<span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*2. vw视口(viewport)宽度 */</span></span><br><span class="line">使用<span class="attribute">width</span>: <span class="number">100vw</span>而不是width: <span class="number">100%</span>的区别在于，虽然<span class="number">100%</span>将使元素适合所有可用空间，但视口(viewport)宽度具有特定的度量标准，在这种情况下，可用屏幕的宽度包括文档边距。如果设置样式body &#123; margin: <span class="number">0</span> &#125;，则<span class="number">100vw</span>的行为应与<span class="number">100</span>％相同。</span><br><span class="line"></span><br><span class="line"><span class="comment">/*比较*/</span></span><br><span class="line"><span class="attribute">width</span>:<span class="number">100vh</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">100vh</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">100%</span></span><br><span class="line">如果浏览器高度为<span class="number">1000px</span>，宽度为<span class="number">800px</span>，那么不论在哪里都有<span class="number">1vh</span>=<span class="number">1000</span>/<span class="number">100</span>=<span class="number">10px</span>，<span class="number">1vw</span>=<span class="number">800</span>/<span class="number">100</span>=<span class="number">8px</span>；而%要受到父元素的约束，并不能直接根据浏览器的尺寸计算。</span><br><span class="line"></span><br><span class="line">/* <span class="number">3</span>.vmin、vmax*/</span><br><span class="line">vmin表示当前宽和高的小者，vmax则表示当前宽和高的大者。</span><br></pre></td></tr></table></figure>

<p><strong>补充说明</strong></p>
<ul>
<li><p>使用vw作为网站上所有内容的单位，包括字体大小和高度，将使它始终与设备的屏幕宽度成比例显示，而不管其分辨率如何。这样可以非常轻松地确保您的网站在工作站和移动设备上都能正确显示。</p>
</li>
<li><p>您可以在font-size: 1vw CSS中设置body(或任何适合您项目的大小)，并且rem单位中指定的所有内容都会根据设备屏幕自动缩放，因此可以很容易地将现有项目甚至框架(例如Bootstrap)移植到此概念。</p>
</li>
<li><p>相对(推荐)长度:px/pt/pc/cm/mm/in</p>
</li>
<li><p>绝对长度:</p>
<ul>
<li>元素大小:vw/vh/vmax/vmin</li>
<li>字体大小:rem/em/ex</li>
<li>ch:0的宽度</li>
<li>%</li>
</ul>
</li>
<li></li>
<li><p><a target="_blank" rel="noopener" href="https://www.w3schools.com/cssref/css_units.asp">https://www.w3schools.com/cssref/css_units.asp</a></p>
</li>
</ul>
<h3 id="字体大小"><a href="#字体大小" class="headerlink" title="字体大小"></a>字体大小</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">使用 <span class="selector-tag">em</span> 和 rem 单位可以让我们的设计更加灵活，能够控制元素整体放大缩小，而不是固定大小   浏览器默认字体大小为 <span class="number">16px</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*rem 多用*/</span></span><br><span class="line">当使用 rem 单位，他们转化为像素大小取决于页根元素的字体大小，即 <span class="selector-tag">html</span> 元素的字体大小。 根元素字体大小乘以你 rem 值。</span><br><span class="line"> rem 单位翻译为像素值是由 <span class="selector-tag">html</span> 元素的字体大小决定的。 此字体大小会被浏览器中字体大小的设置影响，除非显式重写一个具体单位。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*em*/</span></span><br><span class="line"> <span class="selector-tag">em</span> 单位转为像素值，取决于他们使用的字体大小。 此字体大小受从父元素继承过来的字体大小，除非显式重写与一个具体单位。</span><br></pre></td></tr></table></figure>

<h1 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h1><h2 id="vue样式穿透"><a href="#vue样式穿透" class="headerlink" title="vue样式穿透"></a>vue样式穿透</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/aidixie/p/13555680.html">https://www.cnblogs.com/aidixie/p/13555680.html</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">深度作用选择器 &gt;&gt;&gt; 或者&#x2F;deep&#x2F; 可以修改Element ui中的内容 在有scoped标签中</span><br><span class="line">    注意只适用于css  一般&#x2F;deep&#x2F;使用多  或者使用::v-deep(目前这个更好不报错)</span><br><span class="line"> &#x2F;deep&#x2F; .el-input__inner &#123;</span><br><span class="line">    border: 0;</span><br><span class="line">    color: #000;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h1 id="word-break"><a href="#word-break" class="headerlink" title="word-break"></a>word-break</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">word-break</span>:规定自动换行的处理方法。</span><br><span class="line"></span><br><span class="line">normal	使用浏览器默认的换行规则。</span><br><span class="line">break-all	允许在单词内换行。</span><br><span class="line">keep-all	只能在半角空格或连字符处换行。</span><br></pre></td></tr></table></figure>



<h1 id="加强记忆"><a href="#加强记忆" class="headerlink" title="加强记忆"></a>加强记忆</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">opacity</span>:<span class="number">0.5</span>  规定不透明度。从 <span class="number">0.0</span> （完全透明）到 <span class="number">1.0</span>（完全不透明)</span><br><span class="line"></span><br><span class="line">/*transition  用于设置四个过渡属性*/</span><br><span class="line">：经常与:hover做动画</span><br><span class="line">-- 把transition代码 写到不加:hover是原来有属性的地方,:hover设置一些属性)transition会在原属性到:hover过程中发辉作用</span><br><span class="line">-- 当transition与transform都写在:hover里的时候,:hover的transition也有效果(但还是把transition写在不加:hover的选择器中多用)</span><br><span class="line"></span><br><span class="line">transition:属性名(property) 持续时间(duration) 速度曲线(<span class="number">5</span>种)(timing-			  function)   过渡开始前等几秒(delay) 与动画类似</span><br><span class="line">该属性可以与:hover配合使用给任意选择器中加以实现动画效果</span><br><span class="line">.a:hover&#123;</span><br><span class="line">    	bgc:red;</span><br><span class="line">    	<span class="attribute">transition</span>:all,<span class="number">3s</span>,</span><br><span class="line">		相当于动画效果		</span><br><span class="line">		&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*transform: transform 属性向元素应用 2D 或 3D 转换 没有动画 但是加上:hover,和transition也是很好的动画*/</span></span><br><span class="line">	translate(x,y,z)  translateX/Y/Z(x/y/z) translate(x,y) 定义<span class="number">2</span>D转换可以移动元素  --加z为<span class="number">3</span>D</span><br><span class="line">	scale(x,y,z)   scaleX/Y/Z(x/y/z) scale(x,y) 定义<span class="number">2</span>D缩放按照原始的宽高,传入的值为倍数转换 --加z为<span class="number">3</span>D</span><br><span class="line">	rotate(deg) --<span class="number">2</span>D旋转</span><br><span class="line">	rotateX/Y/Z(deg) rotate(x,y,z,deg) --<span class="number">3</span>D旋转</span><br><span class="line">    skew(x-deg,y-deg) skewX/Y(x-deg/y-deg) 沿着x/y倾斜</span><br><span class="line">	<span class="attribute">perspective</span>(n) 定义<span class="number">3</span>D透视 一般<span class="number">3</span>D定义它要有该属性</span><br><span class="line"></span><br><span class="line"><span class="comment">/*animation 动画 经常与transform搭配使用 在20% 30%...动画定义中使用*/</span></span><br><span class="line"><span class="attribute">animation</span>: name duration timing-function delay iteration-count  direction fill-mode;</span><br><span class="line">解释:</span><br><span class="line">    iteration-count:infinite (无数次)执行次数/<span class="built_in">n</span>(定义数字表示次数)</span><br><span class="line">    direction: <span class="built_in">alternate</span>(反向播放) /<span class="built_in">normal</span>(回到一开始)</span><br><span class="line">	fill-mode:动画结束后 forwards表示不会回到起始  backwards表示回到起始动画结束后 both </span><br><span class="line">	animation-play-state 属性规定动画正在运行还是暂停。</span><br><span class="line">		两个值:running /paused </span><br><span class="line">		可以与:hover搭配使用来暂停动画</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">只需要在选择器中加animation:....(属性值)   具体的动画在@keyframes中分段执行</span><br><span class="line">//定义动画</span><br><span class="line">@keyframes name&#123;</span><br><span class="line">    from/<span class="number">0%</span>&#123;</span><br><span class="line">        属性:属性值</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">53%</span>&#123;</span><br><span class="line">        属性:属性值</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span>/<span class="number">100%</span>&#123;</span><br><span class="line">        属性:属性值</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*flex的使用 */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*box-shandow的使用*/</span></span><br><span class="line">水平偏移位置 垂直偏移位置 模糊度 范围 颜色 内阴影(inset 一般用外阴影默认)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*calc可以计算任何值,无单位障碍*/</span></span><br><span class="line"><span class="attribute">height</span>: <span class="built_in">calc</span>(<span class="number">100%</span>-<span class="number">150px</span>)</span><br><span class="line"></span><br><span class="line">/*阴影*/</span><br><span class="line">阴影:水平偏移位置 垂直偏移位置 模糊度 颜色</span><br><span class="line"> box-shadow: <span class="number">0px</span> <span class="number">0px</span> <span class="number">20px</span> <span class="number">#eeeeee</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*块级/行内块/行内元素特点*/</span></span><br><span class="line">行内块(inline-block也很好用)</span><br><span class="line"><span class="comment">/*inline（行内元素）:*/</span></span><br><span class="line">使元素变成行内元素，拥有行内元素的特性，即：</span><br><span class="line"><span class="selector-tag">a</span>、可以与其他行内元素共享一行，不会独占一行.</span><br><span class="line"><span class="selector-tag">b</span>、不能更改元素的<span class="attribute">height</span>，<span class="attribute">width</span>的值，大小由内容撑开.</span><br><span class="line">c、可以使用<span class="attribute">padding</span>上下左右都有效，<span class="attribute">margin</span>只有<span class="attribute">left</span>和<span class="attribute">right</span>产生边距效果，但是<span class="attribute">top</span>和<span class="attribute">bottom</span>就不行</span><br><span class="line"><span class="comment">/*block（块级元素）:*/</span></span><br><span class="line">使元素变成块级元素，</span><br><span class="line"><span class="selector-tag">a</span>、独占一行，在不设置自己的宽度的情况下，块级元素会默认填满父级元素的宽度.</span><br><span class="line"><span class="selector-tag">b</span>、能够改变元素的<span class="attribute">height</span>，<span class="attribute">width</span>的值.</span><br><span class="line">c、可以设置<span class="attribute">padding</span>，<span class="attribute">margin</span>的各个属性值，<span class="attribute">top</span>，<span class="attribute">left</span>，<span class="attribute">bottom</span>，<span class="attribute">right</span>都能够产生边距效果.</span><br><span class="line"><span class="comment">/*inline-block（融合行内于块级）:*/</span></span><br><span class="line">结合了inline与block的一些特点，结合了上述inline的第<span class="number">1</span>个特点和block的第<span class="number">2</span>,<span class="number">3</span>个特点.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*position的效果*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*隐藏元素效果*/</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>浮动具有<strong>包裹性</strong>，在不显式设置**宽度(<strong>或者宽度设置为auto)的情况下会自动“收缩”到内容的尺寸大小</strong></p>
</li>
<li><p><strong>单行文字垂直居中</strong>代码： 文字行高等于盒子高度</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/03/30/mybatis%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/30/mybatis%E6%80%BB%E7%BB%93/" itemprop="url">mybatis总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-30T14:29:31Z">
                2021-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="MyBatiis"><a href="#MyBatiis" class="headerlink" title="MyBatiis"></a>MyBatiis</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011419984/article/details/113206437">https://blog.csdn.net/u011419984/article/details/113206437</a></p>
<h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾:"></a>回顾:</h2><ul>
<li><p>JDBC</p>
</li>
<li><p>Mysql</p>
</li>
<li><p>java基础</p>
</li>
<li><p>junit</p>
</li>
<li><p>框架:配置文件的,最好方式,官网文档</p>
</li>
</ul>
<h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a>1.简介</h2><h3 id="什么是-MyBatis？"><a href="#什么是-MyBatis？" class="headerlink" title="什么是 MyBatis？"></a>什么是 MyBatis？</h3><ul>
<li>MyBatis 是一款优秀的==持久层框架==，</li>
<li>它支持自定义 SQL、存储过程以及高级映射。</li>
<li>MyBatis 免除了几乎所有的 JDBC 代码以及设置参数和获取结果集的工作。MyBatis 可以通过简单的 XML 或注解来配置和映射原始类型、接口和 Java POJO（Plain Old Java Objects，普通老式 Java 对象）为数据库中的记录。</li>
<li>MyBatis 本是apache的一个<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/3406069">开源项目</a>iBatis, 2010年这个<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E9%A1%B9%E7%9B%AE/477803">项目</a>由apache software foundation 迁移到了[google code](<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/google">https://baike.baidu.com/item/google</a> code/2346604)，并且改名为MyBatis 。</li>
<li></li>
<li>2013年11月迁移到<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Github/10145341">Github</a>。</li>
</ul>
<p>如何获得mybatis?</p>
<ul>
<li><p>maven:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>github:<a target="_blank" rel="noopener" href="https://github.com/mybatis/mybatis-3/releases/tag/mybatis-3.5.6">https://github.com/mybatis/mybatis-3/releases/tag/mybatis-3.5.6</a></p>
</li>
<li><p>中文文档:<a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/index.html">https://mybatis.org/mybatis-3/zh/index.html</a></p>
</li>
</ul>
<h3 id="持久化"><a href="#持久化" class="headerlink" title="持久化"></a>持久化</h3><ul>
<li>数据持久化:持久化就是将程序的数据在持久状态和瞬时状态转化的过程</li>
<li>内存:断电及失</li>
<li>数据库(jdbc) , io文件持久化</li>
<li>生活:冷藏 罐头</li>
</ul>
<p>为什么需要持久化?    </p>
<ul>
<li>一些对象,不能让他丢掉     </li>
<li>内存太贵了</li>
</ul>
<h3 id="持久层"><a href="#持久层" class="headerlink" title="持久层"></a>持久层</h3><p>Dao层,Service层,Controller层</p>
<ul>
<li>完成持久化代码块(Dao)</li>
<li>业务层(Service)</li>
<li>Controller(转换用户请求给业务层做)</li>
<li>层界限十分明显</li>
</ul>
<p>为什么需要mybatis?</p>
<ul>
<li>方便</li>
<li>传统jdbc代码太复杂,简单,框架,自动化</li>
<li>帮助程序员将数据存入数据库中</li>
<li>不用也可,更容易上手.</li>
<li>优点:<ul>
<li>简单易学：本身就很小且简单。没有任何第三方依赖，最简单安装只要两个jar文件+配置几个sql映射文件易于学习，易于使用，通过文档和源代码，可以比较完全的掌握它的设计思路和实现。</li>
<li>灵活：mybatis不会对应用程序或者数据库的现有设计强加任何影响。 sql写在xml里，便于统一管理和优化。通过sql语句可以满足操作数据库的所有需求。</li>
<li>解除sql与程序代码的耦合：通过提供DAO层，将业务逻辑和数据访问逻辑分离，使系统的设计更清晰，更易维护，更易单元测试。sql和代码的分离，提高了可维护性。</li>
<li>提供映射标签，支持对象与数据库的orm字段关系映射</li>
<li>提供对象关系映射标签，支持对象关系组建维护</li>
<li>提供xml标签，支持编写动态sql。 </li>
<li>使用人多</li>
</ul>
</li>
</ul>
<h2 id="2-第一个程序"><a href="#2-第一个程序" class="headerlink" title="2.第一个程序"></a>2.第一个程序</h2><p>思路:搭建环境–&gt;导入Mybatis-&gt;编写代码–&gt;测试 </p>
<h3 id="2-1搭建环境"><a href="#2-1搭建环境" class="headerlink" title="2.1搭建环境"></a>2.1搭建环境</h3><p><strong>搭建数据库</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-- 创建数据库</span><br><span class="line"></span><br><span class="line">CREATE DATABASE &#96;mybatis&#96;;</span><br><span class="line"></span><br><span class="line">USE &#96;mybatis&#96;</span><br><span class="line"></span><br><span class="line">-- 创建表</span><br><span class="line">CREATE TABLE &#96;user&#96;(</span><br><span class="line">&#96;id&#96; INT(20) NOT NULL,</span><br><span class="line">&#96;name&#96; VARCHAR (30) DEFAULT NULL,</span><br><span class="line">&#96;pwd&#96; VARCHAR (30) DEFAULT NULL,</span><br><span class="line">PRIMARY KEY(&#96;id&#96;)</span><br><span class="line"></span><br><span class="line">)ENGINE&#x3D;INNODB DEFAULT CHARSET&#x3D;utf8</span><br><span class="line"></span><br><span class="line">-- 插数据</span><br><span class="line">INSERT INTO &#96;user&#96;(&#96;id&#96;,&#96;name&#96;,&#96;pwd&#96;) VALUES </span><br><span class="line">(1,&#39;haley&#39;,&#39;123456&#39;),</span><br><span class="line">(2,&#39;haley06&#39;,&#39;123456&#39;),</span><br><span class="line">(3,&#39;haley07&#39;,&#39;123890&#39;)</span><br></pre></td></tr></table></figure>

<p><strong>新建项目</strong></p>
<p>1.新建一个普通maven项目     2.删除src目录      3.导入maven依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    导入依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--        要导入Junit包--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        导入Mybatis--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        导入mysql--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.23<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2创建模块"><a href="#2-2创建模块" class="headerlink" title="2.2创建模块"></a>2.2创建模块</h3><ul>
<li><p>1.编写mybatis核心配置文件(mybatis-config.xml)(链接数据库,配置信息)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--注意这里要写成UTF8 --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--核心配置文件--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                加载驱动--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?userSSl=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456hj&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>2.编写mybatis工具类</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SqlSessionFactory===&gt;SqlSession</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisUtils</span> </span>&#123;</span><br><span class="line"><span class="comment">//    提升作用域</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line"><span class="comment">//        使用mubatis第一步  获取SqlSessionFactory对象</span></span><br><span class="line">        String resource = <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        InputStream inputStream = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    既然有了 SqlSessionFactory，顾名思义，我们可以从中获得 SqlSession 的实例。</span></span><br><span class="line"><span class="comment">//    SqlSession 提供了在数据库执行 SQL 命令所需的所有方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SqlSession <span class="title">getSqlSession</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">/*SqlSession sqlSession = sqlSessionFactory.openSession();</span></span><br><span class="line"><span class="comment">        return sqlSession;*/</span></span><br><span class="line">        <span class="keyword">return</span> sqlSessionFactory.openSession();</span><br><span class="line"><span class="comment">//      </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3编写代码"><a href="#2-3编写代码" class="headerlink" title="2.3编写代码"></a>2.3编写代码</h3><ul>
<li><p>3.实体类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.pojo;</span><br><span class="line"></span><br><span class="line"><span class="comment">//实体类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String pwd;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(<span class="keyword">int</span> id, String name, String pwd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.pwd = pwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPwd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPwd</span><span class="params">(String pwd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.pwd = pwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, pwd=&#x27;&quot;</span> + pwd + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>4.接口Dao</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">getUserList</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>接口实现类  由原来的UserDaoImpl转换为一个Mapper文件,xml文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--注意这里要写成UTF8 --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--namespace绑定一个对应的Dao/Mapper接口  com.haley.dao.UserDao写这个--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.haley.dao.UserDao&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    查询语句 getUserList这个相当于接口实例的方法  resultType相当于结果集返回类型--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.haley.pojo.User&quot;</span>&gt;</span></span><br><span class="line">        select * from mybatis.user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-4-注意点"><a href="#2-4-注意点" class="headerlink" title="2.4 注意点"></a>2.4 注意点</h3><p>org.apache.ibatis.binding.BindingException:Type interface com.haley.dao.UserDao is not known to the MapperRegistry.</p>
<p>核心配置文件(mybatis-config.xml)中注册mappers</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    每一个Mapper.xml都需要在mybatis核心配置文件中注册--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/haley/dao/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>测试代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//        获取sqlSession对象</span></span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        方式一：getMapper  多用</span></span><br><span class="line"><span class="comment">//        执行sql  获取UserDao对象 以便于使用userdao方法</span></span><br><span class="line"><span class="comment">//        UserDao userDao = sqlSession.getMapper(UserDao.class);</span></span><br><span class="line"><span class="comment">//        执行接口实例方法</span></span><br><span class="line"><span class="comment">//        List&lt;User&gt; userList = userDao.getUserList();</span></span><br><span class="line"><span class="comment">//       遍历集合</span></span><br><span class="line"><span class="comment">//        for (User user : userList) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(user);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        方式二</span></span><br><span class="line">        List&lt;User&gt; userList = sqlSession.selectList(<span class="string">&quot;com.haley.dao.UserDao.getUserList&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//        关闭sqlSession</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>配置maven <span class="number">2.</span>创建核心mybatis配置  <span class="number">3.</span>创建工具类  <span class="number">4.</span>创建实体类(根据数据库) <span class="number">5.</span>创建接口  </span><br><span class="line"><span class="number">6.</span>创建接口实例配置文件.xml 	<span class="number">7.</span>创建测试类</span><br></pre></td></tr></table></figure>

<h2 id="3-CRUD"><a href="#3-CRUD" class="headerlink" title="3.CRUD"></a>3.CRUD</h2><p>配置xml实例回顾</p>
<p>1.namespace中的包名要和Dao/Mapper中的一致<br>        2.select<br>            选择   查询语句</p>
<ul>
<li>id就是对应的namespace中的方法</li>
<li>resultType:sql语句执行的返回值!</li>
<li>paramType:参数类型</li>
</ul>
<p>1.编写接口  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UseMapper</span> </span>&#123;</span><br><span class="line"><span class="comment">//    查询全部用户</span></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">getUserList</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//    根据 id返回用户</span></span><br><span class="line">    <span class="function">List&lt;User&gt;  <span class="title">getUserById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    insert 一个用户</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">addUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"><span class="comment">//    修改用户</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">updateUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    删除一个用户</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>  2.编写对应mapper的测试语句 </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF8&quot;</span> ?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper</span><br><span class="line">        PUBLIC <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="line">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--最上方必须为UTF8--&gt;</span><br><span class="line">&lt;!--namespace绑定一个对应的Dao/Mapper接口  com.haley.dao.UserDao写这个--&gt;</span><br><span class="line">&lt;mapper namespace=<span class="string">&quot;com.haley.dao.UseMapper&quot;</span>&gt;</span><br><span class="line">&lt;!--    查询语句 getUserList这个相当于接口实例的方法  resultType相当于结果集返回类型--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;getUserList&quot;</span> resultType=<span class="string">&quot;com.haley.pojo.User&quot;</span>&gt;</span><br><span class="line">        select * from mybatis.user</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;select id=<span class="string">&quot;getUserById&quot;</span> resultType=<span class="string">&quot;com.haley.pojo.User&quot;</span> parameterType=<span class="string">&quot;int&quot;</span>&gt;</span><br><span class="line">        select * from mybatis.user where id=#&#123;id&#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">&lt;!--   对象中的属性可以直接取到--&gt;</span><br><span class="line">    &lt;insert id=<span class="string">&quot;addUser&quot;</span> parameterType=<span class="string">&quot;com.haley.pojo.User&quot;</span> &gt;</span><br><span class="line">        insert into mybatis.user(id,name,pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;pwd&#125;);</span><br><span class="line">    &lt;/insert&gt;</span><br><span class="line"></span><br><span class="line">    &lt;update id=<span class="string">&quot;updateUser&quot;</span> parameterType=<span class="string">&quot;com.haley.pojo.User&quot;</span>&gt;</span><br><span class="line">        update mybatis.user set `name` = #&#123;name&#125;, pwd=#&#123;pwd&#125;  where id=#&#123;id&#125;;</span><br><span class="line">    &lt;/update&gt;</span><br><span class="line"></span><br><span class="line">    &lt;delete id=<span class="string">&quot;deleteUser&quot;</span> parameterType=<span class="string">&quot;int&quot;</span>&gt;</span><br><span class="line">        delete from mybatis.user where id=#&#123;id&#125;</span><br><span class="line">    &lt;/delete&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>



<p>3.测试 <strong>CRUD需要提交事务</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SqlSessionFactory===&gt;SqlSession</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisUtils</span> </span>&#123;</span><br><span class="line"><span class="comment">//    提升作用域</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line"><span class="comment">//        使用mybatis第一步  获取SqlSessionFactory对象</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            String resource = <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">            InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">             sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    既然有了 SqlSessionFactory，顾名思义，我们可以从中获得 SqlSession 的实例。</span></span><br><span class="line"><span class="comment">//    SqlSession 提供了在数据库执行 SQL 命令所需的所有方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SqlSession <span class="title">getSqlSession</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">/*SqlSession sqlSession = sqlSessionFactory.openSession();</span></span><br><span class="line"><span class="comment">        return sqlSession;*/</span></span><br><span class="line">        <span class="keyword">return</span> sqlSessionFactory.openSession();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>错误:</p>
<ul>
<li>标签不要写错</li>
<li>resource绑定mapper需要用路径不能用点</li>
<li>控指针异常,没有注册到资源</li>
<li>maven资源没有导出</li>
</ul>
<p><strong>4.万能map</strong>(不正规)</p>
<p>假设,我们的实体类,或者数据库中的表,字段或者参数过多,我们应当考虑使用Map</p>
<p>例如一:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">接口</span><br><span class="line">        <span class="comment">//    insert 一个用户</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">addUser2</span><span class="params">(Map&lt;String,Object&gt; map)</span></span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--   对象中的属性可以直接取到</span></span><br><span class="line"><span class="comment"> 传递map的key</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addUser2&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> &gt;</span></span><br><span class="line">     insert into mybatis.user(id,name,pwd) values (#&#123;userid&#125;,#&#123;username&#125;,#&#123;userpwd&#125;);</span><br><span class="line"> <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>例如二:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">接口:</span><br><span class="line">	    <span class="function">User <span class="title">getUserById2</span><span class="params">(Map&lt;String,Object&gt; map)</span></span>;</span><br><span class="line"></span><br><span class="line">xml</span><br><span class="line">      &lt;select id=<span class="string">&quot;getUserById2&quot;</span> resultType=<span class="string">&quot;com.haley.pojo.User&quot;</span> parameterType=<span class="string">&quot;map&quot;</span>&gt;</span><br><span class="line">        select * from mybatis.user where id=#&#123;id&#125; and name =#&#123;namela&#125;;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUserId2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">    UseMapper mapper = sqlSession.getMapper(UseMapper.class);</span><br><span class="line"></span><br><span class="line">    HashMap&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;id&quot;</span>,<span class="number">4</span>);</span><br><span class="line">    map.put(<span class="string">&quot;namela&quot;</span>,<span class="string">&quot;haley&quot;</span>);</span><br><span class="line"></span><br><span class="line">    User user = mapper.getUserById2(map);</span><br><span class="line">    System.out.println(user);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Map传递参数直接在sql中取出key即可<br>        对象传递参数,直接在sql中取出对象的属性即可<br>        只有一个基本类型的参数的情况下,可以直接在sql中取出<br>        多个参数用map或者注解</p>
<p><strong>5.模糊查询</strong></p>
<p>1.java代码执行的时候传递通配符 % %(使代码安全,减少sql注入)<br>        2.在sql拼接中使用通配符</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">接口</span><br><span class="line"><span class="comment">//    模糊查询</span></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">getUserLike</span><span class="params">(String name)</span></span>;</span><br><span class="line"></span><br><span class="line">xml</span><br><span class="line">    &lt;!--    模糊查询--&gt;</span><br><span class="line">        &lt;select id=<span class="string">&quot;getUserLike&quot;</span> resultType=<span class="string">&quot;com.haley.pojo.User&quot;</span>&gt;</span><br><span class="line">            select * from mybatis.user where name like &quot;%&quot;#&#123;value&#125;&quot;%&quot;</span><br><span class="line">        &lt;/select&gt;</span><br><span class="line"></span><br><span class="line">测试</span><br><span class="line">    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUserLike</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">        UseMapper mapper = sqlSession.getMapper(UseMapper.class);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; list = mapper.getUserLike(<span class="string">&quot;李&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (User user : list) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-配置解析"><a href="#4-配置解析" class="headerlink" title="4.配置解析"></a>4.配置解析</h2><h3 id="1-核心配置文件"><a href="#1-核心配置文件" class="headerlink" title="1.核心配置文件"></a>1.核心配置文件</h3><ul>
<li>mybatis-config.xml</li>
<li>MyBatis 的配置文件包含了会深深影响 MyBatis 行为的设置和属性信息。 配置文档的顶层结构如下：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">configuration（配置）</span><br><span class="line">properties（属性）</span><br><span class="line">settings（设置）</span><br><span class="line">typeAliases（类型别名）</span><br><span class="line">typeHandlers（类型处理器）</span><br><span class="line">objectFactory（对象工厂）</span><br><span class="line">plugins（插件）</span><br><span class="line">environments（环境配置）</span><br><span class="line">environment（环境变量）</span><br><span class="line">transactionManager（事务管理器）</span><br><span class="line">dataSource（数据源）</span><br><span class="line">databaseIdProvider（数据库厂商标识）</span><br><span class="line">mappers（映射器）</span><br></pre></td></tr></table></figure>

<h3 id="2-环境配置-environments"><a href="#2-环境配置-environments" class="headerlink" title="2.环境配置(environments)"></a>2.环境配置(environments)</h3><ul>
<li><p>MyBatis 可以配置成适应多种环境，<br><strong>尽管可以配置多个环境，但每个 SqlSessionFactory 实例只能选择一种环境</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        mybatis默认事务管理器jdbc,默认连接池的实现学会使用配置多个运行环境--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            事务管理器:jdbc MANAGED--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            数据源 :链接数据库(池子可以回收资源 让web相应更快)--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--                加载驱动--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8<span class="symbol">&amp;amp;</span>useSSL=true<span class="symbol">&amp;amp;</span>serverTime=UTC&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456hj&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        测试的配置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--                加载驱动--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8<span class="symbol">&amp;amp;</span>useSSL=true<span class="symbol">&amp;amp;</span>serverTime=UTC&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456hj&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-属性-properties"><a href="#3-属性-properties" class="headerlink" title="3.属性(properties)"></a>3.属性(properties)</h3><ul>
<li><p>我们可以通过properties来实现引用配置文件</p>
</li>
<li><p>这些属性可以在外部进行配置，并可以进行动态替换。你既可以在典型的 Java 属性文件中配置这些属性，也可以在 properties 元素的子元素中设置。(java配置文件: db.properties)</p>
</li>
<li><p>编写一个配置文件 db.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span> = <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>= <span class="string">jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;useSSL=true&amp;amp;serverTime=UTC</span></span><br><span class="line"><span class="attr">username</span>= <span class="string">root</span></span><br><span class="line"><span class="attr">password</span>= <span class="string">123456hj</span></span><br></pre></td></tr></table></figure></li>
<li><p>在核心配置文件中引入(xml中,所有标签都有顺序)</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    引入java(web)配置文件(优先使用web配置文件)--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;db.properties&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        代替web配置文件,可以写到这里把配置--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">可直接引入文件</span><br><span class="line">也可以把配置写在property里</span><br><span class="line">优先使用外部配置文件</span><br></pre></td></tr></table></figure>

<h3 id="4-类型别名"><a href="#4-类型别名" class="headerlink" title="4.类型别名"></a>4.类型别名</h3><ul>
<li>类型别名可为 Java 类型设置一个缩写名字。</li>
<li>它仅用于 XML 配置，意在降低冗余的全限定类名书写。</li>
</ul>
<p>例如</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    给实体类起别名 配置实例里边的resultType可以使用别名--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        起别名方法一:--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;typeAlias type=&quot;com.haley.pojo.User&quot; alias=&quot;User&quot;&gt;&lt;/typeAlias&gt;--&gt;</span></span><br><span class="line">        </span><br><span class="line"><span class="comment">&lt;!--       起别名方法二:</span></span><br><span class="line"><span class="comment">	也可以指定一个包名，MyBatis 会在包名下面搜索需要的 Java Bean</span></span><br><span class="line"><span class="comment">在没有注解的情况下，会使用 Bean 的首字母小写的非限定类名来作为它的别名</span></span><br><span class="line"><span class="comment">；若有注解，则别名为其注解值</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.haley.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"></span><br><span class="line">第一个可以自定义别名,第二个不可以,若非要改可以在实体类上加注解</span><br><span class="line"></span><br><span class="line">//注解起别名</span><br><span class="line">@Alias(&quot;user&quot;)</span><br><span class="line">public class User &#123;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="5-设置"><a href="#5-设置" class="headerlink" title="5.设置"></a>5.设置</h3><p>日志实现,开启缓存,懒加载</p>
<h3 id="6-其他配置"><a href="#6-其他配置" class="headerlink" title="6.其他配置"></a>6.其他配置</h3><ul>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers">typeHandlers（类型处理器）</a></li>
<li>[objectFactory（对象工厂）</li>
<li><a target="_blank" rel="noopener" href="https://mybatis.org/mybatis-3/zh/configuration.html#objectFactory">插件</a><ul>
<li> <a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/org.mybatis.generator/mybatis-generator-core">MyBatis Generator Core</a></li>
<li> <a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/com.baomidou/mybatis-plus-boot-starter">MyBatis Plus</a></li>
<li> 通用mapper</li>
</ul>
</li>
</ul>
<h3 id="7-映射器"><a href="#7-映射器" class="headerlink" title="7.映射器"></a>7.映射器</h3><p>Mapper:注册绑定mapper文件<br>    方式一:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    每一个Mapper.xml都需要在mybatis核心配置文件中注册--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">       通过xml注册的</span><br><span class="line">       <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;com/haley/dao/UserMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>方式二:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">&lt;!--    每一个Mapper.xml都需要在mybatis核心配置文件中注册--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  通过类注册--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.dao.UserMapper&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line">注意: 必须满足下边条件,否则会报错</span><br><span class="line">	1.接口和他的Mapper配置文件必须同名</span><br><span class="line">	2.接口和他的Mappper配置文件必须在同一个包下</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>方式三</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!- 扫描包--&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.haley.dao&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line">注意事项与方式二相同</span><br></pre></td></tr></table></figure>

<h3 id="8-生命周期和座用域"><a href="#8-生命周期和座用域" class="headerlink" title="8.生命周期和座用域"></a>8.生命周期和座用域</h3><p>不同作用域和生命周期类别是至关重要的，因为错误的使用会导致非常严重的<strong>并发</strong>问题</p>
<ul>
<li>一旦创建了 SqlSessionFactory，就不再需要它了  <strong>局部作用域</strong>(生产工厂)</li>
<li>SqlSessionFactory 一旦被创建就应该在应用的运行期间一直存在，没有任何理由丢弃它或重新创建另一个实例。– 数据连接池(工厂)    SqlSessionFactory 的最佳作用域是<strong>应用作用域</strong>。 ，最简单的就是使用单例模式或者静态单例模式。</li>
<li>SqlSession连接到连接池的请求    SqlSession 的实例不是线程安全的，因此是不能被共享的，所以它的最佳的作用域是<strong>请求或方法作用域</strong>。 用完之后要赶紧关闭,否则资源会被占用.</li>
<li>sqlsession可以连接多个mapper.xml</li>
</ul>
<h2 id="5-解决属性名和字段名不一致的问题"><a href="#5-解决属性名和字段名不一致的问题" class="headerlink" title="5.解决属性名和字段名不一致的问题"></a>5.解决属性名和字段名不一致的问题</h2><p>新建一个项目,拷贝之前的,测试实体类字段不一致情况</p>
<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">实体类</span><br><span class="line">    <span class="keyword">package</span> com.haley.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.type.Alias;</span><br><span class="line"></span><br><span class="line"><span class="comment">//注解起别名</span></span><br><span class="line"><span class="meta">@Alias(&quot;user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(<span class="keyword">int</span> id, String name, String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">接口</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    根据 id返回用户</span></span><br><span class="line">       <span class="function">User  <span class="title">getUserById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">xml实例</span><br><span class="line">    -- parameterType为基本类型可以不写</span><br><span class="line">    &lt;select id=<span class="string">&quot;getUserById&quot;</span> resultType=<span class="string">&quot;com.haley.pojo.User&quot;</span> parameterType=<span class="string">&quot;int&quot;</span>&gt;</span><br><span class="line">        select id,name,pwd  from mybatis.user where id=#&#123;id&#125; ;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">测试类</span><br><span class="line">            <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUserList</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">        UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line"></span><br><span class="line">        User user= mapper.getUserById(<span class="number">4</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">由于实例xml的pwd与实体类password字段不同所以结果为: User&#123;id=<span class="number">4</span>, name=<span class="string">&#x27;李四&#x27;</span>, password=<span class="string">&#x27;null&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><ul>
<li><p><strong>1.起别名 加as +名字</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xml实例</span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.haley.pojo.User&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;int&quot;</span>&gt;</span></span><br><span class="line">        select id,name,pwd as password from mybatis.user where id=#&#123;id&#125; ;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>resultMap</strong></p>
<p>结果集映射</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id name pwd</span><br><span class="line">id name password</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--结果集合映射--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;UserMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;User&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        column数据库的字段  property为实体类中的属性--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;pwd&quot;</span> <span class="attr">property</span>=<span class="string">&quot;password&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><code>resultMap</code> 元素是 MyBatis 中最重要最强大的元素</li>
<li>ResultMap 的设计思想是，对简单的语句做到零配置，对于复杂一点的语句，只需要描述语句之间的关系就行了。</li>
<li><code>ResultMap</code> 的优秀之处——你完全可以不用显式地配置它们。 ==pojo表示一个实体类==</li>
</ul>
<h2 id="6-日志"><a href="#6-日志" class="headerlink" title="6.日志"></a>6.日志</h2><h3 id="6-1日志工厂"><a href="#6-1日志工厂" class="headerlink" title="6.1日志工厂"></a>6.1日志工厂</h3><p>如果一个数据库出现异常,我们需要排除错误,日志是最好的助手<br>      曾经:soult debug<br>      现在:日志工厂</p>
<ul>
<li><p>logImpl    指定 MyBatis 所用日志的具体实现，未指定时将自动查找。</p>
<ul>
<li>SLF4J </li>
<li>LOG4J [掌握i]</li>
<li>LOG4J2 </li>
<li>JDK_LOGGING </li>
<li>COMMONS_LOGGING </li>
<li>STDOUT_LOGGING [掌握]</li>
<li>NO_LOGGING</li>
</ul>
<p>在Mybatis中具体使用哪个,在设置中设定   <strong>STDOUT_LOGGING 标准日志输出 可以直接使用</strong></p>
<p>配置日志在核心配置文件中</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="6-2log4j"><a href="#6-2log4j" class="headerlink" title="6.2log4j"></a>6.2log4j</h3><p>什么是log4j?</p>
<ul>
<li>Log4j是<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Apache/8512995">Apache</a>的一个开源项目，通过使用Log4j，我们可以控制日志信息输送的目的地是<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%8E%A7%E5%88%B6%E5%8F%B0/2438626">控制台</a>、文件、<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/GUI">GUI</a>组件</li>
<li>我们也可以控制每一条日志的输出格式</li>
<li>通过定义每一条日志信息的级别，我们能够更加细致地控制日志的生成过程</li>
<li>通过一个<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/286550">配置文件</a>来灵活地进行配置，而不需要修改应用的代码。</li>
</ul>
<p>1.先导入log4j依赖包从maven</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.log4j.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将等级为DEBUG的日志信息输出到console和file这两个目的地，console和file的定义在下面的代码</span></span><br><span class="line"><span class="meta">log4j.rootLogger</span>=<span class="string">DEBUG,console,file</span></span><br><span class="line"><span class="attr">​</span></span><br><span class="line"><span class="comment">#控制台输出的相关设置</span></span><br><span class="line"><span class="meta">log4j.appender.console</span> = <span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="meta">log4j.appender.console.Target</span> = <span class="string">System.out</span></span><br><span class="line"><span class="meta">log4j.appender.console.Threshold</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.appender.console.layout</span> = <span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.console.layout.ConversionPattern</span>=<span class="string">[%c]-%m%n</span></span><br><span class="line"><span class="comment">#文件输出的相关设置</span></span><br><span class="line"><span class="meta">log4j.appender.file</span> = <span class="string">org.apache.log4j.RollingFileAppender</span></span><br><span class="line"><span class="meta">log4j.appender.file.File</span>=<span class="string">./log/SUN.log</span></span><br><span class="line"><span class="meta">log4j.appender.file.MaxFileSize</span>=<span class="string">10mb</span></span><br><span class="line"><span class="meta">log4j.appender.file.Threshold</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.appender.file.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.file.layout.ConversionPattern</span>=<span class="string">[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span></span><br><span class="line"><span class="comment">#日志输出级别</span></span><br><span class="line"><span class="meta">log4j.logger.org.mybatis</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.logger.java.sql</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.logger.java.sql.Statement</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.logger.java.sql.ResultSet</span>=<span class="string">DEBUG</span></span><br><span class="line"><span class="meta">log4j.logger.java.sq1.PreparedStatement</span>=<span class="string">DEBUG</span></span><br></pre></td></tr></table></figure>

<p>3.配置log4j为日志实现</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    配置日志--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        标准日志实现--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;LOG4&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.log4j使用,直接测试运行<br>        5.简单使用</p>
<h2 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h2><p><strong>为什么分页?</strong></p>
<p>减少数据处理量</p>
<h4 id="使用limit分页-核心Sql"><a href="#使用limit分页-核心Sql" class="headerlink" title="使用limit分页,核心Sql"></a><strong>使用limit分页</strong>,核心Sql</h4><ul>
<li><p>1.接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//   分页查询</span></span><br><span class="line">   <span class="function">List&lt;User&gt; <span class="title">getUserByLimit</span><span class="params">(Map&lt;String,Integer&gt; </span></span></span><br></pre></td></tr></table></figure></li>
<li><p>Mapper XML</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    分页查询--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getUserByLimit&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;UserMap&quot;</span>&gt;</span></span><br><span class="line">        select * from mybatis.user limit #&#123;startIndex&#125;,#&#123;pageSize&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUserByLimit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">    UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">    HashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;String,Integer&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;startIndex&quot;</span>,<span class="number">1</span>);</span><br><span class="line">    map.put(<span class="string">&quot;pageSize&quot;</span>,<span class="number">2</span>);</span><br><span class="line">  </span><br><span class="line">    List&lt;User&gt; userByLimit = mapper.getUserByLimit(map);</span><br><span class="line">    <span class="keyword">for</span> (User user : userByLimit) &#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="使用rowbounds实现"><a href="#使用rowbounds实现" class="headerlink" title="使用rowbounds实现"></a>使用rowbounds实现</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">接口</span><br><span class="line"><span class="comment">//分页2</span></span><br><span class="line">   <span class="function">List&lt;User&gt; <span class="title">getUserByRowBounds</span><span class="params">()</span></span>;</span><br><span class="line">xml:</span><br><span class="line">	   &lt;!--    分页查询<span class="number">2</span>--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;getUserByRowBounds&quot;</span> resultMap=<span class="string">&quot;UserMap&quot;</span>&gt;</span><br><span class="line">        select * from mybatis.user</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">测试类</span><br><span class="line">      <span class="comment">//   分页查询2</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getByRowBounds</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        RowBounds实现分页</span></span><br><span class="line">        RowBounds rowBounds = <span class="keyword">new</span> RowBounds(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//       通过java代码层面实现分页</span></span><br><span class="line">        List&lt;User&gt; userList = sqlSession.selectList(<span class="string">&quot;com.haley.dao.UserMapper.getUserByRowBounds&quot;</span>,<span class="keyword">null</span>,rowBounds);</span><br><span class="line">        <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        sqlSession.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="分页插件"><a href="#分页插件" class="headerlink" title="分页插件"></a>分页插件</h4><p><a target="_blank" rel="noopener" href="https://pagehelper.github.io/">https://pagehelper.github.io/</a>  MyBatis 分页插件 PageHelper</p>
<h2 id="使用注解开发"><a href="#使用注解开发" class="headerlink" title="使用注解开发"></a>使用注解开发</h2><h3 id="面向接口编程"><a href="#面向接口编程" class="headerlink" title="面向接口编程"></a>面向接口编程</h3><ul>
<li>大家之前都学过面向对象编程，也学习过接口，但在真正的开发中，很多时候我们会选择面向接口编程</li>
<li><strong>根本原因 : 解耦 , 可拓展 , 提高复用 , 分层开发中 , 上层不用管具体的实现 , 大家都遵守共同的标准 , 使得开发变得容易 , 规范性更好</strong></li>
<li>在一个面向对象的系统中，系统的各种功能是由许许多多的不同对象协作完成的。在这种情况下，各个对象内部是如何实现自己的,对系统设计人员来讲就不那么重要了；</li>
<li>而各个对象之间的协作关系则成为系统设计的关键。小到不同类之间的通信，大到各模块之间的交互，在系统设计之初都是要着重考虑的，这也是系统设计的主要工作内容。面向接口编程就是指按照这种思想来编程。</li>
</ul>
<p><strong>关于接口的理解</strong></p>
<ul>
<li>接口从更深层次的理解，应是定义（规范，约束）与实现（名实分离的原则）的分离。</li>
<li>接口的本身反映了系统设计人员对系统的抽象理解。</li>
<li>接口应有两类：</li>
<li><ul>
<li>第一类是对一个个体的抽象，它可对应为一个抽象体(abstract class)；</li>
<li>第二类是对一个个体某一方面的抽象，即形成一个抽象面（interface）；</li>
</ul>
</li>
<li>一个体有可能有多个抽象面。抽象体与抽象面是有区别的。</li>
</ul>
<p><strong>三个面向区别</strong></p>
<ul>
<li>面向对象是指，我们考虑问题时，以对象为单位，考虑它的属性及方法 .</li>
<li>面向过程是指，我们考虑问题时，以一个具体的流程（事务过程）为单位，考虑它的实现 .</li>
<li>接口设计与非接口设计是针对复用技术而言的，与面向对象（过程）不是一个问题.更多的体现就是对系统整体的架构</li>
</ul>
<h3 id="注解开发"><a href="#注解开发" class="headerlink" title="注解开发"></a>注解开发</h3><p>1.注解在接口上实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line"><span class="function">List&lt;User&gt; <span class="title">getUsers</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>

<p>2.需要在核心配置文件中绑定接口</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    绑定接口--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;com.haley.dao.UserMapper&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>3.测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">   <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        注解底层:反射</span></span><br><span class="line">        UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">        List&lt;User&gt; users = mapper.getUsers();</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>本质:反射机制实现<br>        底层:动态代理模式</p>
<p><strong>mybatis执行流程</strong></p>
<ul>
<li>1.编写配置文件</li>
<li>2.建立SqlSessionFactoryBuilder———&gt;解析配置文件流—&gt;实例化SqlSessionFactory</li>
<li>3.SqlSessionFactory===&gt;事务管理器——&gt;执行(excutor)器创建—–&gt;创建sqlsession—&gt;实现crud—&gt;与事务管理器产生联系—&gt;查看是否执行成功—&gt;不成功回滚—&gt;成功提交事务</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/img_convert/a412ef94b4d2385f1d5b911bda54da19.png" alt="image-20201111184357654"></p>
<h3 id="CRUD"><a href="#CRUD" class="headerlink" title="CRUD"></a>CRUD</h3><p>我们可以在工具类创建的时候实现自动提交</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">工具类的openSession参数设为<span class="keyword">true</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SqlSession <span class="title">getSqlSession</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">/*SqlSession sqlSession = sqlSessionFactory.openSession();</span></span><br><span class="line"><span class="comment">        return sqlSession;*/</span></span><br><span class="line">        <span class="comment">//    自动提交事务 设置为true</span></span><br><span class="line">        <span class="keyword">return</span> sqlSessionFactory.openSession(<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>编写接口,增加 注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line">   <span class="function">List&lt;User&gt; <span class="title">getUsers</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//   方法存在多个参数,所有基本类型参数前必须加@Param注解  #&#123;id&#125;取到的是Param的id</span></span><br><span class="line">   <span class="meta">@Select(&quot;select * from user where id=#&#123;id&#125; and name=#&#123;name&#125;&quot;)</span></span><br><span class="line">   <span class="function">User <span class="title">getUserById</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="keyword">int</span> id2,<span class="meta">@Param(&quot;name&quot;)</span> String name)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//   增加用户  引用类型参数不要加Param注解</span></span><br><span class="line">   <span class="meta">@Insert(&quot;insert into user(id,name,pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;password&#125;)&quot;)</span></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">addUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"><span class="comment">//   修改用户</span></span><br><span class="line"></span><br><span class="line">   <span class="meta">@Update(&quot;update user set name=#&#123;name&#125;,pwd=#&#123;password&#125; where id=#&#123;id&#125;&quot;)</span></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">updateUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//   删除用户</span></span><br><span class="line">   <span class="meta">@Delete(&quot;delete from user  where id=#&#123;uid&#125; &quot;)</span></span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">deleteUser</span><span class="params">(<span class="meta">@Param(&quot;uid&quot;)</span> <span class="keyword">int</span> id)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        注解底层:反射</span></span><br><span class="line">        UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line"><span class="comment">//        List&lt;User&gt; users = mapper.getUsers();</span></span><br><span class="line"><span class="comment">//        for (User user : users) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(user);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">/*  User user = mapper.getUserById(1, &quot;haley&quot;);</span></span><br><span class="line"><span class="comment">        System.out.println(user);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        sqlSession.close();*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        增加用户</span></span><br><span class="line"><span class="comment">//        mapper.addUser(new User(5,&quot;hello&quot;,&quot;1123456&quot;));</span></span><br><span class="line"><span class="comment">//        修改用户</span></span><br><span class="line"><span class="comment">//        mapper.updateUser(new User(5,&quot;to&quot;,&quot;456879&quot;));</span></span><br><span class="line"></span><br><span class="line">        mapper.deleteUser(<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>重点:一定要用mapper把接口绑定到核心配置文件中</strong></p>
<p><strong>关于Param注解</strong></p>
<ul>
<li><p>基本类型参数或者String类型,需要加上</p>
</li>
<li><p>引用类型不需要加</p>
</li>
<li><p>如果只有一个基本类型参数,可以忽略,但是建议加上</p>
</li>
<li><p>在sql中引用的就是这的@param中设定的属性名</p>
<p><strong>区别</strong>  :#{}–安全防止sql注入,  ${} –容易sql注入</p>
</li>
</ul>
<h2 id="lombok"><a href="#lombok" class="headerlink" title="lombok"></a>lombok</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Project Lombok is a java library that automatically plugs into your editor and build tools, spicing up your java.</span><br><span class="line">Never write another getter or equals method again, with one annotation your <span class="class"><span class="keyword">class</span> <span class="title">has</span> <span class="title">a</span> <span class="title">fully</span> <span class="title">featured</span> <span class="title">builder</span>, <span class="title">Automate</span> <span class="title">your</span> <span class="title">logging</span> <span class="title">variables</span>, <span class="title">and</span> <span class="title">much</span> <span class="title">more</span>.</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://projectlombok.org/">https://projectlombok.org/</a></p>
<p>使用步骤:</p>
<p>1.在idea中安装lombok插件<br>        2.导入jar包从maven中<br>        3.在实体类上加注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span> and <span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@FieldNameConstants</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span>, <span class="meta">@RequiredArgsConstructor</span> and <span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@Log</span>, <span class="meta">@Log4j</span>, <span class="meta">@Log4j2</span>, <span class="meta">@Slf4j</span>, <span class="meta">@XSlf4j</span>, <span class="meta">@CommonsLog</span>, <span class="meta">@JBossLog</span>, <span class="meta">@Flogger</span>, <span class="meta">@CustomLog</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@SuperBuilder</span></span><br><span class="line"><span class="meta">@Singular</span></span><br><span class="line"><span class="meta">@Delegate</span></span><br><span class="line"><span class="meta">@Value</span></span><br><span class="line"><span class="meta">@Accessors</span></span><br><span class="line"><span class="meta">@Wither</span></span><br><span class="line"><span class="meta">@With</span></span><br><span class="line"><span class="meta">@SneakyThrows</span></span><br><span class="line"><span class="meta">@val</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@Data  生成get&#x2F;set&#x2F;tostring&#x2F;equals方法&#x2F;hashcode 无参构造</span><br><span class="line">@NoArgsConstructor  无参构造</span><br><span class="line">@AllArgsConstructor  带参构造</span><br></pre></td></tr></table></figure>

<h2 id="多对一处理"><a href="#多对一处理" class="headerlink" title="多对一处理"></a>多对一处理</h2><ul>
<li><p>多个 学生对应一个老师</p>
</li>
<li><p>学生:多个学生<strong>关联</strong>一个老师   [多对一]</p>
</li>
<li><p>老师: <strong>集合</strong>  一个老师有很多学生  [一对多]</p>
</li>
<li><p>sql语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `teacher`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> teacher(`id`, `name`) <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;秦老师&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 学生表有一个外键叫老师</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`tid` <span class="type">INT</span> (<span class="number">10</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">KEY `fktid`(`tid`),</span><br><span class="line"><span class="keyword">CONSTRAINT</span> `fktid` <span class="keyword">FOREIGN</span> KEY (`tid`) <span class="keyword">REFERENCES</span> `teacher`(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` (`id`,`name`,`tid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;小明&#x27;</span>,<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` (`id`,`name`,`tid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;小红&#x27;</span>,<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` (`id`,`name`,`tid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;小张&#x27;</span>,<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` (`id`,`name`,`tid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;小李&#x27;</span>,<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` (`id`,`name`,`tid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;小王&#x27;</span>,<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="测试环境搭建"><a href="#测试环境搭建" class="headerlink" title="测试环境搭建"></a>测试环境搭建</h3><p>1.导入lombok<br>        2.新建实体类 Teacher Student<br>        3.建立Mapper接口<br>        4.建立mapper.xml文件<br>        5.在核心配置文件中绑定注册我们的mapper接口或文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;mapper class&#x3D;&quot;com.haley.dao.StudentMapper&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p> 6.测试查询是否成功</p>
<h3 id="按照查询嵌套处理"><a href="#按照查询嵌套处理" class="headerlink" title="按照查询嵌套处理"></a>按照<strong>查询</strong>嵌套处理</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">思路:</span></span><br><span class="line"><span class="comment">    查询所有学生信息</span></span><br><span class="line"><span class="comment">    根据查询出的学生tid,寻找对应的老师</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudent&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;StudentTeacher&quot;</span>&gt;</span></span><br><span class="line">        select * from mybatis.student</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;StudentTeacher&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.haley.pojo.Student&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        result针对类的单个属性与数据库表的映射--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--     复杂属性需要单独处理  --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        对象使用association  集合:collection--&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--  column:上次查询的结果中用哪些列值作为条件执行下一条sql语句</span></span><br><span class="line"><span class="comment">             select:下一条要执行的sql语句</span></span><br><span class="line"><span class="comment">             javaType:把sql语句查询出的结果集,封装给某个类的对象</span></span><br><span class="line"><span class="comment">             property:注入某个实体类的属性</span></span><br><span class="line"><span class="comment">             --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;com.haley.pojo.Teacher&quot;</span> <span class="attr">select</span>=<span class="string">&quot;getTeacher&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getTeacher&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.haley.pojo.Teacher&quot;</span>&gt;</span></span><br><span class="line">        select * from mybatis.teacher where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="按照结果嵌套查询-多用"><a href="#按照结果嵌套查询-多用" class="headerlink" title="按照结果嵌套查询(多用)"></a>按照<strong>结果</strong>嵌套查询(多用)</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  按照结果进行嵌套处理--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudent2&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;StudentTeacher2&quot;</span>&gt;</span></span><br><span class="line">        select student.id sid,student.name sname,mybatis.teacher.name tname from mybatis.student,mybatis.teacher</span><br><span class="line">    where student.tid=teacher.id</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;StudentTeacher2&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.haley.pojo.Student&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sname&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;teacher&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;com.haley.pojo.Teacher&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tname&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>多对一查询方式:   子查询 联表查询  mybatis-06</p>
<h2 id="一对多处理"><a href="#一对多处理" class="headerlink" title="一对多处理"></a>一对多处理</h2><p>比如:一个老师有多个学生</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> tid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"><span class="comment">//    一个老师有多个学生</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Student&gt; students;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="按照结果嵌套查询-多用-1"><a href="#按照结果嵌套查询-多用-1" class="headerlink" title="按照结果嵌套查询(多用)"></a>按照<strong>结果</strong>嵌套查询(多用)</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getTeacher&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;TeacherStudent&quot;</span>&gt;</span></span><br><span class="line">        select student.id sid,student.name sname,teacher.name tname,teacher.id tid</span><br><span class="line">               from mybatis.student,mybatis.teacher</span><br><span class="line">        where mybatis.student.tid=teacher.id and teacher.id=#&#123;tid&#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;TeacherStudent&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.haley.pojo.Teacher&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;tname&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        javaType指定属性类型</span></span><br><span class="line"><span class="comment">            集合中的泛型信息,使用ofType获取</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;students&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;com.haley.pojo.Student&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>  <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>  <span class="attr">column</span>=<span class="string">&quot;sname&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;tid&quot;</span>  <span class="attr">column</span>=<span class="string">&quot;tid&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="按照查询嵌套处理-1"><a href="#按照查询嵌套处理-1" class="headerlink" title="按照查询嵌套处理"></a>按照<strong>查询</strong>嵌套处理</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    嵌套查询 加个子查询语句--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getTeacher2&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;TeacherStudent2&quot;</span>&gt;</span></span><br><span class="line">        select * from mybatis.teacher where id=#&#123;tid&#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;TeacherStudent2&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.haley.pojo.Teacher&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;students&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;ArrayList&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;Student&quot;</span> <span class="attr">select</span>=<span class="string">&quot;getStudentByTeacherId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getStudentByTeacherId&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.haley.pojo.Student&quot;</span>&gt;</span></span><br><span class="line">        select * from mybatis.student where tid=#&#123;id&#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>小结</strong></p>
<ul>
<li>关联 - association 【多对一】</li>
<li>集合 - collection 【一对多】</li>
<li>javaType &amp; ofType<ul>
<li>JavaType用来指定实体类中的类型</li>
<li>ofType用来指定映射到List或者集合中的pojo类型，泛型中的约束类</li>
</ul>
</li>
</ul>
<p><strong>注意点</strong>：</p>
<ul>
<li>保证SQL的可读性，尽量保证通俗易懂</li>
<li>注意一对多和多对一，属性名和字段的问题</li>
<li>如果问题不好排查错误，可以使用日志，建议使用Log4j</li>
</ul>
<p>面试高频</p>
<ul>
<li>Mysql引擎</li>
<li>InnoDB底层原理</li>
<li>索引</li>
<li>索引优化</li>
</ul>
<h2 id="动态SQL"><a href="#动态SQL" class="headerlink" title="动态SQL"></a>动态SQL</h2><p><strong>什么是动态SQL：动态SQL就是根据不同的条件生成不同的SQL语句</strong></p>
<p><strong>所谓的动态SQL，本质上还是SQL语句，只是我们可以在SQL层面，去执行一个逻辑代码</strong></p>
<blockquote>
<p>动态 SQL 是 MyBatis 的强大特性之一。如果你使用过 JDBC 或其它类似的框架，你应该能理解根据不同条件拼接 SQL 语句有多痛苦，例如拼接时要确保不能忘记添加必要的空格，还要注意去掉列表最后一个列名的逗号。利用动态 SQL，可以彻底摆脱这种痛苦</p>
</blockquote>
<p>if<br>        choose(when otherwise)<br>        trim(where set)<br>        foreach</p>
<h3 id="搭建环境"><a href="#搭建环境" class="headerlink" title="搭建环境"></a>搭建环境</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `mybatis`.`blog`  (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;博客id&#x27;</span>,</span><br><span class="line">  `title` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;博客标题&#x27;</span>,</span><br><span class="line">  `author` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;博客作者&#x27;</span>,</span><br><span class="line">  `create_time` datetime(<span class="number">0</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">  `views` <span class="type">int</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;浏览量&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>创建一个基础工程</p>
<ol>
<li><p>导包</p>
</li>
<li><p>编写配置文件</p>
</li>
<li><p>编写实体类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Blog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span>  String author;</span><br><span class="line">    <span class="keyword">private</span> Date createTime;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> views;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>编写mapper接口和mapper.xml</p>
</li>
</ol>
<h3 id="IF语句"><a href="#IF语句" class="headerlink" title="IF语句"></a>IF语句</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryBlogIF&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;blog&quot;</span>&gt;</span></span><br><span class="line">    select * from blog</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title!=null&quot;</span>&gt;</span></span><br><span class="line">            and title = #&#123;title&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author!=null&quot;</span>&gt;</span></span><br><span class="line">            and author = #&#123;author&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="choose-when-otherwise"><a href="#choose-when-otherwise" class="headerlink" title="choose(when,otherwise)"></a>choose(when,otherwise)</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryBlogChoose&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.haley.pojo.Blog&quot;</span>&gt;</span></span><br><span class="line">    select * from mybatis.blog</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;title!=null&quot;</span>&gt;</span></span><br><span class="line">               title=#&#123;title&#125;</span><br><span class="line">           <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;author != null&quot;</span>&gt;</span></span><br><span class="line">                and author=#&#123;author&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">otherwise</span>&gt;</span></span><br><span class="line">                and views=#&#123;views&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="trim-where-set"><a href="#trim-where-set" class="headerlink" title="trim(where set)"></a>trim(where set)</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">where把多余and去掉</span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryBlogIF&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.haley.pojo.Blog&quot;</span>&gt;</span></span><br><span class="line">#         select * from mybatis.blog where 1=1</span><br><span class="line">        select * from mybatis.blog</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title != null&quot;</span>&gt;</span></span><br><span class="line">            and title=#&#123;title&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author != null&quot;</span>&gt;</span></span><br><span class="line">            and author=#&#123;author&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">set把多余,去掉</span><br><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;UpdateBlog&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> &gt;</span></span><br><span class="line">        update mybatis.blog</span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title!=null&quot;</span>&gt;</span></span><br><span class="line">                title=#&#123;title&#125;,</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author!=null&quot;</span>&gt;</span></span><br><span class="line">                author=#&#123;author&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">        where id=#&#123;id&#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="sql片段"><a href="#sql片段" class="headerlink" title="sql片段"></a>sql片段</h3><p>有的时候，我们可能会将一些功能的部分抽取出来，方便服用！</p>
<ol>
<li><p>使用SQL标签抽取公共部分可</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;if-title-author&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;title!=null&quot;</span>&gt;</span></span><br><span class="line">        title = #&#123;title&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;author!=null&quot;</span>&gt;</span></span><br><span class="line">        and author = #&#123;author&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>在需要使用的地方使用Include标签引用即可</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&lt;</span><span class="keyword">select</span> id<span class="operator">=</span>&quot;queryBlogIF&quot; parameterType<span class="operator">=</span>&quot;map&quot; resultType<span class="operator">=</span>&quot;blog&quot;<span class="operator">&gt;</span></span><br><span class="line">    <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> blog</span><br><span class="line">    <span class="operator">&lt;</span><span class="keyword">where</span><span class="operator">&gt;</span></span><br><span class="line">        <span class="operator">&lt;</span>include refid<span class="operator">=</span>&quot;if-title-author&quot;<span class="operator">&gt;</span><span class="operator">&lt;</span><span class="operator">/</span>include<span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span><span class="operator">/</span><span class="keyword">where</span><span class="operator">&gt;</span></span><br><span class="line"><span class="operator">&lt;</span><span class="operator">/</span><span class="keyword">select</span><span class="operator">&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>注意事项：</p>
<ul>
<li>最好基于单标来定义SQL片段</li>
<li>不要存在where标签</li>
</ul>
<h3 id="Foreach"><a href="#Foreach" class="headerlink" title="Foreach"></a>Foreach</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> (id<span class="operator">=</span><span class="number">1</span> <span class="keyword">or</span> id<span class="operator">=</span><span class="number">2</span> <span class="keyword">or</span> id<span class="operator">=</span><span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>动态 SQL 的另一个常见使用场景是对集合进行遍历（尤其是在构建 IN 条件语句的时候）。比如：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    select * from blog where 1=1 and (id=1 or id=2 or id=3);</span></span><br><span class="line"><span class="comment">        现在传递一个map,map里相当于ids,要放一个集合</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryBlogForeach&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.haley.pojo.Blog&quot;</span>&gt;</span></span><br><span class="line">        select * from mybatis.blog</span><br><span class="line">        <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;ids&quot;</span> <span class="attr">item</span>=<span class="string">&quot;id&quot;</span> <span class="attr">open</span>=<span class="string">&quot;and (&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;or&quot;</span>&gt;</span></span><br><span class="line">                id = #&#123;id&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>动态SQL就是在拼接SQL语句，我们只要保证SQL的正确性，按照SQL的格式，去排列组合就可以了</strong></p>
<p>建议：</p>
<ul>
<li>先在Mysql中写出完整的SQL，再对应的去修改成我们的动态SQL实现通用即可</li>
</ul>
<h2 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>查询 ： 连接数据库，耗资源<br>             一次查询的结果，给他暂存一个可以直接取到的地方 –&gt; 内存：缓存<br>我们再次查询的相同数据的时候，直接走缓存，不走数据库了</p>
</blockquote>
<ul>
<li><p>什么是缓存[Cache]？</p>
<ul>
<li>存在内存中的临时数据</li>
<li>将用户经常查询的数据放在缓存（内存）中，用户去查询数据就不用从磁盘上（关系型数据库文件）查询，从缓存中查询，从而提高查询效率，解决了高并发系统的性能问题</li>
</ul>
</li>
<li><p>为什么使用缓存？<br>减少和数据库的交互次数，减少系统开销，提高系统效率</p>
</li>
<li><p>什么样的数据可以使用缓存？<br>经常查询并且不经常改变的数据 【可以使用缓存】</p>
</li>
</ul>
<h3 id="MyBatis缓存"><a href="#MyBatis缓存" class="headerlink" title="MyBatis缓存"></a>MyBatis缓存</h3><ul>
<li>MyBatis包含一个非常强大的查询缓存特性，它可以非常方便的定制和配置缓存，缓存可以极大的提高查询效率。</li>
<li>MyBatis系统中默认定义了两级缓存：一级缓存和二级缓存<ul>
<li>默认情况下，只有一级缓存开启（SqlSession级别的缓存，也称为本地缓存）</li>
<li>二级缓存需要手动开启和配置，他是基于namespace级别的缓存。</li>
<li>为了提高可扩展性，MyBatis定义了缓存接口Cache。我们可以通过实现Cache接口来定义二级缓存</li>
</ul>
</li>
</ul>
<h3 id="一级缓存"><a href="#一级缓存" class="headerlink" title="一级缓存"></a>一级缓存</h3><ul>
<li>一级缓存也叫本地缓存：SqlSession<ul>
<li>与数据库同一次会话期间查询到的数据会放在本地缓存中</li>
<li>以后如果需要获取相同的数据，直接从缓存中拿，没必要再去查询数据库</li>
</ul>
</li>
</ul>
<p>测试步骤：</p>
<ol>
<li><p>开启日志</p>
</li>
<li><p>测试在一个Session中查询两次记录</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">       SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">       UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">       User user = mapper.queryUserById(<span class="number">1</span>);</span><br><span class="line">       System.out.println(user);</span><br><span class="line">   </span><br><span class="line">       System.out.println(<span class="string">&quot;===========================&quot;</span>);</span><br><span class="line">       User user2 = mapper.queryUserById(<span class="number">1</span>);</span><br><span class="line">       System.out.println(user2);</span><br><span class="line">   </span><br><span class="line">       System.out.println(user==user2);<span class="comment">//true</span></span><br><span class="line">   </span><br><span class="line">       sqlSession.close();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>3.查看日志输出</p>
</li>
</ol>
<p><strong>缓存失效的情况：</strong></p>
<ol>
<li><p>查询不同的东西</p>
</li>
<li><p>增删改操作，可能会改变原来的数据，所以必定会刷新缓存</p>
</li>
<li><p>查询不同的Mapper.xml</p>
</li>
<li><p>手动清理缓存</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlSession.clearCache();<span class="comment">//手动清理缓存</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>一级缓存默认开启,只在Sqlsession中有效,也就是拿到连接到关闭连接的这个区间段</p>
<h3 id="二级缓存"><a href="#二级缓存" class="headerlink" title="二级缓存"></a>二级缓存</h3><ul>
<li>二级缓存**(关闭一级缓存)**也叫全局缓存，一级缓存作用域太低了，所以诞生了二级缓存</li>
<li>基于namespace级别的缓存，一个名称空间，对应一个二级缓存</li>
<li>工作机制<ul>
<li>一个会话查询一条数据，这个数据就会被放在当前会话的一级缓存中</li>
<li>如果会话关闭了，这个会员对应的一级缓存就没了；但是我们想要的是，会话关闭了，一级缓存中的数据被保存到二级缓存中</li>
<li>新的会话查询信息，就可以从二级缓存中获取内容<br>不同的mapper查询出的数据会放在自己对应的缓存（map）中</li>
</ul>
</li>
</ul>
<p>一级缓存开启（SqlSession级别的缓存，也称为本地缓存）</p>
<ul>
<li>二级缓存需要手动开启和配置，他是基于namespace级别的缓存</li>
<li>为了提高可扩展性，MyBatis定义了缓存接口Cache。我们可以通过实现Cache接口来定义二级缓存。</li>
</ul>
<p>步骤：</p>
<ul>
<li><p>1.开启全局缓存在mybatis xml中</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;-- 开启全局缓存 二级缓存--&gt;</span><br><span class="line">       <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;cacheEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>2.在要使用二级缓存的mapper中开启</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    在当前mapper.xml中使用二级缓存--&gt;</span></span><br><span class="line">    &lt;cache</span><br><span class="line">            eviction=&quot;FIFO&quot;</span><br><span class="line">            flushInterval=&quot;60000&quot;</span><br><span class="line">            size=&quot;512&quot;</span><br><span class="line">            readOnly=&quot;true&quot;/&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>测试</p>
<p>1.问题:需要将实体类序列化,否则会报错,如果只写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;cache&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">要在实体类加 implements Serializable</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>小结：</strong></p>
<ul>
<li>只要开启了二级缓存，在同一个Mapper下就有效</li>
<li>所有的数据都会放在一级缓存中</li>
<li>只有当前会话提交，或者关闭的时候，才会提交到二级缓存中</li>
</ul>
<h3 id="sqlSession原理图"><a href="#sqlSession原理图" class="headerlink" title="sqlSession原理图"></a>sqlSession原理图</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/DDDDeng_/article/details/106927021">https://blog.csdn.net/DDDDeng_/article/details/106927021</a></p>
<h3 id="自定义缓存-ehcache"><a href="#自定义缓存-ehcache" class="headerlink" title="自定义缓存-ehcache"></a>自定义缓存-ehcache</h3><p>Ehcache是一种广泛使用的开源Java分布式缓存。主要面向通用缓存</p>
<p>1.导包</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.caches<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-ehcache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.在mapper中指定使用我们的ehcache缓存实现</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">cache</span> <span class="attr">type</span>=<span class="string">&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/03/30/mysql%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/30/mysql%E6%80%BB%E7%BB%93/" itemprop="url">mysql总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-30T14:13:34Z">
                2021-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h2><h3 id="初识mysql"><a href="#初识mysql" class="headerlink" title="初识mysql"></a>初识mysql</h3><p>javaee:企业级java开发 Web<br>       <strong>前端</strong>(页面:展示 数据)   后台(连接点:链接数据库JDBC,链接前端(控制, 控制视图跳转,给前端传数据))<br>       <strong>数据库</strong>:(存数据,Txt,excel,word),是所有软件体系中最核心的存在   DBA</p>
<ul>
<li><p>什么是数据库?</p>
<p>数据库(DB):        </p>
<pre><code>    概念:数据仓库,软件,安装在操作系统之上.sql,可以存储大量数据,500万
    作用:存数据(DB),管理数据(DBMS)
</code></pre>
</li>
<li><p>数据库分类</p>
<p><strong>关系型数据库:</strong>(SQL)</p>
<ul>
<li>MYSQL Oracle,sql Server,DB2,SQLlite</li>
<li>通过表和表之间,行和列之间的关系进行数据存储   学员表,考勤表</li>
</ul>
<p><strong>非关系型数据库</strong>:( Not Only A SQL)</p>
<ul>
<li><p>Redis,MongDB</p>
</li>
<li><p>对象存储,通过对象的自身属性来决定</p>
<p>$\textcolor{red}{DBMS(数据库管理系统)} $</p>
</li>
<li><p>数据库管理软件,管理操作数据</p>
</li>
</ul>
</li>
<li><p>MYSQL(使用SQL语言)</p>
<p>​    mysql是一个<strong>关系型数据库</strong> ,由瑞典MySQL AB 公司开发，属于 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Oracle">Oracle</a> 旗下产品。<br>​    MySQL是最好的 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/RDBMS/1048260">RDBMS</a> (Relational Database Management System，关系数据库管理系统) 应用软件之一。开源软件,体积小,速度快,成本低,可以做集群</p>
</li>
</ul>
<h3 id="MySQL命令"><a href="#MySQL命令" class="headerlink" title="MySQL命令"></a>MySQL命令</h3><p>1.一些命令</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">启动服务 net <span class="keyword">start</span> mysql</span><br><span class="line">停止服务 net stop mysql</span><br><span class="line">连接数据库:mysql <span class="operator">-</span>u root <span class="operator">-</span>p</span><br><span class="line">连接数据库:mysql <span class="operator">-</span>u root <span class="operator">-</span>p<span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span>(密码)</span><br><span class="line">清空服务 sc <span class="keyword">delete</span> mysql</span><br><span class="line">刷新: flush privileges;</span><br><span class="line"><span class="comment">------------------------------------</span></span><br><span class="line">所有数据使用<span class="string">&#x27;;&#x27;</span>结尾</span><br><span class="line">查看数据库:<span class="keyword">show</span> databases;</span><br><span class="line">切换数据库:use school</span><br><span class="line">查看所有表:<span class="keyword">show</span> tables;</span><br><span class="line">查看表中信息:<span class="keyword">describe</span> school;</span><br><span class="line"></span><br><span class="line">创建一个数据库: <span class="keyword">create</span> database  westos;</span><br><span class="line">退出连接:exit</span><br><span class="line">注释:<span class="comment">--(sql)单行</span></span><br><span class="line">	<span class="comment">/* */</span>   #  多行注释</span><br></pre></td></tr></table></figure>

<p>2.安装sqlyog(可视化mysql)</p>
<p>​    创建school数据库<br>​                基字符集:utf8<br>​                数据库排序规则:utf8_general_ci<br>​                $\textcolor{yellow}{每一个sqlyog执行的操作,本质上就是对应了一个sql,可在软件历史记录中查看} $</p>
<p>​    查看表,添加记录</p>
<p>3.mysql四种语言:CRUD 增删改查        CV程序员  API程序员  CRUD(业务程序员)<br>    数据库xxx语言<br>            DDL:定义<br>            DML:操作<br>            DQL:查询<br>            DCL:控制</p>
<h3 id="使用数据库"><a href="#使用数据库" class="headerlink" title="使用数据库"></a>使用数据库</h3><p>操作数据库-&gt;操作数据库表-&gt;操作数据库表的数据</p>
<p>$\textcolor{yellow}{mysql数据库不区分大小写} $</p>
<h4 id="操作数据库"><a href="#操作数据库" class="headerlink" title="操作数据库"></a>操作数据库</h4><ul>
<li><p>创建数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] westos <span class="operator">/</span><span class="operator">/</span>中括号表示可选,大括号必选</span><br></pre></td></tr></table></figure></li>
<li><p>删除数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE  IF <span class="keyword">EXISTS</span> westos</span><br></pre></td></tr></table></figure></li>
<li><p>使用数控库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 如果你的表名或字段名是一个特殊字符,需要带`</span></span><br><span class="line">USE `school`</span><br></pre></td></tr></table></figure></li>
<li><p>查看数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> DATABASES</span><br></pre></td></tr></table></figure>

<p>学习:</p>
<ul>
<li>对照sqlyog可视化查看sql</li>
<li>固定语法和关键字记住</li>
</ul>
</li>
</ul>
<h4 id="数据库列类型"><a href="#数据库列类型" class="headerlink" title="数据库列类型"></a>数据库列类型</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">数值</span><br><span class="line">	tinyint 十分小的数据 <span class="number">1</span>个字节</span><br><span class="line">	<span class="type">smallint</span> 较小的数据   <span class="number">2</span>个字节</span><br><span class="line">	mediumint 中等大小数据  <span class="number">3</span>个字节</span><br><span class="line">	<span class="type">int</span>  	标准数据	<span class="number">4</span>个字节  常用</span><br><span class="line">	<span class="type">bigint</span>   较大数据  <span class="number">8</span>个字节</span><br><span class="line">	<span class="type">float</span>    单精度浮点数  <span class="number">4</span>个字节</span><br><span class="line">	<span class="keyword">double</span>   双精度浮点数   <span class="number">8</span>个字节(精度问题)</span><br><span class="line">	<span class="type">decimal</span>  字符串形式的浮点数  金融计算的时候,一般使用<span class="type">decimal</span></span><br><span class="line">字符串</span><br><span class="line">	<span class="type">char</span>  字符串固定大小的 <span class="number">0</span><span class="number">-255</span></span><br><span class="line">	<span class="type">varchar</span>  可变字符串  <span class="number">0</span><span class="number">-65535</span>  <span class="operator">/</span><span class="operator">/</span>常用 String</span><br><span class="line">	tinytext   微型文本  <span class="number">2</span><span class="operator">^</span><span class="number">8</span><span class="number">-1</span></span><br><span class="line">	text      文本串     <span class="number">2</span><span class="operator">^</span><span class="number">16</span><span class="number">-1</span>   保存大文本</span><br><span class="line">时间和日期</span><br><span class="line">	<span class="type">date</span>  YYYY<span class="operator">-</span>MM<span class="operator">-</span>DD 日期</span><br><span class="line">	<span class="type">time</span>  HH:mm:ss  时间格式</span><br><span class="line">	datetime  YYYY<span class="operator">-</span>MM<span class="operator">-</span>DD HH:mm:ss  最常用的时间格式</span><br><span class="line">	<span class="type">timestamp</span>  时间戳  <span class="number">1970</span> <span class="number">1</span>月<span class="number">1</span>到现在毫秒数  较为常用</span><br><span class="line">	<span class="keyword">year</span> 年份表示</span><br><span class="line"><span class="keyword">null</span></span><br><span class="line">	没有值 空值</span><br><span class="line">	注意:不要使用<span class="keyword">null</span>进行运算,结果为<span class="keyword">null</span></span><br></pre></td></tr></table></figure>

<h4 id="数据库的字段属性"><a href="#数据库的字段属性" class="headerlink" title="数据库的字段属性"></a>数据库的字段属性</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Unsigned</span><br><span class="line">	无符号整数</span><br><span class="line">	声明了该列不能声明为负数</span><br><span class="line">zerofill</span><br><span class="line">	<span class="number">0</span>填充的</span><br><span class="line">	不足的位数使用<span class="number">0</span>来填充  <span class="type">int</span>(<span class="number">3</span>)  <span class="number">5</span> <span class="number">005</span></span><br><span class="line">自增</span><br><span class="line">	通常理解为自增:自动在上一条记录的基础上<span class="operator">+</span><span class="number">1</span>(默认)</span><br><span class="line">	通常用于设置唯一的主键  index  必须是整数类型</span><br><span class="line">	可以自定义设计主键自增起始值和步长</span><br><span class="line">非空 <span class="keyword">NUll</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">	假设设置为<span class="keyword">not</span> <span class="keyword">null</span>,如果不给它赋值,就会报错<span class="operator">!</span></span><br><span class="line">	<span class="keyword">Null</span>, 如果不填写值,默认就是<span class="keyword">null</span></span><br><span class="line">默认</span><br><span class="line">	设置默认的值</span><br><span class="line">	sex,默认值为男,如果不指定该列的值,则会有默认的值</span><br><span class="line">每个表都几乎必须有以下<span class="number">5</span>个字段</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">id 主键</span></span><br><span class="line"><span class="comment">version 乐观锁</span></span><br><span class="line"><span class="comment">is_delete 伪删除</span></span><br><span class="line"><span class="comment">gmt_create 创建时间</span></span><br><span class="line"><span class="comment">gmt _update 修改时间</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="创建数据库表"><a href="#创建数据库表" class="headerlink" title="创建数据库表"></a>创建数据库表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">目标:创建一个school数据库</span></span><br><span class="line"><span class="comment">创建学生表(列,字段) 使用sql创建</span></span><br><span class="line"><span class="comment">学号int  登陆密码varchar(20) 姓名 性别varchar(2)</span></span><br><span class="line"><span class="comment">出生日期(datatime) 家庭住址,email</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">注意点: 使用英文(),表的名称和字段尽量使用``括起来</span></span><br><span class="line"><span class="comment">AUTO_INCREMENT 自增</span></span><br><span class="line"><span class="comment">字符串一般使用单引号括起来</span></span><br><span class="line"><span class="comment">所有语句后面逗号,最后一个不加</span></span><br><span class="line"><span class="comment">PRIMARY KEY 主键 一般一个表只有一个唯一的主键</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`sex`  <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span>  COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf`student`<span class="number">8</span></span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line"> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">          `id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">          `name` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">          `pwd` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">          `sex` <span class="type">varchar</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span> COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">          `birthday` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">          `address` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">          `email` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">          <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">        ) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">格式:</span><br><span class="line">        <span class="keyword">CREATE</span> <span class="keyword">TABLE</span>[ IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> ] `表名`(</span><br><span class="line">        `字段名` 列类型 [属性] [索引] [注释],</span><br><span class="line">        `字段名` 列类型 [属性] [索引] [注释],</span><br><span class="line">            .....</span><br><span class="line">        `字段名` 列类型 [属性] [索引] [注释]</span><br><span class="line">        )[表类型] [字符集设置] [注释]</span><br><span class="line">常用命令:</span><br><span class="line">	<span class="keyword">SHOW</span> <span class="keyword">CREATE</span> DATABASE school  <span class="comment">-- 查看创建数据库的语句</span></span><br><span class="line">    <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student <span class="comment">-- 查看student数据表定义语句</span></span><br><span class="line">    <span class="keyword">DESC</span> student <span class="comment">-- 显示表的数据结构</span></span><br><span class="line">       </span><br></pre></td></tr></table></figure>

<h4 id="数据表的类型-针对MySQL5-0"><a href="#数据表的类型-针对MySQL5-0" class="headerlink" title="数据表的类型(针对MySQL5.0)"></a>数据表的类型(针对MySQL5.0)</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INNODB默认使用</span><br><span class="line">MYISAM 早些年使用</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th></th>
<th>MYISAM</th>
<th>INNODB</th>
</tr>
</thead>
<tbody><tr>
<td>事物支持</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>数据行锁定</td>
<td>表锁,不支持</td>
<td>支持</td>
</tr>
<tr>
<td>外键约束</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>全文搜索</td>
<td>支持</td>
<td>支持全英文搜索</td>
</tr>
<tr>
<td>表空间大小</td>
<td>较小</td>
<td>较大,约为前者2倍</td>
</tr>
<tr>
<td>好处</td>
<td>节约空间,速度较快</td>
<td>安全性高,事务处理,多表多用户操</td>
</tr>
</tbody></table>
<p><strong>物理空间存储位置</strong></p>
<p>所有数据文件都存在data目录下,一个文件夹就对应一个数据库,本质还是文件存储</p>
<pre><code>    MYSQL引擎在屋里文件上区别
    --INoodb在数据库表中只有一个.frm文件,以及上级目录下单ibdata1文件
    MYISAM对应文件
            .frm 表结构定义文件
            .MYD 数据文件(data)
            . MYI索引文件(index)
</code></pre>
<p><strong>设置数据库表字符编码</strong><br>        <code>charset=utf8</code><br>        不设置的话,会是MySQL默认的字符编码(不支持中文),MySQL的默认编码是Latin1<br>        也可在my.ini中配置默认的编码<br>        <code>charset-set-server=utf8</code></p>
<h4 id="修改和删除表"><a href="#修改和删除表" class="headerlink" title="修改和删除表"></a>修改和删除表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改表名  ALTER TABLE 旧表名 RENAME AS 新表名</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher RENAME <span class="keyword">AS</span> teacher1</span><br><span class="line"><span class="comment">-- 增加表的字段 ALTER TABLE 表名 ADD 字段名 列属性</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 <span class="keyword">ADD</span> age <span class="type">INT</span>(<span class="number">11</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改表的字段(重命名 修改约束)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 MODIFY 字段名 列属性(<span class="number">11</span>)</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 MODIFY age <span class="type">VARCHAR</span>(<span class="number">11</span>)<span class="comment">-- 修改约束(字段类型)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 CHANGE 旧名字 新名字 列属性(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 CHANGE age age1 <span class="type">INT</span>(<span class="number">1</span>) <span class="comment">-- 字段重命名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除表的字段</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">DROP</span> 字段名</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 <span class="keyword">DROP</span> age1</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除表(如果表存在)</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> teacher1</span><br></pre></td></tr></table></figure>

<p><strong>所有创建和删除操作尽量加上判断,以免报错</strong><br>    <strong>注意点</strong></p>
<ul>
<li>``字段名,使用它包裹    注释: – /* */   所有符号全部用英文</li>
</ul>
<h3 id="mysql数据管理"><a href="#mysql数据管理" class="headerlink" title="mysql数据管理"></a>mysql数据管理</h3><h4 id="外键-了解"><a href="#外键-了解" class="headerlink" title="外键(了解)"></a>外键(了解)</h4><p>方式一 在创建表的时候增加约束(麻烦,复杂)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> grade(</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级id&#x27;</span>,</span><br><span class="line">`gradename` <span class="type">VARCHAR</span> (<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级名称&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`gradeid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 学生表的gradeid字段 要去引用年龄表的gradeid</span></span><br><span class="line"> <span class="comment">-- 定义外键key</span></span><br><span class="line"> <span class="comment">-- 给这个外键添加约束(执行引用) references</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`sex`  <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span>  COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学生年级&#x27;</span>,</span><br><span class="line">`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`),</span><br><span class="line">KEY `FK_gradeid` (`gradeid`),</span><br><span class="line"><span class="keyword">CONSTRAINT</span> `FK_gradeid` <span class="keyword">FOREIGN</span> KEY (`gradeid`) <span class="keyword">REFERENCES</span> `grade`(`gradeid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line">删除有外键关系的表的时候,必须先删除引用别人的表(从表) 再删除倍引用的表(主表)</span><br></pre></td></tr></table></figure>

<p>方式二: 创建表成功后,添加外键约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> grade(</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级id&#x27;</span>,</span><br><span class="line">`gradename` <span class="type">VARCHAR</span> (<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级名称&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`gradeid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 学生表的gradeid字段 要去引用年龄表的gradeid</span></span><br><span class="line"> <span class="comment">-- 定义外键key</span></span><br><span class="line"> <span class="comment">-- 给这个外键添加约束(执行引用) references</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`sex`  <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span>  COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学生年级&#x27;</span>,</span><br><span class="line">`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="comment">-- 创建表的时候没有外键关系</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `student`</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> `FK_gradeid` <span class="keyword">FOREIGN</span> KEY(`gradeid`) <span class="keyword">REFERENCES</span> `grade`(`gradeid`)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ALTER TABLE `表名`</span></span><br><span class="line"><span class="comment">-- ADD CONSTRAINT `FK_约束名` FOREIGN KEY(`外键列名`) REFERENCES `所引用表的名字`(`引用该表的字段`)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>以上操作是物理外键,数据库级别的外键,不建议使用!(避免数据库过多,这里了解即可)<br>    <strong>最佳实践</strong>:<br>        数据库是单纯表,只是用来存数据,只有行(数据)和列(字段)<br>        想使用多张表的数据,用外键,可以程序实现</p>
<h4 id="DML语言-全记住"><a href="#DML语言-全记住" class="headerlink" title="DML语言(全记住)"></a>DML语言(全记住)</h4><h5 id="Insert-添加"><a href="#Insert-添加" class="headerlink" title="Insert(添加)"></a>Insert(添加)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 插入语句(添加)</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名([字段名<span class="number">1</span>,字段<span class="number">2</span>,字段名<span class="number">3</span>]) <span class="keyword">VALUES</span> (<span class="string">&#x27;值1&#x27;</span>,<span class="string">&#x27;值2&#x27;</span>,<span class="string">&#x27;值3&#x27;</span>...)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `grade`(`gradename`) <span class="keyword">VALUES</span> (<span class="string">&#x27;大四&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 由于主键自增,我们可以省略主键(如果不写表的字段,他就会一一匹配,这里会把大三赋值给id报错)</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `grade` <span class="keyword">VALUES</span> (<span class="string">&#x27;大三&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 一般插入语句,我们一定要数据与字段一一匹配</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `grade`(`gradename`) <span class="keyword">VALUES</span>(<span class="string">&#x27;大二&#x27;</span>),(<span class="string">&#x27;大一&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student`(`gradeid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student`(`name`) <span class="keyword">VALUES</span> (<span class="string">&#x27;张三&#x27;</span>)</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>这里gradeid必须加上,可能是mysql8<span class="number">.0</span>引用问题</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student`(`name`,`pwd`,`sex`,`gradeid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;aaaa&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">2</span>),(<span class="string">&#x27;王五&#x27;</span>,<span class="string">&#x27;aaaa&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">5</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;aaaa&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;2000-01-01&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;西安&#x27;</span>,<span class="string">&#x27;email&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>注意: 1.字段与字段之间英文逗号隔开<br>                2.字段是可以省略的,但是后边值需要一一对应<br>                3.可以同时插入多条语句,values后边值,需要使用,隔开即可          values(),()</p>
<h5 id="update-修改"><a href="#update-修改" class="headerlink" title="update(修改)"></a>update(修改)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">update 修改谁(条件)  <span class="keyword">set</span> 原来的值<span class="operator">=</span>新值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改学员名字 带有简洁</span></span><br><span class="line">UPDATE `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;haley&#x27;</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 不指定条件,会改动所有</span></span><br><span class="line">UPDATE `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;haley5&#x27;</span></span><br><span class="line"><span class="comment">-- 修改多个属性,逗号隔开</span></span><br><span class="line">UPDATE `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;haley&#x27;</span>,`email`<span class="operator">=</span><span class="string">&#x27;2743286169@qq.com&#x27;</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--语法</span></span><br><span class="line"><span class="comment">--UPDATE `表名` SET `列名`=&#x27;value&#x27;,[`列名`=&#x27;value&#x27;....] WHERE [条件];</span></span><br></pre></td></tr></table></figure>

<p>条件: where语句       id=某个值    大于某个值       在某个区间内修改….<br>    <strong>操作符会返回布尔值</strong></p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
<th>范围</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>等于</td>
<td>5=6</td>
<td>false</td>
</tr>
<tr>
<td>&lt;&gt;或!=</td>
<td>不等于</td>
<td>5&lt;&gt;6</td>
<td>true</td>
</tr>
<tr>
<td>&gt;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&gt;=</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;=</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>BETWEEN..AND..</td>
<td>[5,7]</td>
<td>在某个范围内</td>
<td></td>
</tr>
<tr>
<td>AND</td>
<td>我和你&amp;&amp;</td>
<td>5&gt;1 and 1&gt;2</td>
<td>false</td>
</tr>
<tr>
<td>OR</td>
<td>我或你</td>
<td>5&gt;1 and 1&gt;2</td>
<td>true</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 通过多个条件定位数据 无上限</span></span><br><span class="line">UPDATE `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;哈哈哈&#x27;</span> <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;haok&#x27;</span> <span class="keyword">AND</span> `gradeid`<span class="operator">=</span><span class="string">&#x27;1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>语法: ==–UPDATE <code>表名</code> SET <code>列名</code>=’value’,[<code>列名</code>=’value’….] WHERE [条件];==<br>        注意:<br>            数据库列名带上``<br>            条件:筛选条件,如果没有指定,则会修改所有列<br>            value,是一个具体的值,也可以是一个变量<br>            多个设置的属性之间使用逗号隔开</p>
<h5 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h5><p>语法: ==delete from 表名 [where 条件]==</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除指定数据</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student` <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">5</span></span><br><span class="line"><span class="comment">--删除数据(全部)</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student`</span><br><span class="line"></span><br><span class="line"><span class="keyword">TRUNCATE</span> 命令:完全清空一个数据表 表单结构和索引约束不会变</span><br><span class="line"><span class="comment">-- 清空student表</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> `student`</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span>和<span class="keyword">truncate</span>区别</span><br><span class="line">相同点:都能删除数据 都不会删除表结构</span><br><span class="line">不同:<span class="keyword">TRUNCATE</span> 重新设置 自增列 计数器会归零</span><br><span class="line">	TRUCATE 不会影响事务</span><br><span class="line"><span class="comment">-- 测试delete和truncate区别</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `test`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">`coll` <span class="type">VARCHAR</span> (<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">)ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `test` (`coll`) <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>),(<span class="string">&#x27;2&#x27;</span>),(<span class="string">&#x27;3&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">DELETE</span> <span class="keyword">FROM</span> `test`<span class="comment">-- 不会影响自增</span></span><br><span class="line"> </span><br><span class="line"> <span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> `test` <span class="comment">-- 自增会归0</span></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p>delete删除问题:重启数据库,现象</p>
<ul>
<li>innoDb 自增列会从1开始(存在内存中的,断电即失去)</li>
<li>mysql  继续从上一个自增量开始(存在文件中,不会丢失)</li>
</ul>
<h3 id="查询数据-最重点"><a href="#查询数据-最重点" class="headerlink" title="查询数据(最重点)"></a>查询数据(最重点)</h3><p>(Data query Language: 数据查询语言)</p>
<ul>
<li><p>所有查询操作都用它 Select</p>
</li>
<li><p>简单查询,复杂查询它都能做</p>
</li>
<li><p>==数据库最核心语言,最重要语句 使用频率最高==,</p>
</li>
<li><p>所有表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> school</span><br><span class="line">USE school</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `grade`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `grade`(</span><br><span class="line"> `GradeID` <span class="type">INT</span> (<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级编号&#x27;</span>,</span><br><span class="line"> `GradeName` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级名称&#x27;</span>,</span><br><span class="line"> <span class="keyword">PRIMARY</span> KEY (`GradeID`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB AUTO_INCREMENT<span class="operator">=</span><span class="number">6</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `grade`(`GradeID`,`GradeName`) <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;大一&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;大二&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;大三&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;大四&#x27;</span>),(<span class="number">5</span>,<span class="string">&#x27;预科班&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `<span class="keyword">result</span>`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">result</span>`(</span><br><span class="line">`StudentNo` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`SubjectNo` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;课程编号&#x27;</span>,</span><br><span class="line">`ExamDate` DATETIME <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;考试日期&#x27;</span>,</span><br><span class="line">`StudentResult` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;考试成绩&#x27;</span>,</span><br><span class="line">KEY `SubjectNo`(`SubjectNo`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">result</span>` <span class="keyword">VALUES</span></span><br><span class="line"> (<span class="number">1000</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">85</span>),</span><br><span class="line"> (<span class="number">1000</span>,<span class="number">2</span>,<span class="string">&#x27;2013-11-12 16:00:00&#x27;</span>,<span class="number">70</span>),</span><br><span class="line"> (<span class="number">1000</span>,<span class="number">3</span>,<span class="string">&#x27;2013-11-11 09:00:00&#x27;</span>,<span class="number">68</span>),</span><br><span class="line"> (<span class="number">1000</span>,<span class="number">4</span>,<span class="string">&#x27;2013-11-13 16:00:00&#x27;</span>,<span class="number">98</span>),</span><br><span class="line"> (<span class="number">1000</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-14 16:00:00&#x27;</span>,<span class="number">58</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `student`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student`(</span><br><span class="line">`StudentNo` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`LoginPwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`StudentName`<span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学生姓名&#x27;</span>,</span><br><span class="line">`Sex` TINYINT(<span class="number">1</span>)  <span class="keyword">DEFAULT</span>  <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;性别,取值0或1&#x27;</span>,</span><br><span class="line">`GradeId` <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级编号&#x27;</span>,</span><br><span class="line">`phone` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;联系电话,允许为空,即可选输入&#x27;</span>,</span><br><span class="line">`Address` <span class="type">VARCHAR</span>(<span class="number">225</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;地址,允许为空,即可选输入&#x27;</span>,</span><br><span class="line">`BornDate` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生时间&#x27;</span>,</span><br><span class="line">`Email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>  COMMENT <span class="string">&#x27;邮箱,允许为空,即可选输入&#x27;</span>,</span><br><span class="line">`IDCard` <span class="type">VARCHAR</span>(<span class="number">18</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;身份证号&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`StudentNo`),</span><br><span class="line"><span class="keyword">UNIQUE</span> KEY `IDCard` (`IDCard`),</span><br><span class="line">KEY `Email` (`Email`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> </span><br><span class="line">(<span class="number">1000</span>,<span class="number">123456</span>,<span class="string">&#x27;张伟&#x27;</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="string">&#x27;13800001234&#x27;</span>,<span class="string">&#x27;北京朝阳&#x27;</span>,<span class="string">&#x27;1980-1-1&#x27;</span>,<span class="string">&#x27;text123@qq.com&#x27;</span>,<span class="string">&#x27;123456198001011234&#x27;</span>),</span><br><span class="line">(<span class="number">1001</span>,<span class="number">123456</span>,<span class="string">&#x27;赵强&#x27;</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="string">&#x27;13800002222&#x27;</span>,<span class="string">&#x27;广东深圳&#x27;</span>,<span class="string">&#x27;1990-1-1&#x27;</span>,<span class="string">&#x27;text111@qq.com&#x27;</span>,<span class="string">&#x27;123456199001011233&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `subject`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `subject`(</span><br><span class="line">`subjectNo` <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;课程编号&#x27;</span>,</span><br><span class="line">`subjectName` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;课程名称&#x27;</span>,</span><br><span class="line">`ClassHour` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学时&#x27;</span>,</span><br><span class="line">`GradeId` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级编号&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`subjectNo`)</span><br><span class="line">)ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET <span class="operator">=</span> utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `subject` <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>,<span class="string">&#x27;高等数学-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;高等数学-1&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;高等数学-1&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),</span><br><span class="line">(<span class="number">4</span>,<span class="string">&#x27;高等数学-1&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),</span><br><span class="line">(<span class="number">5</span>,<span class="string">&#x27;C语言-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">6</span>,<span class="string">&#x27;C语言-1&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">7</span>,<span class="string">&#x27;C语言-1&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),</span><br><span class="line">(<span class="number">8</span>,<span class="string">&#x27;C语言-1&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),</span><br><span class="line">(<span class="number">9</span>,<span class="string">&#x27;Java程序设计-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">10</span>,<span class="string">&#x27;Java程序设计-1&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">11</span>,<span class="string">&#x27;Java程序设计-1&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),</span><br><span class="line">(<span class="number">12</span>,<span class="string">&#x27;Java程序设计-1&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),</span><br><span class="line">(<span class="number">13</span>,<span class="string">&#x27;数据库结构-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">14</span>,<span class="string">&#x27;数据库结构-1&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">15</span>,<span class="string">&#x27;数据库结构-1&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),</span><br><span class="line">(<span class="number">16</span>,<span class="string">&#x27;数据库结构-1&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),</span><br><span class="line">(<span class="number">17</span>,<span class="string">&#x27;C#基础&#x27;</span>,<span class="number">130</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="指定查询字段"><a href="#指定查询字段" class="headerlink" title="指定查询字段"></a>指定查询字段</h4><p>==select 字段… from 表==</p>
<p>列名不是见名知义,我们起别名   AS 字段名  别名    或     表名 as 别名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">查询</span><br><span class="line">    <span class="comment">-- 查询全部学生 select 字段 from 表</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 查询指定字段</span></span><br><span class="line">    <span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 别名 给结果起一个名字 AS 可以给字段起别名,也可以给表起别名</span></span><br><span class="line">    <span class="keyword">SELECT</span> `StudentNo` <span class="keyword">AS</span> 学号,`StudentName` <span class="keyword">AS</span> <span class="string">&#x27;学生姓名&#x27;</span> <span class="keyword">FROM</span> student <span class="keyword">AS</span> s</span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 函数 concat(a,b)</span></span><br><span class="line">    <span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;姓名:&#x27;</span>,StudentName) <span class="keyword">AS</span> 新名字 <span class="keyword">FROM</span> student</span><br><span class="line"></span><br><span class="line">去重</span><br><span class="line">    <span class="comment">-- 去重 distinct</span></span><br><span class="line">    <span class="comment">-- 作用:取除select 查出来的重复数据 只显示一条</span></span><br><span class="line">    <span class="comment">-- 查询一下哪些同学参加了考试,成绩</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">result</span> <span class="comment">-- 查询全部考试成绩</span></span><br><span class="line">    <span class="comment">-- 查询有哪些同学参加了考试</span></span><br><span class="line">    <span class="keyword">SELECT</span> `StudentNo` <span class="keyword">FROM</span> <span class="keyword">result</span><span class="comment">-- 询一下哪些同学参加了考试</span></span><br><span class="line">    <span class="comment">-- 发现重复数据,去重</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> `StudentNo` <span class="keyword">FROM</span> student</span><br><span class="line">数据库列(表达式)</span><br><span class="line">      <span class="comment">-- 查询系统版本</span></span><br><span class="line">    <span class="keyword">SELECT</span> VERSION() <span class="comment">-- 查询系统版本(函数)</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="number">100</span><span class="operator">*</span><span class="number">3</span><span class="number">-1</span> <span class="keyword">AS</span> 计算结果  <span class="comment">-- 用于计算(计算表达式)</span></span><br><span class="line">    <span class="keyword">SELECT</span> @<span class="variable">@auto</span>_increment_increment  <span class="comment">-- 查询自增的步长(变量)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 学员考试成绩 +1分查看</span></span><br><span class="line">    <span class="keyword">SELECT</span> `StudentNo`,`StudentResult`<span class="operator">+</span><span class="number">1</span> <span class="keyword">AS</span> <span class="string">&#x27;提分后&#x27;</span>  <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>数据库中的表达式:文本值,列,null,函数,计算表达式,系统变量<br>        select ==表达式== from 表</p>
<h4 id="where条件子句"><a href="#where条件子句" class="headerlink" title="where条件子句"></a>where条件子句</h4><p>作用:检索数据中符号条件的值<br>        搜索的条件由一个或多个表达式组成! 结果布尔值</p>
<ul>
<li><p>逻辑运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>and   &amp;&amp;</td>
<td>a and b  a&amp;&amp;b</td>
<td>逻辑与,两真都真</td>
</tr>
<tr>
<td>or  ||</td>
<td>a or b  a||b</td>
<td>逻辑或, 一个真则真</td>
</tr>
<tr>
<td>not  !</td>
<td>not a  !a</td>
<td>逻辑非,真为假,假为真</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">模糊查询 尽量使用英文</span><br><span class="line">        <span class="keyword">SELECT</span> studentno,`StudentResult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">-- 查询考试成绩在95-100之间</span></span><br><span class="line">        <span class="keyword">SELECT</span> `StudentNo`,`StudentResult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line">        <span class="keyword">WHERE</span> studentresult <span class="operator">&gt;=</span><span class="number">95</span> <span class="keyword">AND</span> studentresult<span class="operator">&lt;=</span><span class="number">100</span></span><br><span class="line">         <span class="comment">-- &amp;&amp;</span></span><br><span class="line">        <span class="keyword">SELECT</span> `StudentNo`,`StudentResult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line">        <span class="keyword">WHERE</span> studentresult <span class="operator">&gt;=</span><span class="number">95</span> <span class="operator">&amp;&amp;</span> studentresult<span class="operator">&lt;=</span><span class="number">100</span></span><br><span class="line"></span><br><span class="line">         <span class="comment">-- 模糊查询(区间)</span></span><br><span class="line">         <span class="keyword">SELECT</span> studentNo, studentresult <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line">         <span class="keyword">WHERE</span> studentresult <span class="keyword">BETWEEN</span> <span class="number">95</span> <span class="keyword">AND</span> <span class="number">100</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">-- 除了1000号学生以外的成绩</span></span><br><span class="line">         <span class="keyword">SELECT</span> studentNo, studentresult <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line">         <span class="keyword">WHERE</span> studentNo <span class="operator">!=</span> <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">         <span class="comment">-- != not</span></span><br><span class="line">        <span class="keyword">SELECT</span> studentNo, studentresult <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line">        <span class="keyword">WHERE</span>  <span class="keyword">NOT</span> studentNo <span class="operator">=</span> <span class="number">1000</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>IS NULL</td>
<td>a is null</td>
<td>如果操作符为null,结果为真</td>
</tr>
<tr>
<td>IS Not Null</td>
<td>a is not null</td>
<td>如果操作符为 不为null,结果为真</td>
</tr>
<tr>
<td>BETWEEN</td>
<td>ａ　between　ｂ　ａｎｄ　ｃ</td>
<td>若ａ在ｂ和ｃ之间结果为真</td>
</tr>
<tr>
<td>ｌｉｋｅ</td>
<td>ａ　like　ｂ</td>
<td>SQL匹配，如果ａ匹配ｂ为真，结果为真</td>
</tr>
<tr>
<td>ｉｎ</td>
<td>ａ　ｉｎ　（ａ１，ａ２．．）</td>
<td>假设ａ在ａ1，ａ2其中某个值中结果为真</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ==============模糊查询======================</span></span><br><span class="line"><span class="comment">-- 查询姓张的同学</span></span><br><span class="line"><span class="comment">-- like 结合 %(代表0到任意字符)  _(一个字符)</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName`<span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentName <span class="keyword">LIKE</span> <span class="string">&#x27;赵%&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询姓张同学,名字后边只有一个字</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentName <span class="keyword">LIKE</span> <span class="string">&#x27;张_&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询姓张同学,名字后边只有二个字</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentName <span class="keyword">LIKE</span> <span class="string">&#x27;张__&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询名字当中有强字同学</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentName <span class="keyword">LIKE</span> <span class="string">&#x27;%强%&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- =======in(具体一个或多个值 可以嵌套select)=============</span></span><br><span class="line"><span class="comment">-- 查询1001 1002 1003号学员</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentNo <span class="keyword">IN</span> (<span class="number">1001</span>,<span class="number">1002</span>,<span class="number">1003</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询在北京学生</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> `Address` <span class="keyword">IN</span> (<span class="string">&#x27;北京朝阳&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ==========null not null================</span></span><br><span class="line"><span class="comment">-- 查询地址为空的学生 null &#x27;&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> address<span class="operator">=</span><span class="string">&#x27;&#x27;</span> <span class="keyword">OR</span> address <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询有出生日期的同学  不为空</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `BornDate` <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询有出生日期的同学  为空同学</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `BornDate` <span class="keyword">IS</span>  <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>

<h4 id="联表查询"><a href="#联表查询" class="headerlink" title="联表查询"></a>联表查询</h4><p>JOIN 对比<br>        7种join理论 :<br>                <em>左表</em>: left join  <em>右边</em>: right join <em>交集</em>:inner join</p>
<p><a target="_blank" rel="noopener" href="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2394579370,1336547010&amp;fm=11&amp;gp=0.jpg">https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2394579370,1336547010&amp;fm=11&amp;gp=0.jpg</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =============链表查询 join================ </span></span><br><span class="line"><span class="comment">-- 查询参加考试同学(学号,姓名,科目编号,分数)</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*思路</span></span><br><span class="line"><span class="comment">1.分析查询字段来自那些表(连接查询)</span></span><br><span class="line"><span class="comment">2.确定使用哪种连接查询?7种</span></span><br><span class="line"><span class="comment">3.确定交叉点(这两个表中哪个数据是相同的)</span></span><br><span class="line"><span class="comment">判断的条件:学生表的studentNo = 成绩表的 studentNo  两个表通常取别名</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- join(连接的表) on(判断的条件) 连接查询</span></span><br><span class="line"><span class="comment">-- where 等值查询</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> s.StudentNo,StudentName,SubjectNo,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">ON</span><span class="operator">/</span><span class="keyword">WHERE</span> s.StudentNo<span class="operator">=</span>r.StudentNo</span><br><span class="line"></span><br><span class="line"><span class="comment">-- right join</span></span><br><span class="line"><span class="keyword">SELECT</span> s.StudentNo,SubjectNo,StudentName,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span>  r</span><br><span class="line"><span class="keyword">ON</span> s.StudentNo<span class="operator">=</span>r.StudentNo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- left join</span></span><br><span class="line"><span class="keyword">SELECT</span> s.StudentNo,SubjectNo,StudentName,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span>  r</span><br><span class="line"><span class="keyword">ON</span> s.StudentNo<span class="operator">=</span>r.StudentNo</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询缺考同学</span></span><br><span class="line"><span class="keyword">SELECT</span> s.StudentNo,SubjectNo,StudentName,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span>  r</span><br><span class="line"><span class="keyword">ON</span> s.StudentNo<span class="operator">=</span>r.StudentNo <span class="comment">-- 这里根据左表student 已经查出所有左表信息,即含有全部学生</span></span><br><span class="line"><span class="keyword">WHERE</span> StudentResult <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="comment">-- 这里判断查出的所有学生成绩为空即为未参加考试</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 思考题 (查询参加考试的同学信息:学号,学生姓名,科目名称,分数)</span></span><br><span class="line"><span class="comment">/*思路</span></span><br><span class="line"><span class="comment">1.分析查询字段来自那些表 student result subject(连接查询)</span></span><br><span class="line"><span class="comment">2.确定使用哪种连接查询?7种  由于是参加考试的同学,所以以右表为基准,用右表查询</span></span><br><span class="line"><span class="comment">3.确定交叉点(这两个表中哪个数据是相同的) </span></span><br><span class="line"><span class="comment">	student result通过studentNo连接</span></span><br><span class="line"><span class="comment">	result subject 通过subjectNo连接</span></span><br><span class="line"><span class="comment">判断的条件:学生表的studentNo = 成绩表的 studentNo  两个表通常取别名</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">SELECT</span> s.studentNo,studentName,subjectName,studentResult</span><br><span class="line"><span class="keyword">FROM</span> student s  <span class="comment">-- 左表</span></span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r <span class="comment">-- 以右表为基准查询</span></span><br><span class="line"><span class="keyword">ON</span> r.studentNo<span class="operator">=</span>s.StudentNo</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub  <span class="comment">-- 交叉表查询</span></span><br><span class="line"><span class="keyword">ON</span> r.subjectNo<span class="operator">=</span>sub.subjectNo</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 我要查询哪些数据 select..</span></span><br><span class="line"><span class="comment">-- 从哪几个表查from 表 xxxx Join 连接的表 on 交叉条件</span></span><br><span class="line"><span class="comment">-- 假设存在一种多张表查询,先查询两张表在慢慢增加</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- from a left join b 以a表为基准查询</span></span><br><span class="line"><span class="comment">-- from a right join b  以b表为基准查询</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>操作</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Inner Join</td>
<td>如果表中至少有一个匹配,就返回行</td>
</tr>
<tr>
<td>left join</td>
<td>即使右表中没有匹配,也会从左表中返回所有的值</td>
</tr>
<tr>
<td>right join</td>
<td>即使左表中没有匹配,也会从右表中返回所有的值</td>
</tr>
</tbody></table>
<h4 id="自连接-了解"><a href="#自连接-了解" class="headerlink" title="自连接(了解)"></a>自连接(了解)</h4><p>自己的表和自己的表连接, 核心:<strong>一张表拆为两张一样的表即可</strong><br>    父类:</p>
<table>
<thead>
<tr>
<th>categoryid</th>
<th>categoryName</th>
</tr>
</thead>
<tbody><tr>
<td>2</td>
<td>信息技术</td>
</tr>
<tr>
<td>3</td>
<td>软件开发</td>
</tr>
<tr>
<td>5</td>
<td>美丽设计</td>
</tr>
</tbody></table>
<p>子类:</p>
<table>
<thead>
<tr>
<th>pid</th>
<th>categoryid</th>
<th>categoryName</th>
</tr>
</thead>
<tbody><tr>
<td>3</td>
<td>4</td>
<td>数据库</td>
</tr>
<tr>
<td>2</td>
<td>8</td>
<td>办公信息</td>
</tr>
<tr>
<td>3</td>
<td>6</td>
<td>web开发</td>
</tr>
<tr>
<td>5</td>
<td>7</td>
<td>ps技术</td>
</tr>
</tbody></table>
<p>操作:查询父类对应的子类关系</p>
<table>
<thead>
<tr>
<th>父类</th>
<th>子类</th>
</tr>
</thead>
<tbody><tr>
<td>信息技术</td>
<td>办公信息</td>
</tr>
<tr>
<td>软件开发</td>
<td>数据库</td>
</tr>
<tr>
<td>软件开发</td>
<td>web开发</td>
</tr>
<tr>
<td>美术设计</td>
<td>ps技术</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询父子信息</span></span><br><span class="line"><span class="keyword">SELECT</span> a.`categoryName` <span class="keyword">AS</span> <span class="string">&#x27;父栏目&#x27;</span> ,b.`categoryName` <span class="keyword">AS</span> <span class="string">&#x27;子栏目&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> `category` <span class="keyword">AS</span> a,`category` <span class="keyword">AS</span> b</span><br><span class="line"><span class="keyword">WHERE</span> a.`categoryid`<span class="operator">=</span>b.`pid`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- =========自链接=====================</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `category` (</span><br><span class="line">`categoryid` <span class="type">INT</span> (<span class="number">10</span>) UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;主题id&#x27;</span>,</span><br><span class="line">`pid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;父id&#x27;</span>,</span><br><span class="line">`categoryName` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;主题名字&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`categoryid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `category`(`categoryid`,`pid`,`categoryName`) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;信息技术&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;软件开发&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;数据库&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;美术技术&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;web开发&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;ps技术&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;办公信息&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询父子信息</span></span><br><span class="line"><span class="keyword">SELECT</span> a.`categoryName` <span class="keyword">AS</span> <span class="string">&#x27;父栏目&#x27;</span> ,b.`categoryName` <span class="keyword">AS</span> <span class="string">&#x27;子栏目&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> `category` <span class="keyword">AS</span> a,`category` <span class="keyword">AS</span> b</span><br><span class="line"><span class="keyword">WHERE</span> a.`categoryid`<span class="operator">=</span>b.`pid`</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询学生所属年级 (学号,学生姓名,年级名称)</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName`,`GradeName`</span><br><span class="line"><span class="keyword">FROM</span> `student` s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `grade` g</span><br><span class="line"><span class="keyword">ON</span> s.`GradeID`<span class="operator">=</span>g.`GradeId`</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询科目所属的年级(科目名称,年级名称)</span></span><br><span class="line"><span class="keyword">SELECT</span> `subjectName`,`GradeName`</span><br><span class="line"><span class="keyword">FROM</span> `subject` <span class="keyword">AS</span> sub</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `grade` <span class="keyword">AS</span> g</span><br><span class="line"><span class="keyword">ON</span> sub.`GradeID`<span class="operator">=</span>sub.`GradeId`</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询参加  数据库结构-1 考试同学(学号,姓名,科目编号,分数)</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`StudentNo`,`StudentName`,`subjectName`,`StudentResult`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">ON</span>  s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectNo`<span class="operator">=</span>sub.`subjectNo`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="分页和查询"><a href="#分页和查询" class="headerlink" title="分页和查询"></a>分页和查询</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ========分页 limit 和 排序 order by==============</span></span><br><span class="line"><span class="comment">-- 排序: 升序ASC ,降序DESC</span></span><br><span class="line"><span class="comment">-- ORDER BY  通过哪个字段排序,怎么排序</span></span><br><span class="line"><span class="comment">-- 查询的结果根据 成绩降序 排序</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`StudentNo`,`StudentName`,`subjectName`,`StudentResult`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">ON</span>  s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectNo`<span class="operator">=</span>sub.`subjectNo`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line"><span class="comment">-- Order by `StudentResult` Desc </span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult` <span class="keyword">ASC</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 分页 为什么分页?</span></span><br><span class="line"><span class="comment">-- 缓解数据库压力 给人更好体验 瀑布流</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 分页 每页只显示2条数据</span></span><br><span class="line"><span class="comment">-- 语法:LIMIT     起始值(n-1)*pagesize     页面大小pagesize  n:当前页   数据总数/页面大小=总页数</span></span><br><span class="line"><span class="comment">-- LIMIT 0,2 第1-2条数据</span></span><br><span class="line"><span class="comment">-- LIMIT 3,2 第3-4条数据</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`StudentNo`,`StudentName`,`subjectName`,`StudentResult`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">ON</span>  s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectNo`<span class="operator">=</span>sub.`subjectNo`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line"><span class="comment">-- Order by `StudentResult` Desc </span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult` <span class="keyword">ASC</span></span><br><span class="line"><span class="comment">-- 第一页 limit 0,2  -- 68 70  (1-1)*2</span></span><br><span class="line"><span class="comment">-- 第二页 limit 1,2 -- 70 85  </span></span><br><span class="line"> <span class="comment">-- 第三页  limit 2,2  -- 85 98   (2-1)*2</span></span><br><span class="line"> <span class="comment">-- 第n页  limit (n-1)*pagesize 2为pagesize</span></span><br><span class="line"> <span class="comment">-- 总数</span></span><br><span class="line"> LIMIT <span class="number">3</span>,<span class="number">2</span>  <span class="comment">-- 98</span></span><br><span class="line"> 语法:limit(查询起始下标,pagesize)</span><br></pre></td></tr></table></figure>

<h4 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h4><p>where(这个值是计算出来的)<br>    本质:在where语句中嵌套一个子查询语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ==============where================</span></span><br><span class="line"> <span class="comment">-- 1.查询 高等数学-1 的所有考试结果 (学号,科目编号,成绩) 降序排列 </span></span><br><span class="line"> <span class="comment">-- 方式一 连接查询</span></span><br><span class="line"> <span class="keyword">SELECT</span> `StudentNo`,r.`subjectNo`,`StudentResult`</span><br><span class="line"> <span class="keyword">FROM</span> <span class="keyword">result</span> r</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"> <span class="keyword">ON</span> r.`SubjectNo`<span class="operator">=</span>sub.`subjectNo`</span><br><span class="line"> <span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line"> <span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult` <span class="keyword">DESC</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 方式二 使用子查询()</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`subjectNo`,`StudentResult`</span><br><span class="line"><span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">WHERE</span> subjectNo <span class="operator">=</span> <span class="keyword">ANY</span>(  <span class="comment">--使用any方法帮助返回多个</span></span><br><span class="line">	<span class="keyword">SELECT</span> subjectNo <span class="keyword">FROM</span> `subject` </span><br><span class="line">	<span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span> <span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line">) </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult` <span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询所有高等数学-1的学生学号</span></span><br><span class="line"><span class="comment">-- select studentNo from `subject` where `subjectName`=&#x27;高等数学-1&#x27;</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 查询分数不小于80分的学号和姓名</span></span><br><span class="line"> <span class="keyword">SELECT</span>  <span class="keyword">DISTINCT</span> s.`studentNo`,`StudentName`</span><br><span class="line"> <span class="keyword">FROM</span> student s</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"> <span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"> <span class="keyword">WHERE</span> `StudentResult`<span class="operator">&gt;</span><span class="number">80</span> </span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 在这个基础上增加一个科目 高等数学-1</span></span><br><span class="line">  <span class="comment">-- 查询 高等数学-1编号</span></span><br><span class="line"> <span class="keyword">SELECT</span>  <span class="keyword">DISTINCT</span> s.`studentNo`,`StudentName`</span><br><span class="line"> <span class="keyword">FROM</span> student s</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"> <span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"> <span class="keyword">WHERE</span> `StudentResult`<span class="operator">&gt;</span><span class="number">80</span> <span class="keyword">AND</span>  `subjectNo` <span class="operator">=</span><span class="keyword">ANY</span>(</span><br><span class="line"><span class="keyword">SELECT</span> `subjectNo` <span class="keyword">FROM</span> `subject`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询课程为高等数学 -1 且分数不小于80的同学的学号和姓名</span></span><br><span class="line"><span class="keyword">SELECT</span>  <span class="keyword">DISTINCT</span> s.`StudentNo`,`StudentName`</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectNo`<span class="operator">=</span>sub.`SubjectNo`</span><br><span class="line"><span class="keyword">WHERE</span> `StudentResult`<span class="operator">&gt;</span><span class="number">80</span> <span class="keyword">AND</span> `subjectName`<span class="operator">=</span> <span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 嵌套</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> s.`StudentNo`,`StudentName`</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"><span class="keyword">WHERE</span> `StudentResult`<span class="operator">&gt;</span><span class="number">80</span> <span class="keyword">AND</span> `subjectNo`<span class="operator">=</span> <span class="keyword">ANY</span>(</span><br><span class="line"><span class="keyword">SELECT</span> `subjectNo` <span class="keyword">FROM</span> `subject`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 再改造(由里及外)</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> `StudentNo`<span class="keyword">IN</span> (</span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo` <span class="keyword">FROM</span> `<span class="keyword">result</span>` <span class="keyword">WHERE</span> `StudentResult`<span class="operator">&gt;</span><span class="number">80</span> <span class="keyword">AND</span> `subjectNo`<span class="operator">=</span><span class="keyword">ANY</span>(</span><br><span class="line"><span class="keyword">SELECT</span> `subjectNo` <span class="keyword">FROM</span> `subject` <span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">--  练习: 查询 c语言-1 前2名同学的成绩的信息(学号,姓名,分数)  </span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 连接查询</span></span><br><span class="line"> <span class="keyword">SELECT</span> s.`StudentNo`,`StudentName`,`StudentResult`</span><br><span class="line"> <span class="keyword">FROM</span> student s</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"> <span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"> <span class="keyword">ON</span> sub.`subjectNo`<span class="operator">=</span>r.`subjectNo`</span><br><span class="line"> <span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;C语言-1&#x27;</span></span><br><span class="line"> <span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult`<span class="keyword">DESC</span></span><br><span class="line"> LIMIT <span class="number">0</span>,<span class="number">2</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 嵌套查询</span></span><br><span class="line"> <span class="keyword">SELECT</span> s.`StudentNo`,`StudentName`,`StudentResult` </span><br><span class="line"> <span class="keyword">FROM</span> student s</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"> <span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"> <span class="keyword">WHERE</span> `subjectNo`<span class="operator">=</span><span class="keyword">ANY</span>( <span class="comment">-- any可返回多条数据</span></span><br><span class="line">	<span class="keyword">SELECT</span> `subjectNo` <span class="keyword">FROM</span> `subject`</span><br><span class="line">	<span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;C语言-1&#x27;</span> </span><br><span class="line"> )</span><br><span class="line">  <span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult`<span class="keyword">DESC</span></span><br><span class="line"> LIMIT <span class="number">0</span>,<span class="number">2</span></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">-- ================ 常用函数===============</span></span><br><span class="line"><span class="comment">-- 数学运算</span></span><br><span class="line"> </span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">-8</span>) <span class="comment">-- 绝对值</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">CEILING</span>(<span class="number">9.4</span>) <span class="comment">-- 向上取整</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">FLOOR</span> (<span class="number">9.4</span>)  <span class="comment">-- 向下取整</span></span><br><span class="line"> <span class="keyword">SELECT</span> RAND()  <span class="comment">-- 返回一个0-1之间随机数</span></span><br><span class="line"> <span class="keyword">SELECT</span> SIGN(<span class="number">-10</span>)  <span class="comment">-- 判断一个数的符号 0-0 负数返回-1 正数返回1</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 字符串函数</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="keyword">CHAR_LENGTH</span>(<span class="string">&#x27;即使再小帆船也能远航&#x27;</span>)  <span class="comment">-- 字符串长度</span></span><br><span class="line"> <span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;我&#x27;</span>,<span class="string">&#x27;爱&#x27;</span>,<span class="string">&#x27;你&#x27;</span>) <span class="comment">-- 拼接字符串</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="keyword">INSERT</span>(<span class="string">&#x27;喜欢你&#x27;</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;超级喜欢&#x27;</span>) <span class="comment">-- 查询 从某个位置开始替换某个长度</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">LOWER</span>(<span class="string">&#x27;HALEY&#x27;</span>) <span class="comment">-- 小写字母</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">UPPER</span>(<span class="string">&#x27;haley&#x27;</span>) <span class="comment">-- 大写字母</span></span><br><span class="line"> <span class="keyword">SELECT</span> INSTR(<span class="string">&#x27;haley&#x27;</span>,<span class="string">&#x27;h&#x27;</span>)<span class="comment">-- 返回第一次出现字符串的索引(从1开始)</span></span><br><span class="line"> <span class="keyword">SELECT</span> REPLACE(<span class="string">&#x27;哈哈哈呵呵呵&#x27;</span>,<span class="string">&#x27;哈哈&#x27;</span>,<span class="string">&#x27;嘻嘻&#x27;</span>) <span class="comment">-- 替换出现的指定字符串</span></span><br><span class="line"> <span class="keyword">SELECT</span> SUBSTR(<span class="string">&#x27;哈哈哈哈嘻嘻嘻&#x27;</span>,<span class="number">4</span>,<span class="number">3</span>) <span class="comment">-- 返回指定字符串(源字符串,截取位置,截取长度)</span></span><br><span class="line"> <span class="keyword">SELECT</span> REVERSE(<span class="string">&#x27;嘻嘻嘻哈哈哈&#x27;</span>) <span class="comment">-- 反转</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 查询姓刘的同学 名字 赵</span></span><br><span class="line"> <span class="keyword">SELECT</span> REPLACE(studentName,<span class="string">&#x27;李&#x27;</span>,<span class="string">&#x27;赵&#x27;</span>) <span class="keyword">FROM</span> student</span><br><span class="line"> <span class="keyword">WHERE</span> studentname <span class="keyword">LIKE</span> <span class="string">&#x27;李%&#x27;</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 时间和日期函数</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">CURRENT_DATE</span>() <span class="comment">-- 获取当前日期</span></span><br><span class="line"> <span class="keyword">SELECT</span> CURDATE() <span class="comment">-- 获取当前日期</span></span><br><span class="line"> <span class="keyword">SELECT</span> NOW() <span class="comment">-- 获取当前时间</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">LOCALTIME</span>() <span class="comment">-- 获取本地时间</span></span><br><span class="line"> <span class="keyword">SELECT</span> SYSDATE() <span class="comment">-- 系统时间</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(NOW()) </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MONTH</span>(NOW()) </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DAY</span>(NOW()) </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">HOUR</span>(NOW()) </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MINUTE</span>(NOW()) </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SECOND</span>(NOW()) </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 系统</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SYSTEM_USER</span>()</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">USER</span>()</span><br><span class="line"><span class="keyword">SELECT</span>  VERSION()</span><br></pre></td></tr></table></figure>

<h4 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h4><table>
<thead>
<tr>
<th>函数名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>COUNT()</td>
<td>计数</td>
</tr>
<tr>
<td>SUM()</td>
<td>求和</td>
</tr>
<tr>
<td>AVG()</td>
<td>平均值</td>
</tr>
<tr>
<td>MAX()</td>
<td>最大值</td>
</tr>
<tr>
<td>MIN()</td>
<td>最小值</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>分组和过滤</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ===========聚合函数==============</span></span><br><span class="line"><span class="comment">-- 都能做统计(想查询一个表中有多少个记录 就使用这个count())</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(`BornDate`) <span class="keyword">FROM</span> student; <span class="comment">-- count(指定列(字段,会忽略所有null值))  主键用这个</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> student <span class="comment">-- count(*) 不会忽略所有null值) 本质 计数行数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="number">1</span>) <span class="keyword">FROM</span> <span class="keyword">result</span>  <span class="comment">-- count(1) 不会忽略所有null值) 本质 计数行数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(`StudentResult`) <span class="keyword">AS</span> 总和 <span class="keyword">FROM</span>  `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(`StudentResult`) <span class="keyword">AS</span> 平均分 <span class="keyword">FROM</span>  `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(`StudentResult`) <span class="keyword">AS</span> 最高分 <span class="keyword">FROM</span>  `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(`StudentResult`) <span class="keyword">AS</span> 最低分 <span class="keyword">FROM</span>  `<span class="keyword">result</span>`</span><br><span class="line"><span class="comment">-- 查询不同课程平均分,最高分,最低分</span></span><br><span class="line"><span class="comment">-- 核心:(根据不同课程分组)</span></span><br><span class="line"><span class="keyword">SELECT</span> any_value(subjectname),<span class="built_in">AVG</span>(studentresult) <span class="keyword">AS</span> 平均分,<span class="built_in">MAX</span>(studentresult) <span class="keyword">AS</span> 最高分 ,<span class="built_in">MIN</span>(studentresult) <span class="keyword">AS</span> 最低分</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span> <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> sub</span><br><span class="line"><span class="keyword">ON</span> sub.`subjectNo`<span class="operator">=</span>r.`subjectNo`</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> r.subjectNo <span class="comment">-- 通过什么字段来分组</span></span><br><span class="line"><span class="keyword">HAVING</span> 平均分<span class="operator">&gt;</span><span class="number">70</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="数据库级别md5加密"><a href="#数据库级别md5加密" class="headerlink" title="数据库级别md5加密"></a>数据库级别md5加密</h4><p>主要增强算法复杂度和不可逆性,md5不可逆,具体的值md5是不一样的<br>        md5破解网站原理: 背后有一个字典 md5加密后的值,加密的前值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ==============md5 加密测试===========================</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `testmd5` (</span><br><span class="line">`id`  <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">`name` <span class="type">VARCHAR</span> (<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="comment">-- 明文 密码</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> testmd5 <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;lisi&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;wangwu&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 加密</span></span><br><span class="line">UPDATE testmd5 <span class="keyword">SET</span> pwd<span class="operator">=</span>MD5(pwd) <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span></span><br><span class="line"></span><br><span class="line">UPDATE testmd5 <span class="keyword">SET</span> pwd<span class="operator">=</span>MD5(pwd)  <span class="comment">-- 加密全部密码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入的时候加密</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> testmd5 <span class="keyword">VALUES</span> (<span class="number">4</span>,<span class="string">&#x27;haley&#x27;</span>,MD5(<span class="string">&#x27;123456&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 如何效验:将用户传递过来的密码 进行md5加密 然后比对加密后的值</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> testmd5 <span class="keyword">WHERE</span> `name` <span class="operator">=</span><span class="string">&#x27;haley&#x27;</span> <span class="keyword">AND</span> pwd<span class="operator">=</span>MD5(<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="select小结"><a href="#select小结" class="headerlink" title="select小结"></a>select小结</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">顺序很重要</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> [去重(<span class="keyword">All</span><span class="operator">/</span><span class="keyword">DISTINCT</span>)] 要查询的字段</span><br><span class="line"><span class="keyword">from</span>  表名 [<span class="keyword">as</span> 别名]</span><br><span class="line"><span class="keyword">Inner</span><span class="operator">/</span><span class="keyword">left</span><span class="operator">/</span><span class="keyword">right</span> <span class="keyword">join</span> 要连接的表 [<span class="keyword">as</span> 别名]</span><br><span class="line"><span class="keyword">where</span> (具体的值,子查询语句)</span><br><span class="line"><span class="keyword">Group</span> <span class="keyword">by</span> (指定结果通过哪个字段来分组)</span><br><span class="line"><span class="keyword">Having</span> (过滤分组的消息必须满足的次要条件,条件和<span class="keyword">where</span>是一样的,位置不变)</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 字段名 () <span class="keyword">desc</span>(降序)<span class="operator">/</span><span class="keyword">asc</span>(升序)</span><br><span class="line">limit startindex,pagesize</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">ALL</span> <span class="operator">|</span> <span class="keyword">DISTINCT</span>]</span><br><span class="line">&#123;* | table.* | [table.field1[as alias1][,table.field2[as alias2]][,...]]&#125;</span><br><span class="line"><span class="keyword">FROM</span> table_name [<span class="keyword">as</span> table_alias]</span><br><span class="line">    [<span class="keyword">left</span> <span class="operator">|</span> <span class="keyword">right</span> <span class="operator">|</span> <span class="keyword">inner</span> <span class="keyword">join</span> table_name2]  <span class="comment">-- 联合查询</span></span><br><span class="line">    [<span class="keyword">WHERE</span> ...]  <span class="comment">-- 指定结果需满足的条件</span></span><br><span class="line">    [<span class="keyword">GROUP</span> <span class="keyword">BY</span> ...]  <span class="comment">-- 指定结果按照哪几个字段来分组</span></span><br><span class="line">    [<span class="keyword">HAVING</span>]  <span class="comment">-- 过滤分组的记录必须满足的次要条件</span></span><br><span class="line">    [<span class="keyword">ORDER</span> <span class="keyword">BY</span> ...]  <span class="comment">-- 指定查询记录按一个或多个条件排序</span></span><br><span class="line">    [LIMIT &#123;[offset,]row_count | row_countOFFSET offset&#125;];</span><br><span class="line">    <span class="comment">--  指定查询的记录从哪条至哪条</span></span><br><span class="line">注意: []代表可选 &#123;&#125;不可选</span><br><span class="line"></span><br><span class="line">业务: 查询:跨数据库 跨表</span><br></pre></td></tr></table></figure>

<h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><ul>
<li><p>要么都成功,要么都失败</p>
</li>
<li><p>sql执行: A给B转账  A 1000—–200——–&gt; B 200</p>
</li>
<li><p>sql执行: B收到A转账  A 800—–200——–&gt; B 400</p>
</li>
<li><p>将一组sql放在一个批次中执行</p>
</li>
<li><p>事务原则: ACID  原则:</p>
<p>​                                        <strong>原子性(Atomicity)</strong>: 要么都成功,要么都失败</p>
<p>​                                        <strong>一致性</strong>（Consistency）**: 事务前后数据完整性要保持一致</p>
<p>​                                        <strong>隔离性; （Isolation）</strong><br>​                                                        事务的隔离性是多个用户并发访问数据库时，数据库为每一个用户开启的事务，不能被其他事务的操作数据所干扰，多个并发事务之间要相互隔离。</p>
<p>​     ==隔离所导致的一些问题:== </p>
<p>​        脏读： 指一个事务读取了另外一个事务未提交的数据。</p>
<p>​        不可重复读:在一个事务内读取表中的某一行数据，多次读取结果不同。（这个不一定是错误，只是某些场合不对）</p>
<p>​        幻读:是指在一个事务内读取到了别的事务插入的数据，导致前后读取不一致。</p>
<p>​                                        <strong>持久性（Durability）</strong>: 事务一旦提交后则不可逆,被持久化到数据库中</p>
<p>​                链接:<a target="_blank" rel="noopener" href="https://blog.csdn.net/dengjili/article/details/82468576">https://blog.csdn.net/dengjili/article/details/82468576</a></p>
<ul>
<li><p>执行事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =====================事务================================</span></span><br><span class="line"><span class="comment">-- mysql是默认开启自动提交的</span></span><br><span class="line"><span class="keyword">SET</span> autocommit<span class="operator">=</span><span class="number">0</span> <span class="comment">-- 关闭</span></span><br><span class="line"><span class="keyword">SET</span> autocommit<span class="operator">=</span><span class="number">1</span> <span class="comment">-- 开启(默认的)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 手动处理事务</span></span><br><span class="line"><span class="keyword">SET</span> autocommit<span class="operator">=</span><span class="number">0</span> <span class="comment">-- 关闭自动提交</span></span><br><span class="line"><span class="comment">-- 事务开启</span></span><br><span class="line"><span class="keyword">START</span> TRANSACTION <span class="comment">-- 标记一个事务开始  从这个之后的sql都在同一个事务内</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> xxxx</span><br><span class="line"><span class="keyword">INSERT</span> xxxx</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 提交:持久化(成功)</span></span><br><span class="line"><span class="keyword">COMMIT</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 回滚:回到原来的样子(失败)</span></span><br><span class="line"><span class="keyword">ROLLBACK</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 事务结果(成功)</span></span><br><span class="line"><span class="keyword">SET</span> autocommit<span class="operator">=</span><span class="number">1</span> <span class="comment">-- 开启自动提交</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SAVEPOINT</span> 保存点名称  <span class="comment">-- 设置一个事务保存点</span></span><br><span class="line"><span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> <span class="keyword">SAVEPOINT</span> <span class="comment">-- 回滚到保存点</span></span><br><span class="line"><span class="keyword">RELEASE</span> <span class="keyword">SAVEPOINT</span> <span class="comment">-- 撤销保存点</span></span><br><span class="line"></span><br><span class="line"><span class="type">decimal</span>(<span class="number">10</span>,<span class="number">2</span>)中的“<span class="number">2</span>”表示小数部分的位数，如果插入的值未指定小数部分或者小数部分不足两位则会自动补到<span class="number">2</span>位小数，若插入的值小数部分超过了<span class="number">2</span>为则会发生截断，截取前<span class="number">2</span>位小数。</span><br><span class="line"></span><br><span class="line">“<span class="number">10</span>”指的是整数部分加小数部分的总长度，也即插入的数字整数部分不能超过“<span class="number">10</span><span class="number">-2</span>”位，否则不能成功插入，会报超出范围的错误。</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><p>MySQL官方对索引的定义为：<strong>索引（Index）是帮助MySQL高效获取数据的数据结构。</strong>提取句子主干，就可以得到索引的本质：索引是数据结构。</p>
<h4 id="索引分类"><a href="#索引分类" class="headerlink" title="索引分类"></a>索引分类</h4><p><strong>一个表中主键索引只能有一个，唯一索引可以有多个</strong></p>
<ul>
<li><p>主键索引：PRIMARY KEY</p>
<ul>
<li>唯一标识 ，主键不可重复，只能有一个列作为主键</li>
</ul>
</li>
<li><p>唯一索引：UNIQUE KEY</p>
<ul>
<li>避免重复列出现，唯一索引可以重复，多个列都可以标识唯一索引</li>
</ul>
</li>
<li><p>常规索引：KEY/ INDEX（索引内容不填）</p>
<ul>
<li>默认的，index key 关键字来设置</li>
</ul>
</li>
<li><p>全文索引：FullText（快速定位数据）</p>
<p>基础语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ============索引使用 ===============</span></span><br><span class="line"><span class="comment">-- 在创建表的时候给字段增加索引</span></span><br><span class="line"><span class="comment">-- 创建完毕后 增加索引</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 显示所有索引信息</span></span><br><span class="line"><span class="keyword">SHOW</span> INDEX <span class="keyword">FROM</span> student</span><br><span class="line"><span class="comment">-- 增加一个全文索引（索引名） 列名</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student <span class="keyword">ADD</span> FULLTEXT INDEX `StudentName`(`StudentName`)</span><br><span class="line"><span class="comment">-- 分析sql执行的状况</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="comment">-- 非全文索引</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">MATCH</span>(`StudentName`) AGAINST (<span class="string">&#x27;华&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="索引测试"><a href="#索引测试" class="headerlink" title="索引测试"></a>索引测试</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ============索引测试===============</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `app_user`(</span><br><span class="line">`id` <span class="type">BIGINT</span>(<span class="number">20</span>) UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;用户昵称&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;用户邮箱&#x27;</span>,</span><br><span class="line">`phone` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;手机号&#x27;</span>,</span><br><span class="line">`gender` TINYINT(<span class="number">4</span>) UNSIGNED <span class="keyword">DEFAULT</span> <span class="string">&#x27;0&#x27;</span> COMMENT <span class="string">&#x27;性别（男：0，女：1）&#x27;</span>,</span><br><span class="line">`password` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`age` TINYINT(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;0&#x27;</span> COMMENT <span class="string">&#x27;年龄&#x27;</span>,</span><br><span class="line">`create_Time` DATETIME <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span>,</span><br><span class="line">`update_Time` <span class="type">TIMESTAMP</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">ON</span> UPDATE <span class="built_in">CURRENT_TIMESTAMP</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入100万数据</span></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> log_bin_trust_function_creators<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">DELIMITER $$ <span class="comment">-- 自定义函数之前必须写</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> mockData()</span><br><span class="line"><span class="keyword">RETURNS</span> <span class="type">INT</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">     <span class="keyword">DECLARE</span> num <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">1000000</span>;</span><br><span class="line">     <span class="keyword">DECLARE</span> i <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>;</span><br><span class="line">     </span><br><span class="line">     WHILE i<span class="operator">&lt;</span>num DO</span><br><span class="line">	<span class="comment">-- 插入语句</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">INSERT</span> <span class="keyword">INTO</span> `app_user`(`name`,`email`,`phone`,`gender`,`password`,`age`)</span><br><span class="line">	<span class="keyword">VALUES</span>(CONCAT(<span class="string">&#x27;用户&#x27;</span>,i),<span class="string">&#x27;243286169@qq.com&#x27;</span>,</span><br><span class="line">	CONCAT(<span class="string">&#x27;18&#x27;</span>,<span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span>((<span class="number">999999999</span><span class="number">-100000000</span>)<span class="operator">+</span><span class="number">100000000</span>)))</span><br><span class="line">	,<span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span><span class="number">2</span>),UUID(),<span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span><span class="number">100</span>)</span><br><span class="line">	);</span><br><span class="line">	<span class="keyword">SET</span> i <span class="operator">=</span> i<span class="operator">+</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">END</span> WHILE;</span><br><span class="line">     <span class="keyword">RETURN</span> i;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> mockData()</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `app_user` <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;用户9999&#x27;</span><span class="comment">-- 1.204s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- id_表名_字段名</span></span><br><span class="line"><span class="keyword">CREATE</span> INDEX id_app_user_name <span class="keyword">ON</span> app_user(`name`)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `app_user` <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;用户9999&#x27;</span><span class="comment">-- 0.002s</span></span><br><span class="line">索引在小数据量的时候，用处不大，在大数据的时候，区别十分明显</span><br></pre></td></tr></table></figure>

<h4 id="索引原则"><a href="#索引原则" class="headerlink" title="索引原则"></a>索引原则</h4><ul>
<li>索引不是越多越好，不要对进程变动的数据加索引</li>
<li>小数据量的表不需要加索引</li>
<li>索引一般加在常用来查询的字段上</li>
<li>索引数据结构: Hash类型  BTREE：INNODB的默认数据结构</li>
<li>阅读：<a target="_blank" rel="noopener" href="https://blog.codinglabs.org/articles/theory-of-mysql-index.html">https://blog.codinglabs.org/articles/theory-of-mysql-index.html</a></li>
</ul>
<h3 id="权限管理和备份"><a href="#权限管理和备份" class="headerlink" title="权限管理和备份"></a>权限管理和备份</h3><h4 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h4><ul>
<li>sqlyog可视化</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sqlyog创建完新用户后 用设置密码登不上sqlyog，再执行下方语句，此时密码为<span class="number">12345</span>去登陆界面即可登录</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;12345&#x27;</span>;</span><br><span class="line">并且创建用户时是时<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>，登录也必须是<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>，不能是localhost</span><br></pre></td></tr></table></figure>

<ul>
<li><p>用户表</p>
<p>用户表：mysql.user<br>代码修改</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建用户 CREATE USER 用户名 </span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span>  <span class="string">&#x27;123456&#x27;</span></span><br><span class="line"><span class="comment">-- 修改密码（修改当前用户密码  可能新版不能用 报错）</span></span><br><span class="line"><span class="keyword">SET</span> PASSWORD <span class="operator">=</span> PASSWORD(<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"><span class="comment">-- 修改密码（修改指定用户密码  新版本可用）</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;12345&#x27;</span>;</span><br><span class="line"><span class="comment">-- 重命名 8.0版本不知道 下边为5.0</span></span><br><span class="line">RENAME <span class="keyword">USER</span> Haley <span class="keyword">TO</span> haley01</span><br><span class="line"><span class="comment">-- 用户授权 GRANT  ALL PRIVILEGES 全部权限 库.表</span></span><br><span class="line"><span class="comment">-- 除了给别人授权其他都能干</span></span><br><span class="line"><span class="keyword">GRANT</span>  <span class="keyword">ALL</span> PRIVILEGES  <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span></span><br><span class="line"><span class="comment">-- 查询权限</span></span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span>  <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>; <span class="comment">-- 查看指定用户权限</span></span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- root用户权限:GRANT  ALL PRIVILEGES  ON *.* TO &#x27;root&#x27;@&#x27;localhost&#x27; with GRANT OPTION</span></span><br><span class="line"><span class="comment">-- 撤销权限 revoke 哪些权限,在哪个库撤销,给谁撤销</span></span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">FROM</span> <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除用户</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="MySQL备份"><a href="#MySQL备份" class="headerlink" title="MySQL备份"></a>MySQL备份</h4><p>为什么要备份?</p>
<ul>
<li>保证重要数据不丢失</li>
<li>数据转移</li>
</ul>
<p>MYSql 数据备份的方式</p>
<ul>
<li><p>直接拷贝物理文件</p>
</li>
<li><p>在sqlyog 这种可视化工具中手动导出</p>
<ul>
<li>在想要导出的表或库中,右键,选择备份或导出</li>
</ul>
</li>
<li><p>使用命令行导出,mysqldump  命令行使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">cmd中执行</span><br><span class="line"># mysqldump <span class="operator">-</span>h主机 <span class="operator">-</span>u用户名 <span class="operator">-</span>p密码 数据库 表名 <span class="operator">&gt;</span>物理磁盘位置<span class="operator">/</span>文件名</span><br><span class="line"><span class="comment">-- 导出一张表</span></span><br><span class="line">C:\WINDOWS\system32<span class="operator">&gt;</span>mysqldump <span class="operator">-</span>hlocalhost <span class="operator">-</span>uroot <span class="operator">-</span>p123456hj school student <span class="operator">&gt;</span>C:<span class="operator">/</span><span class="number">1.</span><span class="keyword">sql</span></span><br><span class="line">mysqldump: [Warning] <span class="keyword">Using</span> a password <span class="keyword">on</span> the command line interface can be insecure. <span class="comment">-- 表示成功</span></span><br><span class="line"><span class="comment">-- 导出多张表</span></span><br><span class="line">mysqldump <span class="operator">-</span>hlocalhost <span class="operator">-</span>uroot <span class="operator">-</span>p123456hj school student <span class="keyword">result</span> <span class="operator">&gt;</span>C:<span class="operator">/</span><span class="number">2.</span><span class="keyword">sql</span></span><br><span class="line">mysqldump: [Warning] <span class="keyword">Using</span> a password <span class="keyword">on</span> the command line interface can be insecure.</span><br><span class="line"><span class="comment">-- 导出库</span></span><br><span class="line">C:\WINDOWS\system32<span class="operator">&gt;</span>mysqldump <span class="operator">-</span>hlocalhost <span class="operator">-</span>uroot <span class="operator">-</span>p123456hj school  <span class="operator">&gt;</span>C:<span class="operator">/</span><span class="number">3.</span><span class="keyword">sql</span></span><br><span class="line"><span class="comment">-- 导入 登录情况下 切换到指定数据库</span></span><br><span class="line">mysql<span class="operator">&gt;</span> use school;</span><br><span class="line">Database changed</span><br><span class="line">mysql<span class="operator">&gt;</span> source C:<span class="operator">/</span><span class="number">1.</span><span class="keyword">sql</span></span><br><span class="line"><span class="comment">-- 或者导入</span></span><br><span class="line">mysql <span class="operator">-</span>u用户名 <span class="operator">-</span>p密码 库<span class="operator">&lt;</span> 备份文件</span><br></pre></td></tr></table></figure></li>
</ul>
<p>把数据库给朋友时,sql文件发给别人</p>
<h3 id="规范数据库设计"><a href="#规范数据库设计" class="headerlink" title="规范数据库设计"></a>规范数据库设计</h3><h4 id="设计数据库"><a href="#设计数据库" class="headerlink" title="设计数据库"></a>设计数据库</h4><p>数据库不区分大小写,尽量不用驼峰命名,下划线命名多用</p>
<p>为什么需要设计?<br>==当设计库复杂的时候==</p>
<ul>
<li><p>糟糕数据库: 数据多余,浪费空间   数据库插入和删除麻烦  异常[屏蔽使用外键]</p>
<p>​                    程序性能差</p>
</li>
<li><p>良好数据库设计:节省内存  保证数据库完整 方便开发系统 </p>
</li>
<li><p>软件开发中,关于数据库的设计:</p>
<ul>
<li><p>分析需求:分析业务和需要处理的数据库需求</p>
</li>
<li><p>概要设计:设计关系图 E-R图</p>
</li>
<li><p><strong>设计数据库步骤:(个人博客)</strong></p>
<p><strong>1.收集信息,分析需求</strong>:</p>
<ul>
<li><p>用户表(用户登录注销,用户个人信息,写博客,创建分类)</p>
</li>
<li><p>分类表(文章分类,谁创建的)</p>
</li>
<li><p>文章表(文章的信息)</p>
</li>
<li><p>评论表</p>
</li>
<li><p>友链表:(友链信息)</p>
</li>
<li><p>自定义表:(系统信息,某个关键字,或一些主字段) key:value</p>
</li>
<li><p>说说表</p>
</li>
<li><p><em>2.标识实体(把需求落实到每个字段上</em>*:在sqlyog中建库(blog),见表</p>
</li>
</ul>
<p><strong>3.标识实体之间关系</strong></p>
<p>​    写博客:user-&gt;blog<br>​    创建分类:user-&gt;category<br>​    关注:user-&gt;user</p>
<p>​    友链:links<br>​    评论表:user-&gt;user-blog</p>
<p>系统:bbs crm</p>
</li>
</ul>
<h4 id="三大范式"><a href="#三大范式" class="headerlink" title="三大范式"></a>三大范式</h4><p>为什么需要数据规范化?</p>
<p>​    信息重复,更新异常,插入异常(无法显示正常信息) 删除异常(丢失有效信息)  </p>
<p>三大范式(了解)</p>
<p>链接:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/wsg25/p/9615100.html">https://www.cnblogs.com/wsg25/p/9615100.html</a></p>
<p>​    <strong>第一范式</strong>(1NF)</p>
<p>​    原子性:保证每一列不可再分</p>
<p>​     <strong>第二范式</strong>(2NF):</p>
<p>​        在满足第一范式的前提下,每张表只描述一件事情</p>
<p>   <strong>第三范式(3NF)</strong></p>
<p>​    前提:满足第一和第二范式</p>
<p>​    第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关</p>
<p>(规范数据库的设计)</p>
<p><strong>规范性和性能</strong>:</p>
<p>​    关联查询的表不能超过三张表</p>
<ul>
<li>考虑商业化需求和目标(成本,用户体验) 数据库性能更重要</li>
<li>在规范性能问题时候,需要适当考虑一下规范性</li>
<li>故意给某些表增加冗余字段(从多表查询中变为单表查询)</li>
<li>故意增加计算列(从多表查询中变为单表查询)</li>
</ul>
</li>
</ul>
<h3 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h3><h4 id="数据库驱动"><a href="#数据库驱动" class="headerlink" title="数据库驱动"></a>数据库驱动</h4><p>驱动:声卡,显卡,数据库</p>
<p>作用:<a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/20200708013306539.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzOTU2NTM2,size_16,color_FFFFFF,t_70">https://img-blog.csdnimg.cn/20200708013306539.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzOTU2NTM2,size_16,color_FFFFFF,t_70</a></p>
<p>我们的程序会通过数据库驱动，和数据库打交道！</p>
<h4 id="JDBC-1"><a href="#JDBC-1" class="headerlink" title="JDBC"></a>JDBC</h4><p>SUN 公司为了简化开发人员的（对数据库的统一）操作，提供了一个(Java操作数据库的)规范，JDBC</p>
<p>这些规范的实现由具体的厂商去做</p>
<p>对于开发人员来说，我们只需要掌握JDBC的接口操作即可</p>
<p><img src="https://img-blog.csdnimg.cn/20200708013314340.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzOTU2NTM2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>java.sql</p>
<p>javax.sql</p>
<p>还需要导入数据库驱动包 MySQL-connector-Java-5.1.47.jar(对于MySQL5.0包)</p>
<h4 id="第一个JDBC程序"><a href="#第一个JDBC程序" class="headerlink" title="第一个JDBC程序"></a>第一个JDBC程序</h4><blockquote>
<p>创建测试数据库</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE jdbcStudy <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"> </span><br><span class="line">USE jdbcStudy;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `users`(</span><br><span class="line">id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">NAME <span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">PASSWORD <span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">email <span class="type">VARCHAR</span>(<span class="number">60</span>),</span><br><span class="line">birthday <span class="type">DATE</span></span><br><span class="line">);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `users`(id,NAME,PASSWORD,email,birthday)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;zhansan&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;zs@sina.com&#x27;</span>,<span class="string">&#x27;1980-12-04&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;lisi&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;lisi@sina.com&#x27;</span>,<span class="string">&#x27;1981-12-04&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;wangwu&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;wangwu@sina.com&#x27;</span>,<span class="string">&#x27;1979-12-04&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>1.用idea创建一个普通项目<br>       2.导入数据库驱动: 新建lib文件,粘贴到lib下,add library<br>        3.编写测试代码:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">package com.haley.lesson01;</span><br><span class="line"></span><br><span class="line">import com.mysql.jdbc.Driver;</span><br><span class="line"></span><br><span class="line">import java.sql.<span class="operator">*</span>;</span><br><span class="line"></span><br><span class="line">import <span class="keyword">static</span> java.lang.Class.forName;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>我的第一个jdbc程序</span><br><span class="line">public class JdbcFirstDemo &#123;</span><br><span class="line">    public static void main(String[] args) throws ClassNotFoundException, SQLException &#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">1.</span>加载驱动</span><br><span class="line">            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); <span class="operator">/</span><span class="operator">/</span>固定写法 加载驱动</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">2.</span>用户信息和url</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span> useUnicode<span class="operator">=</span><span class="literal">true</span><span class="operator">&amp;</span>characterEncoding<span class="operator">=</span>utf8<span class="operator">&amp;</span>useSSL<span class="operator">=</span><span class="literal">true</span></span><br><span class="line">            String url<span class="operator">=</span>&quot;jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&quot;;</span><br><span class="line">            String username<span class="operator">=</span>&quot;root&quot;;</span><br><span class="line">            String password<span class="operator">=</span>&quot;123456hj&quot;;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">3.</span>连接成功,数据库对象 Connection代表数据库</span><br><span class="line">        Connection connection <span class="operator">=</span> DriverManager.getConnection(url, username, password);</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">4.</span>执行<span class="keyword">sql</span>的对象 Statement执行<span class="keyword">sql</span>的对象</span><br><span class="line">        Statement statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">5.</span>执行<span class="keyword">sql</span>的对象去 执行<span class="keyword">sql</span>,可能存在结果,返回结果</span><br><span class="line">        String <span class="keyword">sql</span><span class="operator">=</span>&quot;SELECT * FROM users&quot;;</span><br><span class="line">        ResultSet resultSet <span class="operator">=</span> statement.executeQuery(<span class="keyword">sql</span>);<span class="operator">/</span><span class="operator">/</span>返回的结果集合 结果集合封装了我们全部查询出来的结果</span><br><span class="line">        while(resultSet.next())&#123;</span><br><span class="line">            System.out.println(&quot;id=&quot;<span class="operator">+</span>resultSet.getObject(&quot;id&quot;));</span><br><span class="line">            System.out.println(&quot;name=&quot;<span class="operator">+</span>resultSet.getObject(&quot;NAME&quot;));</span><br><span class="line">            System.out.println(&quot;pwd=&quot;<span class="operator">+</span>resultSet.getObject(&quot;PASSWORD&quot;));</span><br><span class="line">            System.out.println(&quot;email=&quot;<span class="operator">+</span>resultSet.getObject(&quot;email&quot;));</span><br><span class="line">            System.out.println(&quot;birth=&quot;<span class="operator">+</span>resultSet.getObject(&quot;birthday&quot;));</span><br><span class="line">            System.out.println(&quot;===============================&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">6.</span>释放连接</span><br><span class="line">        resultSet.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">步骤总结:</span><br><span class="line"><span class="number">1.</span>加载驱动 <span class="number">2.</span>连接数据库DriverManager  <span class="number">3.</span>获取执行<span class="keyword">sql</span>的对象Statement</span><br><span class="line"><span class="number">4.</span>获得返回的结果集合()  <span class="number">5.</span>释放连接</span><br></pre></td></tr></table></figure>

<h4 id="JDBC对象解释"><a href="#JDBC对象解释" class="headerlink" title="JDBC对象解释"></a>JDBC对象解释</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">DriverManager:</span><br><span class="line">        DriverManager.registerDriver(<span class="keyword">new</span> Driver()); 会执行此操作两次</span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>); <span class="comment">//固定写法 加载驱动</span></span><br><span class="line"></span><br><span class="line">URL:</span><br><span class="line">	 String url=<span class="string">&quot;jdbc:mysql://localhost:3306/jdbcstudy?			useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;serverTime=UTC&quot;</span>;</span><br><span class="line"></span><br><span class="line">        -- mysql默认<span class="number">3306</span>  jdbc:mysql是协议</span><br><span class="line">        <span class="comment">//协议://主机地址:端口号//数据库名?参数1&amp;参数2&amp;参数3</span></span><br><span class="line">        -- oracle 默认<span class="number">1521</span></span><br><span class="line">        <span class="comment">//jdbc:oracle:think@localhost:1521:sid</span></span><br><span class="line">            </span><br><span class="line">connection数据库</span><br><span class="line"> <span class="comment">//数据库设置自动提交</span></span><br><span class="line"> <span class="comment">//事务提交</span></span><br><span class="line"><span class="comment">// 事务回滚</span></span><br><span class="line">        connection.rollback();</span><br><span class="line">        connection.commit();</span><br><span class="line">        connection.setAutoCommit(<span class="keyword">true</span>);<span class="comment">//自动提交;</span></span><br><span class="line"></span><br><span class="line">statement 执行sql的对象   prepareStatement执行SQL对象</span><br><span class="line">        String sql=<span class="string">&quot;SELECT * FROM users&quot;</span>;<span class="comment">//编写sql</span></span><br><span class="line"></span><br><span class="line">     	statement.executeQuery();<span class="comment">//查询操作返回一个结果集 resultSet</span></span><br><span class="line">        statement.execute();<span class="comment">//执行任何SQL</span></span><br><span class="line">        statement.executeUpdate();<span class="comment">//更新,插入,删除,都是用这个,返回一个受影响行数</span></span><br><span class="line"></span><br><span class="line">ResultSet查询的结果集,分装了所有查询结果</span><br><span class="line">    <span class="comment">//获得指定数据类型</span></span><br><span class="line">        resultSet.getObject();<span class="comment">//不知道列类型情况下使用</span></span><br><span class="line">        resultSet.getString();<span class="comment">//知道列类型就会使用指定类型</span></span><br><span class="line">        resultSet.getInt();</span><br><span class="line">        resultSet.getFloat();</span><br><span class="line">        resultSet.getDate();</span><br><span class="line"></span><br><span class="line">遍历,指针</span><br><span class="line">    	resultSet.beforeFirst();<span class="comment">//移动到最前面</span></span><br><span class="line">        resultSet.afterLast();<span class="comment">//移动到最后面</span></span><br><span class="line">        resultSet.next();<span class="comment">//移动到下一个地址</span></span><br><span class="line">        resultSet.previous();<span class="comment">//移动到前一行</span></span><br><span class="line">        resultSet.absolute(row);<span class="comment">//移动到指定行</span></span><br><span class="line"></span><br><span class="line">释放资源</span><br><span class="line">    	resultSet.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();<span class="comment">//释放资源,用完关掉</span></span><br></pre></td></tr></table></figure>

<h4 id="statement对象"><a href="#statement对象" class="headerlink" title="statement对象"></a>statement对象</h4><p>Jdbc中的statement对象用于向数据库发送SQL语句，想完成对数据库的增删改查，只需要通过这个对象向数据库发送增删改查语句即可。</p>
<p>Statement对象的executeUpdate方法，用于向数据库发送增、删、改的sq|语句， executeUpdate执行完后， 将会返回一个整数(即增删改语句导致了数据库几行数据发生了变化)。</p>
<p>Statement.executeQuery方法用于向数据库发生查询语句，executeQuery方法返回代表查询结果的ResultSet对象。</p>
<p>CRUD操作-create</p>
<p>使用executeUpdate(String sql)方法完成数据添加操作，示例操作：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Statement statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">       String <span class="keyword">sql</span> <span class="operator">=</span> &quot;insert into user(...) values(...)&quot;;</span><br><span class="line">       <span class="type">int</span> num <span class="operator">=</span> statement.executeUpdate(<span class="keyword">sql</span>);</span><br><span class="line">       if(num&gt;0)&#123;</span><br><span class="line">           System.out.println(&quot;插入成功&quot;);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>CRUD操作-delete</p>
<p>使用executeUpdate(String sql)方法完成数据删除操作，示例操作：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Statement statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;delete from user where id =1&quot;;</span><br><span class="line">        <span class="type">int</span> num <span class="operator">=</span> statement.executeUpdate(<span class="keyword">sql</span>);</span><br><span class="line">        if(num&gt;0)&#123;</span><br><span class="line">            System.out.println(&quot;删除成功&quot;);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>CURD操作-update</p>
<p>使用executeUpdate(String sql)方法完成数据修改操作，示例操作：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Statement statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;update user set name =&#x27;&#x27; where name = &#x27;&#x27;&quot;;</span><br><span class="line">        <span class="type">int</span> num <span class="operator">=</span> statement.executeUpdate(<span class="keyword">sql</span>);</span><br><span class="line">        if(num&gt;0)&#123;</span><br><span class="line">            System.out.println(&quot;修改成功&quot;);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>CURD操作-read</p>
<p>使用executeUpdate(String sql)方法完成数据查询操作，示例操作：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Statement statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from  user where id =1&quot;;</span><br><span class="line">        ResultSet rs<span class="operator">=</span> statement.executeQuery(<span class="keyword">sql</span>);</span><br><span class="line">        if(rs.next())&#123;</span><br><span class="line">            System.out.println(&quot;&quot;);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>代码实现</p>
<p>1.在src下新建并配置db.properties文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">driver=com.mysql.jdbc.Driver</span><br><span class="line">url=jdbc:mysql:<span class="comment">//localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;serverTime=UTC</span></span><br><span class="line">username=root</span><br><span class="line">password=123456hj</span><br></pre></td></tr></table></figure>

<p>2.提取工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcUtils</span> </span>&#123;</span><br><span class="line"><span class="comment">//    由于properties返回一个配置对象,在这里提前定义空对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  String driver = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  String url = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  String username = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  String password = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    获取配置文件 将配置信息存入properties对象里边</span></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            InputStream in = JdbcUtils.class.getClassLoader().getResourceAsStream(<span class="string">&quot;db.properties&quot;</span>);</span><br><span class="line">            Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line"></span><br><span class="line"><span class="comment">//                将配置信息存入properties对象里边</span></span><br><span class="line">                properties.load(in);</span><br><span class="line"><span class="comment">//                获取里边某一个资源 返回是一个对象</span></span><br><span class="line">                driver = properties.getProperty(<span class="string">&quot;driver&quot;</span>);</span><br><span class="line">                url = properties.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">                username = properties.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">                password = properties.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//                驱动只要加载一次</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Class.forName(driver);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        获取连接</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> DriverManager.getConnection(url, username, password);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    释放连接资源</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">(Connection con, Statement st, ResultSet rs)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(rs!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (st!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                st.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(con!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                con.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​    3.增删改测试</p>
<p>增</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection coon=<span class="keyword">null</span>;</span><br><span class="line">        Statement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            调用JDBCutils包创建connection对象,获取数据库连接</span></span><br><span class="line">             coon = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//             获得sql的执行对象</span></span><br><span class="line">            st=coon.createStatement();</span><br><span class="line"><span class="comment">//            执行sql命令</span></span><br><span class="line">            String sql=<span class="string">&quot;INSERT INTO users(`id`,`NAME`,`PASSWORD`,`email`,`birthday`)&quot;</span> +</span><br><span class="line">                    <span class="string">&quot;VALUES (4,&#x27;haley&#x27;,&#x27;1234567890&#x27;,&#x27;2743286169@qq.com&#x27;,&#x27;2020-01-01&#x27;)&quot;</span>;</span><br><span class="line">            <span class="keyword">int</span> i = st.executeUpdate(sql);<span class="comment">//返回结果 结果为受影响行数</span></span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(coon,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>删:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDelete</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection coon=<span class="keyword">null</span>;</span><br><span class="line">        Statement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            调用JDBCutils包创建connection对象,获取数据库连接</span></span><br><span class="line">            coon = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//             获得sql的执行对象</span></span><br><span class="line">            st=coon.createStatement();</span><br><span class="line"><span class="comment">//            执行sql命令</span></span><br><span class="line">            String sql=<span class="string">&quot;DELETE FROM users WHERE id=4&quot;</span>;</span><br><span class="line">            <span class="keyword">int</span> i = st.executeUpdate(sql);<span class="comment">//返回结果 结果为受影响行数</span></span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(coon,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>改:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestUpdate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection coon=<span class="keyword">null</span>;</span><br><span class="line">        Statement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            调用JDBCutils包创建connection对象,获取数据库连接</span></span><br><span class="line">            coon = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//             获得sql的执行对象</span></span><br><span class="line">            st=coon.createStatement();</span><br><span class="line"><span class="comment">//            执行sql命令</span></span><br><span class="line">            String sql=<span class="string">&quot;UPDATE users SET `NAME`=&#x27;haley&#x27;,`email`=&#x27;2743286169@@qq.com&#x27; WHERE id=1&quot;</span>;</span><br><span class="line">            <span class="keyword">int</span> i = st.executeUpdate(sql);<span class="comment">//返回结果 结果为受影响行数</span></span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;更新成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(coon,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查询</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSelect</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Connection conn=<span class="keyword">null</span>;</span><br><span class="line">        Statement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        conn = JdbcUtils.getConnection();</span><br><span class="line">        st=conn.createStatement();</span><br><span class="line"><span class="comment">//        SQL</span></span><br><span class="line">        String sql=<span class="string">&quot;Select * from users where id=1&quot;</span>;</span><br><span class="line"></span><br><span class="line">         rs = st.executeQuery(sql);<span class="comment">//查询完毕返回结果集合</span></span><br><span class="line">        <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">            System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        JdbcUtils.release(conn,st,rs);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="sql注入问题"><a href="#sql注入问题" class="headerlink" title="sql注入问题"></a>sql注入问题</h4><p>sql存在漏洞，会被攻击导致数据泄露 <strong>本质:SQL会被拼接 or</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SQl</span>注入 </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        正常登录</span></span><br><span class="line"><span class="comment">//        login(&quot;haley&quot;,&quot;123456&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        非正常登录</span></span><br><span class="line">        login(<span class="string">&quot;&#x27;or &#x27;1=1&quot;</span>,<span class="string">&quot;&#x27;or &#x27;1=1&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    登录业务</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title">login</span><span class="params">(String username,String password)</span></span>&#123;</span><br><span class="line">        Connection coon=<span class="keyword">null</span>;</span><br><span class="line">        Statement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            调用JDBCutils包创建connection对象,获取数据库连接</span></span><br><span class="line">            coon = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//             获得sql的执行对象</span></span><br><span class="line">            st=coon.createStatement();</span><br><span class="line"><span class="comment">//            执行sql命令</span></span><br><span class="line"><span class="comment">//            String sql=&quot;SELECT * FROM users WHERE NAME = &#x27;&#x27; or &#x27;1=1&#x27; AND+ `password`=&#x27;&#x27;or &#x27;1=1&#x27;;</span></span><br><span class="line">            String sql=<span class="string">&quot;SELECT * FROM users WHERE NAME = &#x27;&quot;</span>+username+<span class="string">&quot;&#x27; AND&quot;</span>+<span class="string">&quot; `password`=&#x27;&quot;</span>+password+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">             rs = st.executeQuery(sql);</span><br><span class="line">             <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                 System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">                 System.out.println(rs.getString(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">                 System.out.println(<span class="string">&quot;===================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">             &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(coon,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="PrepareStatement对象"><a href="#PrepareStatement对象" class="headerlink" title="PrepareStatement对象"></a>PrepareStatement对象</h4><p>PrepareStatement可以防止sql注入,并且效率更高<br>        增</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pst=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//            区别</span></span><br><span class="line"><span class="comment">//            可以使用问号占位符代替参数</span></span><br><span class="line">            String sql=<span class="string">&quot;INSERT INTO users(`id`,`NAME`,`PASSWORD`,`email`,`birthday`) VALUES (?,?,?,?,?)&quot;</span>;</span><br><span class="line">            pst=connection.prepareStatement(sql);<span class="comment">//预编译SQL,先写sql,然后不执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            手动给参数赋值</span></span><br><span class="line">            pst.setInt(<span class="number">1</span>,<span class="number">4</span>);<span class="comment">//1表示第一个问号,给id赋值</span></span><br><span class="line">            pst.setString(<span class="number">2</span>,<span class="string">&quot;qinjiang&quot;</span>);</span><br><span class="line">            pst.setString(<span class="number">3</span>,<span class="string">&quot;1232112&quot;</span>);</span><br><span class="line">            pst.setString(<span class="number">4</span>,<span class="string">&quot;2743286169@qq.com&quot;</span>);</span><br><span class="line"><span class="comment">//            注意点:sql.Date 数据库 java.sql.Date()</span></span><br><span class="line"><span class="comment">//                  util.Date java new Date().getTime()获得时间戳</span></span><br><span class="line">            pst.setDate(<span class="number">5</span>,<span class="keyword">new</span> java.sql.Date(<span class="keyword">new</span> Date().getTime()));</span><br><span class="line"></span><br><span class="line"><span class="comment">//            执行</span></span><br><span class="line">            <span class="keyword">int</span> i = pst.executeUpdate();<span class="comment">//返回被修改行数</span></span><br><span class="line">            <span class="keyword">if</span> (i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection,pst,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>删</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDelete</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pst=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//            区别</span></span><br><span class="line"><span class="comment">//            可以使用问号占位符代替参数</span></span><br><span class="line">            String sql=<span class="string">&quot;delete from users where id=?&quot;</span>;</span><br><span class="line">            pst=connection.prepareStatement(sql);<span class="comment">//预编译SQL,先写sql,然后不执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            手动给参数赋值</span></span><br><span class="line">         pst.setInt(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//            执行</span></span><br><span class="line">            <span class="keyword">int</span> i = pst.executeUpdate();<span class="comment">//返回被修改行数</span></span><br><span class="line">            <span class="keyword">if</span> (i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection,pst,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>更新</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestUpdate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pst=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//            区别</span></span><br><span class="line"><span class="comment">//            可以使用问号占位符代替参数</span></span><br><span class="line">            String sql=<span class="string">&quot;update users set `NAME`=? where id=?&quot;</span>;</span><br><span class="line">            pst=connection.prepareStatement(sql);<span class="comment">//预编译SQL,先写sql,然后不执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            手动给参数赋值</span></span><br><span class="line">            pst.setString(<span class="number">1</span>,<span class="string">&quot;海伦&quot;</span>);</span><br><span class="line">            pst.setInt(<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="comment">//            执行</span></span><br><span class="line">            <span class="keyword">int</span> i = pst.executeUpdate();<span class="comment">//返回被修改行数</span></span><br><span class="line">            <span class="keyword">if</span> (i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;更新成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection,pst,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>查询</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSelect</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line"></span><br><span class="line">        Connection connection=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pst=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//    获取连接</span></span><br><span class="line">         connection = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line">         String sql=<span class="string">&quot;Select * from users where id=?&quot;</span>;<span class="comment">//编写SQL</span></span><br><span class="line">         pst=connection.prepareStatement(sql);<span class="comment">//预编译</span></span><br><span class="line">         pst.setInt(<span class="number">1</span>,<span class="number">1</span>);<span class="comment">//传递参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        执行查询</span></span><br><span class="line">         rs = pst.executeQuery();<span class="comment">//返回一组键值对对象</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (rs.next())&#123;</span><br><span class="line">            System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        JdbcUtils.release(connection,pst,rs);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>sql注入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SQl</span>注入 </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        正常登录</span></span><br><span class="line"><span class="comment">//        login(&quot;lisi&quot;,&quot;123456&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        非正常登录</span></span><br><span class="line">        login(<span class="string">&quot;&#x27;&#x27;or 1=1&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    登录业务</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title">login</span><span class="params">(String username,String password)</span></span>&#123;</span><br><span class="line">        Connection coon=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            调用JDBCutils包创建connection对象,获取数据库连接</span></span><br><span class="line">            coon = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line"><span class="comment">//            PreparedStatement防止sql注入的本质:把传递进来的参数当作字符</span></span><br><span class="line"><span class="comment">//            假设其中存在转义字符,就直接转义,比如说&#x27;</span></span><br><span class="line"><span class="comment">//             获得sql的执行对象</span></span><br><span class="line">            String sql=<span class="string">&quot;SELECT * FROM users where NAME=? and password=?&quot;</span>;<span class="comment">//Mybatis</span></span><br><span class="line"></span><br><span class="line">            st=coon.prepareStatement(sql);<span class="comment">//预编译</span></span><br><span class="line"><span class="comment">//            传参</span></span><br><span class="line">            st.setString(<span class="number">1</span>,username);</span><br><span class="line">            st.setString(<span class="number">2</span>,password);</span><br><span class="line"><span class="comment">//            查询</span></span><br><span class="line">             rs = st.executeQuery();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                 System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">                 System.out.println(rs.getString(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">                 System.out.println(<span class="string">&quot;===================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">             &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(coon,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="使用idea连接数据库"><a href="#使用idea连接数据库" class="headerlink" title="使用idea连接数据库"></a>使用idea连接数据库</h4><p>记得时区:ServerTime:UTC<br>    测试链接后,scheme设置mysql</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_33956536/article/details/107195051">https://blog.csdn.net/qq_33956536/article/details/107195051</a></p>
<h4 id="JDBC操作事务"><a href="#JDBC操作事务" class="headerlink" title="JDBC操作事务"></a>JDBC操作事务</h4><p>==要么都成功,要么都失败==</p>
<p>ACID原则:</p>
<p>原子性 :要么都完成,要么都不完成<br>        一致性 :总数不变<br>        <strong>隔离性 :多个进程互不干扰</strong><br>        持久性:一旦提交不可逆,持久化到数据库</p>
<p>隔离问题:<br>         脏读:一个事务读取了另一个没有提交的事务<br>        不可重复读:在同一个事务内,重复读取表中数据,表数据发生改变<br>        虚读(幻读):在一个事务内,读取到了别人插入的数据,导致前后读出的结果不一致</p>
<p>代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">开启事务  connection.setAutoCommit(<span class="keyword">false</span>);</span><br><span class="line">一组业务执行完毕.提交事务</span><br><span class="line">可以在<span class="keyword">catch</span>中显示定义语句 rollback,但默认失败回滚</span><br><span class="line">    <span class="keyword">package</span> com.haley.lesson04;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTransaction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pst=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection=JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//            执行操作事务</span></span><br><span class="line"><span class="comment">//            关闭数据库的自动提交功能,自动会开启事务</span></span><br><span class="line">            connection.setAutoCommit(<span class="keyword">false</span>);<span class="comment">//开启事务</span></span><br><span class="line"></span><br><span class="line">            String sql1=<span class="string">&quot;update account set money=money-100 where name=&#x27;A&#x27;&quot;</span>;</span><br><span class="line">            pst=connection.prepareStatement(sql1);</span><br><span class="line">            pst.executeUpdate();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            String sql2=<span class="string">&quot;update account set money=money+100 where name=&#x27;B&#x27;&quot;</span>;</span><br><span class="line">            pst=connection.prepareStatement(sql2);</span><br><span class="line">            pst.executeUpdate();</span><br><span class="line"><span class="comment">//            业务完毕 提交事务</span></span><br><span class="line">            connection.commit();</span><br><span class="line">            System.out.println(<span class="string">&quot;操作成功!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception throwables) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                connection.rollback();<span class="comment">//如果失败则回滚事务</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection,pst,rs);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="数据库连接池"><a href="#数据库连接池" class="headerlink" title="数据库连接池"></a>数据库连接池</h4><p>10.8数据库连接池<br>数据库连接–执行完毕–释放</p>
<p>连接–释放 十分浪费资源</p>
<p>池化技术： 准备一些预先的资源，过来就连接预先准备好的</p>
<p>常用连接数 100</p>
<p>最少连接数：100</p>
<p>最大连接数 ： 120 业务最高承载上限</p>
<p>排队等待，</p>
<p>等待超时：100ms</p>
<p><strong>编写连接池，实现一个接口 DateSource</strong></p>
<p>开源数据源实现(拿来即用)</p>
<p>DBCP</p>
<p>C3P0</p>
<p>Druid: 阿里巴巴</p>
<p>使用了这些数据库连接池之后，我们在项目开发中就不需要编写连接数据库的代码了</p>
<p><strong>DBCP</strong></p>
<p>需要用到的jar包: commons-jdbc-1.4.jar  commons-pool-1.6<br>        地址:<a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/commons-dbcp/commons-dbcp/1.4/">https://repo1.maven.org/maven2/commons-dbcp/commons-dbcp/1.4/</a><br>                <a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/commons-pool/commons-pool/1.6/">https://repo1.maven.org/maven2/commons-pool/commons-pool/1.6/</a></p>
<p><strong>C3P0</strong><br>    需要用到的jar包<br>   c3p0-0.9-5.5:<a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/com/mchange/c3p0/0.9.5.5/">https://repo1.maven.org/maven2/com/mchange/c3p0/0.9.5.5/</a><br>    mchange-commons-java-0.2-19:<a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/com/mchange/mchange-commons-java/0.2.19/">https://repo1.maven.org/maven2/com/mchange/mchange-commons-java/0.2.19/</a></p>
<p>结论</p>
<p>无论使用什么数据源，本质是不变的，DateSource接口(.getconnection不变)不会变，方法就不会</p>
<h2 id="总结依赖配置"><a href="#总结依赖配置" class="headerlink" title="总结依赖配置"></a>总结依赖配置</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## 常用依赖</span></span><br><span class="line"><span class="code">```xml</span></span><br><span class="line"><span class="code"> &lt;dependencies&gt;</span></span><br><span class="line"><span class="code">&lt;!--        要导入Web包--&gt;</span></span><br><span class="line"><span class="code">    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line"><span class="code">    &lt;dependency&gt;</span></span><br><span class="line"><span class="code">        &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span></span><br><span class="line"><span class="code">        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</span></span><br><span class="line"><span class="code">        &lt;version&gt;5.3.4&lt;/version&gt;</span></span><br><span class="line"><span class="code">    &lt;/dependency&gt;</span></span><br><span class="line"><span class="code">&lt;!--        要导入Junit包--&gt;</span></span><br><span class="line"><span class="code">        &lt;dependency&gt;</span></span><br><span class="line"><span class="code">            &lt;groupId&gt;junit&lt;/groupId&gt;</span></span><br><span class="line"><span class="code">            &lt;artifactId&gt;junit&lt;/artifactId&gt;</span></span><br><span class="line"><span class="code">            &lt;version&gt;4.12&lt;/version&gt;</span></span><br><span class="line"><span class="code">        &lt;/dependency&gt;</span></span><br><span class="line"><span class="code">        &lt;!--该依赖主要是针对 @Resource 使用--&gt;</span></span><br><span class="line"><span class="code">        &lt;dependency&gt;</span></span><br><span class="line"><span class="code">            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;</span></span><br><span class="line"><span class="code">            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;</span></span><br><span class="line"><span class="code">            &lt;version&gt;1.2&lt;/version&gt;</span></span><br><span class="line"><span class="code">        &lt;/dependency&gt;</span></span><br><span class="line"><span class="code">        &lt;!--        导入log4j依赖--&gt;</span></span><br><span class="line"><span class="code">        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span></span><br><span class="line"><span class="code">        &lt;dependency&gt;</span></span><br><span class="line"><span class="code">            &lt;groupId&gt;log4j&lt;/groupId&gt;</span></span><br><span class="line"><span class="code">            &lt;artifactId&gt;log4j&lt;/artifactId&gt;</span></span><br><span class="line"><span class="code">            &lt;version&gt;1.2.17&lt;/version&gt;</span></span><br><span class="line"><span class="code">        &lt;/dependency&gt;</span></span><br><span class="line"><span class="code">        &lt;!--        导入Mybatis--&gt;</span></span><br><span class="line"><span class="code">        &lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line"><span class="code">        &lt;dependency&gt;</span></span><br><span class="line"><span class="code">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span></span><br><span class="line"><span class="code">            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span></span><br><span class="line"><span class="code">            &lt;version&gt;3.5.6&lt;/version&gt;</span></span><br><span class="line"><span class="code">        &lt;/dependency&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">    &lt;/dependencies&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">        &lt;!--  在build中配置resources，来防止我们导出失败问题 --&gt;</span></span><br><span class="line"><span class="code">        &lt;build&gt;</span></span><br><span class="line"><span class="code">        &lt;resources&gt;</span></span><br><span class="line"><span class="code">            &lt;resource&gt;</span></span><br><span class="line"><span class="code">                &lt;directory&gt;src/main/resources&lt;/directory&gt;</span></span><br><span class="line"><span class="code">                &lt;includes&gt;</span></span><br><span class="line"><span class="code">                    &lt;include&gt;**/*.properties&lt;/include&gt;</span></span><br><span class="line"><span class="code">                    &lt;include&gt;**/*.xml&lt;/include&gt;</span></span><br><span class="line"><span class="code">                &lt;/includes&gt;</span></span><br><span class="line"><span class="code">                &lt;filtering&gt;true&lt;/filtering&gt;</span></span><br><span class="line"><span class="code">            &lt;/resource&gt;</span></span><br><span class="line"><span class="code">            &lt;resource&gt;</span></span><br><span class="line"><span class="code">                &lt;directory&gt;src/main/java&lt;/directory&gt;</span></span><br><span class="line"><span class="code">                &lt;includes&gt;</span></span><br><span class="line"><span class="code">                    &lt;include&gt;**/*.properties&lt;/include&gt;</span></span><br><span class="line"><span class="code">                    &lt;include&gt;**/*.xml&lt;/include&gt;</span></span><br><span class="line"><span class="code">                &lt;/includes&gt;</span></span><br><span class="line"><span class="code">                &lt;filtering&gt;true&lt;/filtering&gt;</span></span><br><span class="line"><span class="code">            &lt;/resource&gt;</span></span><br><span class="line"><span class="code">        &lt;/resources&gt;</span></span><br><span class="line"><span class="code">        &lt;/build&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line"><span class="section">## 注解说明</span></span><br><span class="line"><span class="bullet">-</span> @Autowired:自动装配通过类型,名字</span><br><span class="line"><span class="code">    如果Autowired不能唯一自动装配属性(完成bean的注入),则需要通过@Qualifier(value=&quot;xxx&quot;)</span></span><br><span class="line"><span class="code">-  **@Nullable** 字段标记了这个注解,说明这个字段可以为null,为空不报错</span></span><br><span class="line"><span class="code">- @Resource:自动装配通过名字,类型</span></span><br><span class="line"><span class="code">- @Component：组件，放在类上，说明这个类被Spring管理了，就是bean,完成bean的注册</span></span><br><span class="line"><span class="code">## 导入的包</span></span><br><span class="line"><span class="code">```xml</span></span><br><span class="line"><span class="code">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="code">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="line"><span class="code">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line"><span class="code">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="line"><span class="code">       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="line"><span class="code">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="code">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="code">        http://www.springframework.org/schema/context</span></span><br><span class="line"><span class="code">        https://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="line"><span class="code">        http://www.springframework.org/schema/aop</span></span><br><span class="line"><span class="code">        https://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;</span></span><br><span class="line"><span class="code">&lt;!--    开启注解的支持--&gt;</span></span><br><span class="line"><span class="code">    &lt;context:annotation-config/&gt;</span></span><br><span class="line"><span class="code">&lt;/beans&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<h2 id="数据库properties配置"><a href="#数据库properties配置" class="headerlink" title="数据库properties配置"></a>数据库properties配置</h2><p>db.properties</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">driver = com.mysql.cj.jdbc.Driver</span><br><span class="line">url= jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;serverTime=UTC</span><br><span class="line">#username= root</span><br><span class="line">password= 123456hj</span><br></pre></td></tr></table></figure>

<p>logfj.properties</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#将等级为DEBUG的日志信息输出到console和file这两个目的地，console和file的定义在下面的代码</span><br><span class="line">log4j.rootLogger=DEBUG,console,file</span><br><span class="line"></span><br><span class="line">#控制台输出的相关设置</span><br><span class="line">log4j.appender.console = org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.console.Target = System.out</span><br><span class="line">log4j.appender.console.Threshold=DEBUG</span><br><span class="line">log4j.appender.console.layout = org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.console.layout.ConversionPattern=[%c]-%m%n</span><br><span class="line">#文件输出的相关设置</span><br><span class="line">log4j.appender.file = org.apache.log4j.RollingFileAppender</span><br><span class="line">log4j.appender.file.File=./log/haley.log</span><br><span class="line">log4j.appender.file.MaxFileSize=10mb</span><br><span class="line">log4j.appender.file.Threshold=DEBUG</span><br><span class="line">log4j.appender.file.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.file.layout.ConversionPattern=[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span><br><span class="line">#日志输出级别</span><br><span class="line">log4j.logger.org.mybatis=DEBUG</span><br><span class="line">log4j.logger.java.sql=DEBUG</span><br><span class="line">log4j.logger.java.sql.Statement=DEBUG</span><br><span class="line">log4j.logger.java.sql.ResultSet=DEBUG</span><br><span class="line">log4j.logger.java.sq1.PreparedStatement=DEBUG</span><br></pre></td></tr></table></figure>







<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>MySQL 服务正在启动 . MySQL 服务无法启动。 服务没有报告任何错误</p>
<p>netstat -aon|findstr “3306”</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/koloumi/article/details/83117497">https://blog.csdn.net/koloumi/article/details/83117497</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/03/30/%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E6%97%A5%E5%BF%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/30/%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E6%97%A5%E5%BF%97/" itemprop="url">注册登录日志</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-29T19:11:09Z">
                2021-03-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="注册登录日志"><a href="#注册登录日志" class="headerlink" title="注册登录日志"></a>注册登录日志</h1><p>问题及解决方案</p>
<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>关于插入背景图片到页面：<br>                用<code>CSS</code>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span>       </span><br><span class="line">.bgc&#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">1500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background</span>:no-repeat <span class="built_in">url</span>(<span class="string">../log/images/bgc.jpg</span>);</span></span><br><span class="line"><span class="css">            <span class="comment">/* cover可使得图片覆盖整个页面，作为背景 */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">background-size</span>: cover;</span></span><br><span class="line"><span class="css">            <span class="comment">/* background-color:rgb(31, 132, 190); */</span></span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="css">    		<span class="comment">/*要有相对定位（子绝父相），便于里边的盒子摆放位置*/</span></span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span>    </span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<h3 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h3><p>为按钮设置按压效果:先为按钮设置背景颜色，然后设置active<br>选属性时不能忘记可以input [type=’text’]`选标签    </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">		#reset&#123;</span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">126</span>, <span class="number">126</span>, <span class="number">126</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">    #submit&#123;</span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">57</span>, <span class="number">130</span>, <span class="number">238</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-id">#reset</span><span class="selector-pseudo">:active</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-id">#submit</span><span class="selector-pseudo">:active</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">#666666</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">4px</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="页面结构"><a href="#页面结构" class="headerlink" title="页面结构"></a>页面结构</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bgc&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="css">        &lt;<span class="selector-tag">form</span>&gt;</span></span><br><span class="line"><span class="css">           &lt;<span class="selector-tag">div</span>&gt;</span></span><br><span class="line"><span class="css">            //<span class="selector-tag">label</span>中的for相当于id</span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&#x27;&#x27;</span>&gt;</span> 用户<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">            //表单要有name属性，尽量与value值相同</span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;text&#x27;</span> <span class="attr">name</span>=<span class="string">&#x27;username&#x27;</span> <span class="attr">value</span>=<span class="string">&#x27;username&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="css">        &lt;/<span class="selector-tag">div</span>&gt;</span></span><br><span class="line"><span class="css">        &lt;<span class="selector-tag">div</span>&gt;</span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">lable</span>&gt;</span>密码<span class="tag">&lt;/<span class="name">lable</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;password&#x27;</span> <span class="attr">name</span>=<span class="string">&#x27;pwd&#x27;</span> <span class="attr">value</span>=<span class="string">&#x27;password&#x27;</span>&gt;</span> </span></span><br><span class="line"><span class="css">        &lt;/<span class="selector-tag">div</span>&gt;</span></span><br><span class="line"><span class="css">            &lt;<span class="selector-tag">button</span>&gt;重置&lt;/<span class="selector-tag">button</span>&gt;</span></span><br><span class="line"><span class="css">            <span class="comment">/*这里用a标签做了登录按钮为了跳转页面到下一个，发现使用location.assign()方法跳转页面无效 ，但location.href=&quot;&quot;方法必须在a做登录按钮的时候有效   */</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="css">        &lt;/<span class="selector-tag">form</span>&gt;</span></span><br><span class="line"><span class="css">    &lt;/<span class="selector-tag">section</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="css">&lt;/<span class="selector-tag">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="ajax学习"><a href="#ajax学习" class="headerlink" title="ajax学习"></a><code>ajax</code>学习</h3><h4 id="json-ajax"><a href="#json-ajax" class="headerlink" title="json ajax"></a>json ajax</h4><p>用 <code>jQuery</code>的方法更简单</p>
<p>用之前要引入<code>json</code>的script，从<code>bootcdn</code>上</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">/*绑定标签后*/</span> </span></span><br><span class="line"><span class="javascript">$.ajax&#123;<span class="comment">//$表示JSON</span></span></span><br><span class="line">    </span><br><span class="line"><span class="javascript">  <span class="comment">//请求类型  </span></span></span><br><span class="line"><span class="javascript">    type:<span class="string">&#x27;POST/GET&#x27;</span>,</span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">  <span class="comment">//路径</span></span></span><br><span class="line"><span class="javascript">    url:<span class="string">&#x27;http://47.92.50.188:7878/login&#x27;</span>,</span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">    <span class="comment">//响应体结果转为json类型</span></span></span><br><span class="line"><span class="javascript">    dataType:<span class="string">&#x27;json&#x27;</span>;</span></span><br><span class="line">    </span><br><span class="line"><span class="javascript">    <span class="comment">//请求参数  不要用JSON.stringfy（）方法</span></span></span><br><span class="line"> 	data:</span><br><span class="line"><span class="javascript">    &#123;<span class="attr">user</span>:<span class="string">&quot;20201111&quot;</span>,<span class="attr">password</span>:<span class="string">&#x27;20201111&#x27;</span>&#125;,</span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">    timeout:<span class="number">2000</span>,<span class="comment">//超时时间ms</span></span></span><br><span class="line"><span class="javascript">     headers：   ，<span class="comment">//头信息</span></span></span><br><span class="line">     </span><br><span class="line"><span class="javascript">    <span class="comment">//发送成功返回响应体</span></span></span><br><span class="line"><span class="javascript">    success:<span class="function"><span class="keyword">function</span>(<span class="params">response</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">   <span class="comment">//对返回的响应体做处理，上边参数传入响应体提供形参，响应体由浏览器传入  </span></span></span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="javascript">    <span class="comment">//发送请求失败执行的函数</span></span></span><br><span class="line"><span class="javascript">    error:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="原型ajax"><a href="#原型ajax" class="headerlink" title="原型ajax"></a>原型ajax</h4><p>原型<code>ajax</code></p>
<p>一般为如下格式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//创建对象</span></span></span><br><span class="line"><span class="javascript">    xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line">    </span><br><span class="line"><span class="javascript">    <span class="comment">//调open方法，传参数（请求类型和地址）</span></span></span><br><span class="line"><span class="javascript">  xhr.open(<span class="string">&#x27;POST&#x27;</span>,<span class="string">&#x27;http://47.92.50.188:7878/login&#x27;</span>)</span></span><br><span class="line">    </span><br><span class="line"><span class="javascript">    <span class="comment">//设置响应类型</span></span></span><br><span class="line"><span class="javascript">    xhr.responseType=<span class="string">&#x27;json&#x27;</span>;</span></span><br><span class="line">    </span><br><span class="line"><span class="javascript">   <span class="comment">//设置响应头</span></span></span><br><span class="line"><span class="javascript">    xhr.setRequestHeader(<span class="string">&#x27;Content-Type&#x27;</span>,<span class="string">&#x27;application/json&#x27;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="comment">//发送请求 参数加上，要用json.stringfy（）</span></span></span><br><span class="line"><span class="javascript">  xhr.send(<span class="built_in">JSON</span>.stringif y(&#123;<span class="attr">user</span>:<span class="string">&quot;20201111&quot;</span>,<span class="attr">password</span>:<span class="string">&#x27;20201111&#x27;</span>&#125;));</span></span><br><span class="line">    </span><br><span class="line"><span class="javascript">  <span class="comment">//    事件绑定</span></span></span><br><span class="line"><span class="javascript">  xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">      </span><br><span class="line"><span class="javascript">      <span class="comment">//状态判断</span></span></span><br><span class="line">	if(xhr.readyState===4)&#123;</span><br><span class="line">        </span><br><span class="line"><span class="javascript">        <span class="comment">//检查是否发送成功</span></span></span><br><span class="line">     if(xhr.status&gt;=200&amp;xhr.status&lt;300)&#123;</span><br><span class="line">         </span><br><span class="line"><span class="javascript">     <span class="comment">//处理服务器返回的结果   例：</span></span></span><br><span class="line">      result.innerHTML=xhr.response;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">haley06</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
