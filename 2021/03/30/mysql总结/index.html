<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Mysql初识mysqljavaee:企业级java开发 Web       前端(页面:展示 数据)   后台(连接点:链接数据库JDBC,链接前端(控制, 控制视图跳转,给前端传数据))       数据库:(存数据,Txt,excel,word),是所有软件体系中最核心的存在   DBA  什么是数据库? 数据库(DB):             概念:数据仓库,软件,安装在操作系统之上.s">
<meta property="og:type" content="article">
<meta property="og:title" content="mysql总结">
<meta property="og:url" content="http://haley06.com/2021/03/30/mysql%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="haley">
<meta property="og:description" content="Mysql初识mysqljavaee:企业级java开发 Web       前端(页面:展示 数据)   后台(连接点:链接数据库JDBC,链接前端(控制, 控制视图跳转,给前端传数据))       数据库:(存数据,Txt,excel,word),是所有软件体系中最核心的存在   DBA  什么是数据库? 数据库(DB):             概念:数据仓库,软件,安装在操作系统之上.s">
<meta property="og:locale">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20200708013314340.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzOTU2NTM2,size_16,color_FFFFFF,t_70">
<meta property="article:published_time" content="2021-03-30T14:13:34.000Z">
<meta property="article:modified_time" content="2021-03-30T06:14:00.637Z">
<meta property="article:author" content="haley06">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20200708013314340.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzOTU2NTM2,size_16,color_FFFFFF,t_70">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://haley06.com/2021/03/30/mysql总结/"/>





  <title>mysql总结 | haley</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">haley</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://haley06.com/2021/03/30/mysql%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haley">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">mysql总结</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-03-30T22:13:34+08:00">
                2021-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h2><h3 id="初识mysql"><a href="#初识mysql" class="headerlink" title="初识mysql"></a>初识mysql</h3><p>javaee:企业级java开发 Web<br>       <strong>前端</strong>(页面:展示 数据)   后台(连接点:链接数据库JDBC,链接前端(控制, 控制视图跳转,给前端传数据))<br>       <strong>数据库</strong>:(存数据,Txt,excel,word),是所有软件体系中最核心的存在   DBA</p>
<ul>
<li><p>什么是数据库?</p>
<p>数据库(DB):        </p>
<pre><code>    概念:数据仓库,软件,安装在操作系统之上.sql,可以存储大量数据,500万
    作用:存数据(DB),管理数据(DBMS)
</code></pre>
</li>
<li><p>数据库分类</p>
<p><strong>关系型数据库:</strong>(SQL)</p>
<ul>
<li>MYSQL Oracle,sql Server,DB2,SQLlite</li>
<li>通过表和表之间,行和列之间的关系进行数据存储   学员表,考勤表</li>
</ul>
<p><strong>非关系型数据库</strong>:( Not Only A SQL)</p>
<ul>
<li><p>Redis,MongDB</p>
</li>
<li><p>对象存储,通过对象的自身属性来决定</p>
<p>$\textcolor{red}{DBMS(数据库管理系统)} $</p>
</li>
<li><p>数据库管理软件,管理操作数据</p>
</li>
</ul>
</li>
<li><p>MYSQL(使用SQL语言)</p>
<p>​    mysql是一个<strong>关系型数据库</strong> ,由瑞典MySQL AB 公司开发，属于 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Oracle">Oracle</a> 旗下产品。<br>​    MySQL是最好的 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/RDBMS/1048260">RDBMS</a> (Relational Database Management System，关系数据库管理系统) 应用软件之一。开源软件,体积小,速度快,成本低,可以做集群</p>
</li>
</ul>
<h3 id="MySQL命令"><a href="#MySQL命令" class="headerlink" title="MySQL命令"></a>MySQL命令</h3><p>1.一些命令</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">启动服务 net <span class="keyword">start</span> mysql</span><br><span class="line">停止服务 net stop mysql</span><br><span class="line">连接数据库:mysql <span class="operator">-</span>u root <span class="operator">-</span>p</span><br><span class="line">连接数据库:mysql <span class="operator">-</span>u root <span class="operator">-</span>p<span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span>(密码)</span><br><span class="line">清空服务 sc <span class="keyword">delete</span> mysql</span><br><span class="line">刷新: flush privileges;</span><br><span class="line"><span class="comment">------------------------------------</span></span><br><span class="line">所有数据使用<span class="string">&#x27;;&#x27;</span>结尾</span><br><span class="line">查看数据库:<span class="keyword">show</span> databases;</span><br><span class="line">切换数据库:use school</span><br><span class="line">查看所有表:<span class="keyword">show</span> tables;</span><br><span class="line">查看表中信息:<span class="keyword">describe</span> school;</span><br><span class="line"></span><br><span class="line">创建一个数据库: <span class="keyword">create</span> database  westos;</span><br><span class="line">退出连接:exit</span><br><span class="line">注释:<span class="comment">--(sql)单行</span></span><br><span class="line">	<span class="comment">/* */</span>   #  多行注释</span><br></pre></td></tr></table></figure>

<p>2.安装sqlyog(可视化mysql)</p>
<p>​    创建school数据库<br>​                基字符集:utf8<br>​                数据库排序规则:utf8_general_ci<br>​                $\textcolor{yellow}{每一个sqlyog执行的操作,本质上就是对应了一个sql,可在软件历史记录中查看} $</p>
<p>​    查看表,添加记录</p>
<p>3.mysql四种语言:CRUD 增删改查        CV程序员  API程序员  CRUD(业务程序员)<br>    数据库xxx语言<br>            DDL:定义<br>            DML:操作<br>            DQL:查询<br>            DCL:控制</p>
<h3 id="使用数据库"><a href="#使用数据库" class="headerlink" title="使用数据库"></a>使用数据库</h3><p>操作数据库-&gt;操作数据库表-&gt;操作数据库表的数据</p>
<p>$\textcolor{yellow}{mysql数据库不区分大小写} $</p>
<h4 id="操作数据库"><a href="#操作数据库" class="headerlink" title="操作数据库"></a>操作数据库</h4><ul>
<li><p>创建数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] westos <span class="operator">/</span><span class="operator">/</span>中括号表示可选,大括号必选</span><br></pre></td></tr></table></figure></li>
<li><p>删除数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE  IF <span class="keyword">EXISTS</span> westos</span><br></pre></td></tr></table></figure></li>
<li><p>使用数控库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 如果你的表名或字段名是一个特殊字符,需要带`</span></span><br><span class="line">USE `school`</span><br></pre></td></tr></table></figure></li>
<li><p>查看数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> DATABASES</span><br></pre></td></tr></table></figure>

<p>学习:</p>
<ul>
<li>对照sqlyog可视化查看sql</li>
<li>固定语法和关键字记住</li>
</ul>
</li>
</ul>
<h4 id="数据库列类型"><a href="#数据库列类型" class="headerlink" title="数据库列类型"></a>数据库列类型</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">数值</span><br><span class="line">	tinyint 十分小的数据 <span class="number">1</span>个字节</span><br><span class="line">	<span class="type">smallint</span> 较小的数据   <span class="number">2</span>个字节</span><br><span class="line">	mediumint 中等大小数据  <span class="number">3</span>个字节</span><br><span class="line">	<span class="type">int</span>  	标准数据	<span class="number">4</span>个字节  常用</span><br><span class="line">	<span class="type">bigint</span>   较大数据  <span class="number">8</span>个字节</span><br><span class="line">	<span class="type">float</span>    单精度浮点数  <span class="number">4</span>个字节</span><br><span class="line">	<span class="keyword">double</span>   双精度浮点数   <span class="number">8</span>个字节(精度问题)</span><br><span class="line">	<span class="type">decimal</span>  字符串形式的浮点数  金融计算的时候,一般使用<span class="type">decimal</span></span><br><span class="line">字符串</span><br><span class="line">	<span class="type">char</span>  字符串固定大小的 <span class="number">0</span><span class="number">-255</span></span><br><span class="line">	<span class="type">varchar</span>  可变字符串  <span class="number">0</span><span class="number">-65535</span>  <span class="operator">/</span><span class="operator">/</span>常用 String</span><br><span class="line">	tinytext   微型文本  <span class="number">2</span><span class="operator">^</span><span class="number">8</span><span class="number">-1</span></span><br><span class="line">	text      文本串     <span class="number">2</span><span class="operator">^</span><span class="number">16</span><span class="number">-1</span>   保存大文本</span><br><span class="line">时间和日期</span><br><span class="line">	<span class="type">date</span>  YYYY<span class="operator">-</span>MM<span class="operator">-</span>DD 日期</span><br><span class="line">	<span class="type">time</span>  HH:mm:ss  时间格式</span><br><span class="line">	datetime  YYYY<span class="operator">-</span>MM<span class="operator">-</span>DD HH:mm:ss  最常用的时间格式</span><br><span class="line">	<span class="type">timestamp</span>  时间戳  <span class="number">1970</span> <span class="number">1</span>月<span class="number">1</span>到现在毫秒数  较为常用</span><br><span class="line">	<span class="keyword">year</span> 年份表示</span><br><span class="line"><span class="keyword">null</span></span><br><span class="line">	没有值 空值</span><br><span class="line">	注意:不要使用<span class="keyword">null</span>进行运算,结果为<span class="keyword">null</span></span><br></pre></td></tr></table></figure>

<h4 id="数据库的字段属性"><a href="#数据库的字段属性" class="headerlink" title="数据库的字段属性"></a>数据库的字段属性</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Unsigned</span><br><span class="line">	无符号整数</span><br><span class="line">	声明了该列不能声明为负数</span><br><span class="line">zerofill</span><br><span class="line">	<span class="number">0</span>填充的</span><br><span class="line">	不足的位数使用<span class="number">0</span>来填充  <span class="type">int</span>(<span class="number">3</span>)  <span class="number">5</span> <span class="number">005</span></span><br><span class="line">自增</span><br><span class="line">	通常理解为自增:自动在上一条记录的基础上<span class="operator">+</span><span class="number">1</span>(默认)</span><br><span class="line">	通常用于设置唯一的主键  index  必须是整数类型</span><br><span class="line">	可以自定义设计主键自增起始值和步长</span><br><span class="line">非空 <span class="keyword">NUll</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">	假设设置为<span class="keyword">not</span> <span class="keyword">null</span>,如果不给它赋值,就会报错<span class="operator">!</span></span><br><span class="line">	<span class="keyword">Null</span>, 如果不填写值,默认就是<span class="keyword">null</span></span><br><span class="line">默认</span><br><span class="line">	设置默认的值</span><br><span class="line">	sex,默认值为男,如果不指定该列的值,则会有默认的值</span><br><span class="line">每个表都几乎必须有以下<span class="number">5</span>个字段</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">id 主键</span></span><br><span class="line"><span class="comment">version 乐观锁</span></span><br><span class="line"><span class="comment">is_delete 伪删除</span></span><br><span class="line"><span class="comment">gmt_create 创建时间</span></span><br><span class="line"><span class="comment">gmt _update 修改时间</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="创建数据库表"><a href="#创建数据库表" class="headerlink" title="创建数据库表"></a>创建数据库表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">目标:创建一个school数据库</span></span><br><span class="line"><span class="comment">创建学生表(列,字段) 使用sql创建</span></span><br><span class="line"><span class="comment">学号int  登陆密码varchar(20) 姓名 性别varchar(2)</span></span><br><span class="line"><span class="comment">出生日期(datatime) 家庭住址,email</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">注意点: 使用英文(),表的名称和字段尽量使用``括起来</span></span><br><span class="line"><span class="comment">AUTO_INCREMENT 自增</span></span><br><span class="line"><span class="comment">字符串一般使用单引号括起来</span></span><br><span class="line"><span class="comment">所有语句后面逗号,最后一个不加</span></span><br><span class="line"><span class="comment">PRIMARY KEY 主键 一般一个表只有一个唯一的主键</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`sex`  <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span>  COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf`student`<span class="number">8</span></span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line"> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">          `id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">          `name` <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">          `pwd` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">          `sex` <span class="type">varchar</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span> COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">          `birthday` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">          `address` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">          `email` <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">          <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">        ) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">格式:</span><br><span class="line">        <span class="keyword">CREATE</span> <span class="keyword">TABLE</span>[ IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> ] `表名`(</span><br><span class="line">        `字段名` 列类型 [属性] [索引] [注释],</span><br><span class="line">        `字段名` 列类型 [属性] [索引] [注释],</span><br><span class="line">            .....</span><br><span class="line">        `字段名` 列类型 [属性] [索引] [注释]</span><br><span class="line">        )[表类型] [字符集设置] [注释]</span><br><span class="line">常用命令:</span><br><span class="line">	<span class="keyword">SHOW</span> <span class="keyword">CREATE</span> DATABASE school  <span class="comment">-- 查看创建数据库的语句</span></span><br><span class="line">    <span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student <span class="comment">-- 查看student数据表定义语句</span></span><br><span class="line">    <span class="keyword">DESC</span> student <span class="comment">-- 显示表的数据结构</span></span><br><span class="line">       </span><br></pre></td></tr></table></figure>

<h4 id="数据表的类型-针对MySQL5-0"><a href="#数据表的类型-针对MySQL5-0" class="headerlink" title="数据表的类型(针对MySQL5.0)"></a>数据表的类型(针对MySQL5.0)</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INNODB默认使用</span><br><span class="line">MYISAM 早些年使用</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th></th>
<th>MYISAM</th>
<th>INNODB</th>
</tr>
</thead>
<tbody><tr>
<td>事物支持</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>数据行锁定</td>
<td>表锁,不支持</td>
<td>支持</td>
</tr>
<tr>
<td>外键约束</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>全文搜索</td>
<td>支持</td>
<td>支持全英文搜索</td>
</tr>
<tr>
<td>表空间大小</td>
<td>较小</td>
<td>较大,约为前者2倍</td>
</tr>
<tr>
<td>好处</td>
<td>节约空间,速度较快</td>
<td>安全性高,事务处理,多表多用户操</td>
</tr>
</tbody></table>
<p><strong>物理空间存储位置</strong></p>
<p>所有数据文件都存在data目录下,一个文件夹就对应一个数据库,本质还是文件存储</p>
<pre><code>    MYSQL引擎在屋里文件上区别
    --INoodb在数据库表中只有一个.frm文件,以及上级目录下单ibdata1文件
    MYISAM对应文件
            .frm 表结构定义文件
            .MYD 数据文件(data)
            . MYI索引文件(index)
</code></pre>
<p><strong>设置数据库表字符编码</strong><br>        <code>charset=utf8</code><br>        不设置的话,会是MySQL默认的字符编码(不支持中文),MySQL的默认编码是Latin1<br>        也可在my.ini中配置默认的编码<br>        <code>charset-set-server=utf8</code></p>
<h4 id="修改和删除表"><a href="#修改和删除表" class="headerlink" title="修改和删除表"></a>修改和删除表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改表名  ALTER TABLE 旧表名 RENAME AS 新表名</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher RENAME <span class="keyword">AS</span> teacher1</span><br><span class="line"><span class="comment">-- 增加表的字段 ALTER TABLE 表名 ADD 字段名 列属性</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 <span class="keyword">ADD</span> age <span class="type">INT</span>(<span class="number">11</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改表的字段(重命名 修改约束)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 MODIFY 字段名 列属性(<span class="number">11</span>)</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 MODIFY age <span class="type">VARCHAR</span>(<span class="number">11</span>)<span class="comment">-- 修改约束(字段类型)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 CHANGE 旧名字 新名字 列属性(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 CHANGE age age1 <span class="type">INT</span>(<span class="number">1</span>) <span class="comment">-- 字段重命名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除表的字段</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">DROP</span> 字段名</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> teacher1 <span class="keyword">DROP</span> age1</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除表(如果表存在)</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> teacher1</span><br></pre></td></tr></table></figure>

<p><strong>所有创建和删除操作尽量加上判断,以免报错</strong><br>    <strong>注意点</strong></p>
<ul>
<li>``字段名,使用它包裹    注释: – /* */   所有符号全部用英文</li>
</ul>
<h3 id="mysql数据管理"><a href="#mysql数据管理" class="headerlink" title="mysql数据管理"></a>mysql数据管理</h3><h4 id="外键-了解"><a href="#外键-了解" class="headerlink" title="外键(了解)"></a>外键(了解)</h4><p>方式一 在创建表的时候增加约束(麻烦,复杂)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> grade(</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级id&#x27;</span>,</span><br><span class="line">`gradename` <span class="type">VARCHAR</span> (<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级名称&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`gradeid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 学生表的gradeid字段 要去引用年龄表的gradeid</span></span><br><span class="line"> <span class="comment">-- 定义外键key</span></span><br><span class="line"> <span class="comment">-- 给这个外键添加约束(执行引用) references</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`sex`  <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span>  COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学生年级&#x27;</span>,</span><br><span class="line">`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`),</span><br><span class="line">KEY `FK_gradeid` (`gradeid`),</span><br><span class="line"><span class="keyword">CONSTRAINT</span> `FK_gradeid` <span class="keyword">FOREIGN</span> KEY (`gradeid`) <span class="keyword">REFERENCES</span> `grade`(`gradeid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line">删除有外键关系的表的时候,必须先删除引用别人的表(从表) 再删除倍引用的表(主表)</span><br></pre></td></tr></table></figure>

<p>方式二: 创建表成功后,添加外键约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> grade(</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级id&#x27;</span>,</span><br><span class="line">`gradename` <span class="type">VARCHAR</span> (<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级名称&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`gradeid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 学生表的gradeid字段 要去引用年龄表的gradeid</span></span><br><span class="line"> <span class="comment">-- 定义外键key</span></span><br><span class="line"> <span class="comment">-- 给这个外键添加约束(执行引用) references</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> `student`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;匿名&#x27;</span> COMMENT <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;123456&#x27;</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`sex`  <span class="type">VARCHAR</span>(<span class="number">2</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> <span class="string">&#x27;女&#x27;</span>  COMMENT <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">`birthday` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生日期&#x27;</span>,</span><br><span class="line">`gradeid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学生年级&#x27;</span>,</span><br><span class="line">`address` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;家庭住址&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="comment">-- 创建表的时候没有外键关系</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `student`</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> `FK_gradeid` <span class="keyword">FOREIGN</span> KEY(`gradeid`) <span class="keyword">REFERENCES</span> `grade`(`gradeid`)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ALTER TABLE `表名`</span></span><br><span class="line"><span class="comment">-- ADD CONSTRAINT `FK_约束名` FOREIGN KEY(`外键列名`) REFERENCES `所引用表的名字`(`引用该表的字段`)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>以上操作是物理外键,数据库级别的外键,不建议使用!(避免数据库过多,这里了解即可)<br>    <strong>最佳实践</strong>:<br>        数据库是单纯表,只是用来存数据,只有行(数据)和列(字段)<br>        想使用多张表的数据,用外键,可以程序实现</p>
<h4 id="DML语言-全记住"><a href="#DML语言-全记住" class="headerlink" title="DML语言(全记住)"></a>DML语言(全记住)</h4><h5 id="Insert-添加"><a href="#Insert-添加" class="headerlink" title="Insert(添加)"></a>Insert(添加)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 插入语句(添加)</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 表名([字段名<span class="number">1</span>,字段<span class="number">2</span>,字段名<span class="number">3</span>]) <span class="keyword">VALUES</span> (<span class="string">&#x27;值1&#x27;</span>,<span class="string">&#x27;值2&#x27;</span>,<span class="string">&#x27;值3&#x27;</span>...)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `grade`(`gradename`) <span class="keyword">VALUES</span> (<span class="string">&#x27;大四&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 由于主键自增,我们可以省略主键(如果不写表的字段,他就会一一匹配,这里会把大三赋值给id报错)</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `grade` <span class="keyword">VALUES</span> (<span class="string">&#x27;大三&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 一般插入语句,我们一定要数据与字段一一匹配</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `grade`(`gradename`) <span class="keyword">VALUES</span>(<span class="string">&#x27;大二&#x27;</span>),(<span class="string">&#x27;大一&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student`(`gradeid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student`(`name`) <span class="keyword">VALUES</span> (<span class="string">&#x27;张三&#x27;</span>)</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>这里gradeid必须加上,可能是mysql8<span class="number">.0</span>引用问题</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student`(`name`,`pwd`,`sex`,`gradeid`) <span class="keyword">VALUES</span> (<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;aaaa&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">2</span>),(<span class="string">&#x27;王五&#x27;</span>,<span class="string">&#x27;aaaa&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> (<span class="number">5</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;aaaa&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;2000-01-01&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;西安&#x27;</span>,<span class="string">&#x27;email&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>注意: 1.字段与字段之间英文逗号隔开<br>                2.字段是可以省略的,但是后边值需要一一对应<br>                3.可以同时插入多条语句,values后边值,需要使用,隔开即可          values(),()</p>
<h5 id="update-修改"><a href="#update-修改" class="headerlink" title="update(修改)"></a>update(修改)</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">update 修改谁(条件)  <span class="keyword">set</span> 原来的值<span class="operator">=</span>新值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改学员名字 带有简洁</span></span><br><span class="line">UPDATE `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;haley&#x27;</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 不指定条件,会改动所有</span></span><br><span class="line">UPDATE `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;haley5&#x27;</span></span><br><span class="line"><span class="comment">-- 修改多个属性,逗号隔开</span></span><br><span class="line">UPDATE `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;haley&#x27;</span>,`email`<span class="operator">=</span><span class="string">&#x27;2743286169@qq.com&#x27;</span> <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--语法</span></span><br><span class="line"><span class="comment">--UPDATE `表名` SET `列名`=&#x27;value&#x27;,[`列名`=&#x27;value&#x27;....] WHERE [条件];</span></span><br></pre></td></tr></table></figure>

<p>条件: where语句       id=某个值    大于某个值       在某个区间内修改….<br>    <strong>操作符会返回布尔值</strong></p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
<th>范围</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>等于</td>
<td>5=6</td>
<td>false</td>
</tr>
<tr>
<td>&lt;&gt;或!=</td>
<td>不等于</td>
<td>5&lt;&gt;6</td>
<td>true</td>
</tr>
<tr>
<td>&gt;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&gt;=</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;=</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>BETWEEN..AND..</td>
<td>[5,7]</td>
<td>在某个范围内</td>
<td></td>
</tr>
<tr>
<td>AND</td>
<td>我和你&amp;&amp;</td>
<td>5&gt;1 and 1&gt;2</td>
<td>false</td>
</tr>
<tr>
<td>OR</td>
<td>我或你</td>
<td>5&gt;1 and 1&gt;2</td>
<td>true</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 通过多个条件定位数据 无上限</span></span><br><span class="line">UPDATE `student` <span class="keyword">SET</span> `name`<span class="operator">=</span><span class="string">&#x27;哈哈哈&#x27;</span> <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;haok&#x27;</span> <span class="keyword">AND</span> `gradeid`<span class="operator">=</span><span class="string">&#x27;1&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>语法: ==–UPDATE <code>表名</code> SET <code>列名</code>=’value’,[<code>列名</code>=’value’….] WHERE [条件];==<br>        注意:<br>            数据库列名带上``<br>            条件:筛选条件,如果没有指定,则会修改所有列<br>            value,是一个具体的值,也可以是一个变量<br>            多个设置的属性之间使用逗号隔开</p>
<h5 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h5><p>语法: ==delete from 表名 [where 条件]==</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除指定数据</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student` <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">5</span></span><br><span class="line"><span class="comment">--删除数据(全部)</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student`</span><br><span class="line"></span><br><span class="line"><span class="keyword">TRUNCATE</span> 命令:完全清空一个数据表 表单结构和索引约束不会变</span><br><span class="line"><span class="comment">-- 清空student表</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> `student`</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span>和<span class="keyword">truncate</span>区别</span><br><span class="line">相同点:都能删除数据 都不会删除表结构</span><br><span class="line">不同:<span class="keyword">TRUNCATE</span> 重新设置 自增列 计数器会归零</span><br><span class="line">	TRUCATE 不会影响事务</span><br><span class="line"><span class="comment">-- 测试delete和truncate区别</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `test`(</span><br><span class="line">`id` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">`coll` <span class="type">VARCHAR</span> (<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">)ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `test` (`coll`) <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>),(<span class="string">&#x27;2&#x27;</span>),(<span class="string">&#x27;3&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">DELETE</span> <span class="keyword">FROM</span> `test`<span class="comment">-- 不会影响自增</span></span><br><span class="line"> </span><br><span class="line"> <span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> `test` <span class="comment">-- 自增会归0</span></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p>delete删除问题:重启数据库,现象</p>
<ul>
<li>innoDb 自增列会从1开始(存在内存中的,断电即失去)</li>
<li>mysql  继续从上一个自增量开始(存在文件中,不会丢失)</li>
</ul>
<h3 id="查询数据-最重点"><a href="#查询数据-最重点" class="headerlink" title="查询数据(最重点)"></a>查询数据(最重点)</h3><p>(Data query Language: 数据查询语言)</p>
<ul>
<li><p>所有查询操作都用它 Select</p>
</li>
<li><p>简单查询,复杂查询它都能做</p>
</li>
<li><p>==数据库最核心语言,最重要语句 使用频率最高==,</p>
</li>
<li><p>所有表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> school</span><br><span class="line">USE school</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `grade`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `grade`(</span><br><span class="line"> `GradeID` <span class="type">INT</span> (<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;年级编号&#x27;</span>,</span><br><span class="line"> `GradeName` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级名称&#x27;</span>,</span><br><span class="line"> <span class="keyword">PRIMARY</span> KEY (`GradeID`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB AUTO_INCREMENT<span class="operator">=</span><span class="number">6</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `grade`(`GradeID`,`GradeName`) <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;大一&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;大二&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;大三&#x27;</span>),(<span class="number">4</span>,<span class="string">&#x27;大四&#x27;</span>),(<span class="number">5</span>,<span class="string">&#x27;预科班&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `<span class="keyword">result</span>`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">result</span>`(</span><br><span class="line">`StudentNo` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`SubjectNo` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;课程编号&#x27;</span>,</span><br><span class="line">`ExamDate` DATETIME <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;考试日期&#x27;</span>,</span><br><span class="line">`StudentResult` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;考试成绩&#x27;</span>,</span><br><span class="line">KEY `SubjectNo`(`SubjectNo`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">result</span>` <span class="keyword">VALUES</span></span><br><span class="line"> (<span class="number">1000</span>,<span class="number">1</span>,<span class="string">&#x27;2013-11-11 16:00:00&#x27;</span>,<span class="number">85</span>),</span><br><span class="line"> (<span class="number">1000</span>,<span class="number">2</span>,<span class="string">&#x27;2013-11-12 16:00:00&#x27;</span>,<span class="number">70</span>),</span><br><span class="line"> (<span class="number">1000</span>,<span class="number">3</span>,<span class="string">&#x27;2013-11-11 09:00:00&#x27;</span>,<span class="number">68</span>),</span><br><span class="line"> (<span class="number">1000</span>,<span class="number">4</span>,<span class="string">&#x27;2013-11-13 16:00:00&#x27;</span>,<span class="number">98</span>),</span><br><span class="line"> (<span class="number">1000</span>,<span class="number">5</span>,<span class="string">&#x27;2013-11-14 16:00:00&#x27;</span>,<span class="number">58</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `student`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student`(</span><br><span class="line">`StudentNo` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学号&#x27;</span>,</span><br><span class="line">`LoginPwd` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`StudentName`<span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学生姓名&#x27;</span>,</span><br><span class="line">`Sex` TINYINT(<span class="number">1</span>)  <span class="keyword">DEFAULT</span>  <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;性别,取值0或1&#x27;</span>,</span><br><span class="line">`GradeId` <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级编号&#x27;</span>,</span><br><span class="line">`phone` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;联系电话,允许为空,即可选输入&#x27;</span>,</span><br><span class="line">`Address` <span class="type">VARCHAR</span>(<span class="number">225</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;地址,允许为空,即可选输入&#x27;</span>,</span><br><span class="line">`BornDate` DATETIME <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;出生时间&#x27;</span>,</span><br><span class="line">`Email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>  COMMENT <span class="string">&#x27;邮箱,允许为空,即可选输入&#x27;</span>,</span><br><span class="line">`IDCard` <span class="type">VARCHAR</span>(<span class="number">18</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;身份证号&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`StudentNo`),</span><br><span class="line"><span class="keyword">UNIQUE</span> KEY `IDCard` (`IDCard`),</span><br><span class="line">KEY `Email` (`Email`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student` <span class="keyword">VALUES</span> </span><br><span class="line">(<span class="number">1000</span>,<span class="number">123456</span>,<span class="string">&#x27;张伟&#x27;</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="string">&#x27;13800001234&#x27;</span>,<span class="string">&#x27;北京朝阳&#x27;</span>,<span class="string">&#x27;1980-1-1&#x27;</span>,<span class="string">&#x27;text123@qq.com&#x27;</span>,<span class="string">&#x27;123456198001011234&#x27;</span>),</span><br><span class="line">(<span class="number">1001</span>,<span class="number">123456</span>,<span class="string">&#x27;赵强&#x27;</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="string">&#x27;13800002222&#x27;</span>,<span class="string">&#x27;广东深圳&#x27;</span>,<span class="string">&#x27;1990-1-1&#x27;</span>,<span class="string">&#x27;text111@qq.com&#x27;</span>,<span class="string">&#x27;123456199001011233&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `subject`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `subject`(</span><br><span class="line">`subjectNo` <span class="type">INT</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;课程编号&#x27;</span>,</span><br><span class="line">`subjectName` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;课程名称&#x27;</span>,</span><br><span class="line">`ClassHour` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;学时&#x27;</span>,</span><br><span class="line">`GradeId` <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;年级编号&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`subjectNo`)</span><br><span class="line">)ENGINE <span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET <span class="operator">=</span> utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `subject` <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>,<span class="string">&#x27;高等数学-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;高等数学-1&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;高等数学-1&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),</span><br><span class="line">(<span class="number">4</span>,<span class="string">&#x27;高等数学-1&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),</span><br><span class="line">(<span class="number">5</span>,<span class="string">&#x27;C语言-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">6</span>,<span class="string">&#x27;C语言-1&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">7</span>,<span class="string">&#x27;C语言-1&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),</span><br><span class="line">(<span class="number">8</span>,<span class="string">&#x27;C语言-1&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),</span><br><span class="line">(<span class="number">9</span>,<span class="string">&#x27;Java程序设计-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">10</span>,<span class="string">&#x27;Java程序设计-1&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">11</span>,<span class="string">&#x27;Java程序设计-1&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),</span><br><span class="line">(<span class="number">12</span>,<span class="string">&#x27;Java程序设计-1&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),</span><br><span class="line">(<span class="number">13</span>,<span class="string">&#x27;数据库结构-1&#x27;</span>,<span class="number">110</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">14</span>,<span class="string">&#x27;数据库结构-1&#x27;</span>,<span class="number">110</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">15</span>,<span class="string">&#x27;数据库结构-1&#x27;</span>,<span class="number">100</span>,<span class="number">3</span>),</span><br><span class="line">(<span class="number">16</span>,<span class="string">&#x27;数据库结构-1&#x27;</span>,<span class="number">130</span>,<span class="number">4</span>),</span><br><span class="line">(<span class="number">17</span>,<span class="string">&#x27;C#基础&#x27;</span>,<span class="number">130</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="指定查询字段"><a href="#指定查询字段" class="headerlink" title="指定查询字段"></a>指定查询字段</h4><p>==select 字段… from 表==</p>
<p>列名不是见名知义,我们起别名   AS 字段名  别名    或     表名 as 别名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">查询</span><br><span class="line">    <span class="comment">-- 查询全部学生 select 字段 from 表</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 查询指定字段</span></span><br><span class="line">    <span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 别名 给结果起一个名字 AS 可以给字段起别名,也可以给表起别名</span></span><br><span class="line">    <span class="keyword">SELECT</span> `StudentNo` <span class="keyword">AS</span> 学号,`StudentName` <span class="keyword">AS</span> <span class="string">&#x27;学生姓名&#x27;</span> <span class="keyword">FROM</span> student <span class="keyword">AS</span> s</span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 函数 concat(a,b)</span></span><br><span class="line">    <span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;姓名:&#x27;</span>,StudentName) <span class="keyword">AS</span> 新名字 <span class="keyword">FROM</span> student</span><br><span class="line"></span><br><span class="line">去重</span><br><span class="line">    <span class="comment">-- 去重 distinct</span></span><br><span class="line">    <span class="comment">-- 作用:取除select 查出来的重复数据 只显示一条</span></span><br><span class="line">    <span class="comment">-- 查询一下哪些同学参加了考试,成绩</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">result</span> <span class="comment">-- 查询全部考试成绩</span></span><br><span class="line">    <span class="comment">-- 查询有哪些同学参加了考试</span></span><br><span class="line">    <span class="keyword">SELECT</span> `StudentNo` <span class="keyword">FROM</span> <span class="keyword">result</span><span class="comment">-- 询一下哪些同学参加了考试</span></span><br><span class="line">    <span class="comment">-- 发现重复数据,去重</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> `StudentNo` <span class="keyword">FROM</span> student</span><br><span class="line">数据库列(表达式)</span><br><span class="line">      <span class="comment">-- 查询系统版本</span></span><br><span class="line">    <span class="keyword">SELECT</span> VERSION() <span class="comment">-- 查询系统版本(函数)</span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="number">100</span><span class="operator">*</span><span class="number">3</span><span class="number">-1</span> <span class="keyword">AS</span> 计算结果  <span class="comment">-- 用于计算(计算表达式)</span></span><br><span class="line">    <span class="keyword">SELECT</span> @<span class="variable">@auto</span>_increment_increment  <span class="comment">-- 查询自增的步长(变量)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">-- 学员考试成绩 +1分查看</span></span><br><span class="line">    <span class="keyword">SELECT</span> `StudentNo`,`StudentResult`<span class="operator">+</span><span class="number">1</span> <span class="keyword">AS</span> <span class="string">&#x27;提分后&#x27;</span>  <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>数据库中的表达式:文本值,列,null,函数,计算表达式,系统变量<br>        select ==表达式== from 表</p>
<h4 id="where条件子句"><a href="#where条件子句" class="headerlink" title="where条件子句"></a>where条件子句</h4><p>作用:检索数据中符号条件的值<br>        搜索的条件由一个或多个表达式组成! 结果布尔值</p>
<ul>
<li><p>逻辑运算符</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>and   &amp;&amp;</td>
<td>a and b  a&amp;&amp;b</td>
<td>逻辑与,两真都真</td>
</tr>
<tr>
<td>or  ||</td>
<td>a or b  a||b</td>
<td>逻辑或, 一个真则真</td>
</tr>
<tr>
<td>not  !</td>
<td>not a  !a</td>
<td>逻辑非,真为假,假为真</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">模糊查询 尽量使用英文</span><br><span class="line">        <span class="keyword">SELECT</span> studentno,`StudentResult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">-- 查询考试成绩在95-100之间</span></span><br><span class="line">        <span class="keyword">SELECT</span> `StudentNo`,`StudentResult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line">        <span class="keyword">WHERE</span> studentresult <span class="operator">&gt;=</span><span class="number">95</span> <span class="keyword">AND</span> studentresult<span class="operator">&lt;=</span><span class="number">100</span></span><br><span class="line">         <span class="comment">-- &amp;&amp;</span></span><br><span class="line">        <span class="keyword">SELECT</span> `StudentNo`,`StudentResult` <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line">        <span class="keyword">WHERE</span> studentresult <span class="operator">&gt;=</span><span class="number">95</span> <span class="operator">&amp;&amp;</span> studentresult<span class="operator">&lt;=</span><span class="number">100</span></span><br><span class="line"></span><br><span class="line">         <span class="comment">-- 模糊查询(区间)</span></span><br><span class="line">         <span class="keyword">SELECT</span> studentNo, studentresult <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line">         <span class="keyword">WHERE</span> studentresult <span class="keyword">BETWEEN</span> <span class="number">95</span> <span class="keyword">AND</span> <span class="number">100</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">-- 除了1000号学生以外的成绩</span></span><br><span class="line">         <span class="keyword">SELECT</span> studentNo, studentresult <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line">         <span class="keyword">WHERE</span> studentNo <span class="operator">!=</span> <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">         <span class="comment">-- != not</span></span><br><span class="line">        <span class="keyword">SELECT</span> studentNo, studentresult <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line">        <span class="keyword">WHERE</span>  <span class="keyword">NOT</span> studentNo <span class="operator">=</span> <span class="number">1000</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h4><table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>IS NULL</td>
<td>a is null</td>
<td>如果操作符为null,结果为真</td>
</tr>
<tr>
<td>IS Not Null</td>
<td>a is not null</td>
<td>如果操作符为 不为null,结果为真</td>
</tr>
<tr>
<td>BETWEEN</td>
<td>ａ　between　ｂ　ａｎｄ　ｃ</td>
<td>若ａ在ｂ和ｃ之间结果为真</td>
</tr>
<tr>
<td>ｌｉｋｅ</td>
<td>ａ　like　ｂ</td>
<td>SQL匹配，如果ａ匹配ｂ为真，结果为真</td>
</tr>
<tr>
<td>ｉｎ</td>
<td>ａ　ｉｎ　（ａ１，ａ２．．）</td>
<td>假设ａ在ａ1，ａ2其中某个值中结果为真</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ==============模糊查询======================</span></span><br><span class="line"><span class="comment">-- 查询姓张的同学</span></span><br><span class="line"><span class="comment">-- like 结合 %(代表0到任意字符)  _(一个字符)</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName`<span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentName <span class="keyword">LIKE</span> <span class="string">&#x27;赵%&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询姓张同学,名字后边只有一个字</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentName <span class="keyword">LIKE</span> <span class="string">&#x27;张_&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询姓张同学,名字后边只有二个字</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentName <span class="keyword">LIKE</span> <span class="string">&#x27;张__&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询名字当中有强字同学</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentName <span class="keyword">LIKE</span> <span class="string">&#x27;%强%&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- =======in(具体一个或多个值 可以嵌套select)=============</span></span><br><span class="line"><span class="comment">-- 查询1001 1002 1003号学员</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> studentNo <span class="keyword">IN</span> (<span class="number">1001</span>,<span class="number">1002</span>,<span class="number">1003</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询在北京学生</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> `Address` <span class="keyword">IN</span> (<span class="string">&#x27;北京朝阳&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ==========null not null================</span></span><br><span class="line"><span class="comment">-- 查询地址为空的学生 null &#x27;&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> address<span class="operator">=</span><span class="string">&#x27;&#x27;</span> <span class="keyword">OR</span> address <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询有出生日期的同学  不为空</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `BornDate` <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询有出生日期的同学  为空同学</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `BornDate` <span class="keyword">IS</span>  <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>

<h4 id="联表查询"><a href="#联表查询" class="headerlink" title="联表查询"></a>联表查询</h4><p>JOIN 对比<br>        7种join理论 :<br>                <em>左表</em>: left join  <em>右边</em>: right join <em>交集</em>:inner join</p>
<p><a target="_blank" rel="noopener" href="https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2394579370,1336547010&amp;fm=11&amp;gp=0.jpg">https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2394579370,1336547010&amp;fm=11&amp;gp=0.jpg</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =============链表查询 join================ </span></span><br><span class="line"><span class="comment">-- 查询参加考试同学(学号,姓名,科目编号,分数)</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">result</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*思路</span></span><br><span class="line"><span class="comment">1.分析查询字段来自那些表(连接查询)</span></span><br><span class="line"><span class="comment">2.确定使用哪种连接查询?7种</span></span><br><span class="line"><span class="comment">3.确定交叉点(这两个表中哪个数据是相同的)</span></span><br><span class="line"><span class="comment">判断的条件:学生表的studentNo = 成绩表的 studentNo  两个表通常取别名</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- join(连接的表) on(判断的条件) 连接查询</span></span><br><span class="line"><span class="comment">-- where 等值查询</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> s.StudentNo,StudentName,SubjectNo,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">ON</span><span class="operator">/</span><span class="keyword">WHERE</span> s.StudentNo<span class="operator">=</span>r.StudentNo</span><br><span class="line"></span><br><span class="line"><span class="comment">-- right join</span></span><br><span class="line"><span class="keyword">SELECT</span> s.StudentNo,SubjectNo,StudentName,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span>  r</span><br><span class="line"><span class="keyword">ON</span> s.StudentNo<span class="operator">=</span>r.StudentNo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- left join</span></span><br><span class="line"><span class="keyword">SELECT</span> s.StudentNo,SubjectNo,StudentName,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span>  r</span><br><span class="line"><span class="keyword">ON</span> s.StudentNo<span class="operator">=</span>r.StudentNo</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询缺考同学</span></span><br><span class="line"><span class="keyword">SELECT</span> s.StudentNo,SubjectNo,StudentName,StudentResult</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span>  r</span><br><span class="line"><span class="keyword">ON</span> s.StudentNo<span class="operator">=</span>r.StudentNo <span class="comment">-- 这里根据左表student 已经查出所有左表信息,即含有全部学生</span></span><br><span class="line"><span class="keyword">WHERE</span> StudentResult <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="comment">-- 这里判断查出的所有学生成绩为空即为未参加考试</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 思考题 (查询参加考试的同学信息:学号,学生姓名,科目名称,分数)</span></span><br><span class="line"><span class="comment">/*思路</span></span><br><span class="line"><span class="comment">1.分析查询字段来自那些表 student result subject(连接查询)</span></span><br><span class="line"><span class="comment">2.确定使用哪种连接查询?7种  由于是参加考试的同学,所以以右表为基准,用右表查询</span></span><br><span class="line"><span class="comment">3.确定交叉点(这两个表中哪个数据是相同的) </span></span><br><span class="line"><span class="comment">	student result通过studentNo连接</span></span><br><span class="line"><span class="comment">	result subject 通过subjectNo连接</span></span><br><span class="line"><span class="comment">判断的条件:学生表的studentNo = 成绩表的 studentNo  两个表通常取别名</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">SELECT</span> s.studentNo,studentName,subjectName,studentResult</span><br><span class="line"><span class="keyword">FROM</span> student s  <span class="comment">-- 左表</span></span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r <span class="comment">-- 以右表为基准查询</span></span><br><span class="line"><span class="keyword">ON</span> r.studentNo<span class="operator">=</span>s.StudentNo</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub  <span class="comment">-- 交叉表查询</span></span><br><span class="line"><span class="keyword">ON</span> r.subjectNo<span class="operator">=</span>sub.subjectNo</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 我要查询哪些数据 select..</span></span><br><span class="line"><span class="comment">-- 从哪几个表查from 表 xxxx Join 连接的表 on 交叉条件</span></span><br><span class="line"><span class="comment">-- 假设存在一种多张表查询,先查询两张表在慢慢增加</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- from a left join b 以a表为基准查询</span></span><br><span class="line"><span class="comment">-- from a right join b  以b表为基准查询</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>操作</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Inner Join</td>
<td>如果表中至少有一个匹配,就返回行</td>
</tr>
<tr>
<td>left join</td>
<td>即使右表中没有匹配,也会从左表中返回所有的值</td>
</tr>
<tr>
<td>right join</td>
<td>即使左表中没有匹配,也会从右表中返回所有的值</td>
</tr>
</tbody></table>
<h4 id="自连接-了解"><a href="#自连接-了解" class="headerlink" title="自连接(了解)"></a>自连接(了解)</h4><p>自己的表和自己的表连接, 核心:<strong>一张表拆为两张一样的表即可</strong><br>    父类:</p>
<table>
<thead>
<tr>
<th>categoryid</th>
<th>categoryName</th>
</tr>
</thead>
<tbody><tr>
<td>2</td>
<td>信息技术</td>
</tr>
<tr>
<td>3</td>
<td>软件开发</td>
</tr>
<tr>
<td>5</td>
<td>美丽设计</td>
</tr>
</tbody></table>
<p>子类:</p>
<table>
<thead>
<tr>
<th>pid</th>
<th>categoryid</th>
<th>categoryName</th>
</tr>
</thead>
<tbody><tr>
<td>3</td>
<td>4</td>
<td>数据库</td>
</tr>
<tr>
<td>2</td>
<td>8</td>
<td>办公信息</td>
</tr>
<tr>
<td>3</td>
<td>6</td>
<td>web开发</td>
</tr>
<tr>
<td>5</td>
<td>7</td>
<td>ps技术</td>
</tr>
</tbody></table>
<p>操作:查询父类对应的子类关系</p>
<table>
<thead>
<tr>
<th>父类</th>
<th>子类</th>
</tr>
</thead>
<tbody><tr>
<td>信息技术</td>
<td>办公信息</td>
</tr>
<tr>
<td>软件开发</td>
<td>数据库</td>
</tr>
<tr>
<td>软件开发</td>
<td>web开发</td>
</tr>
<tr>
<td>美术设计</td>
<td>ps技术</td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询父子信息</span></span><br><span class="line"><span class="keyword">SELECT</span> a.`categoryName` <span class="keyword">AS</span> <span class="string">&#x27;父栏目&#x27;</span> ,b.`categoryName` <span class="keyword">AS</span> <span class="string">&#x27;子栏目&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> `category` <span class="keyword">AS</span> a,`category` <span class="keyword">AS</span> b</span><br><span class="line"><span class="keyword">WHERE</span> a.`categoryid`<span class="operator">=</span>b.`pid`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- =========自链接=====================</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `category` (</span><br><span class="line">`categoryid` <span class="type">INT</span> (<span class="number">10</span>) UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;主题id&#x27;</span>,</span><br><span class="line">`pid` <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;父id&#x27;</span>,</span><br><span class="line">`categoryName` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;主题名字&#x27;</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`categoryid`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `category`(`categoryid`,`pid`,`categoryName`) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;信息技术&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;软件开发&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;数据库&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;美术技术&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;web开发&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;ps技术&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;办公信息&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询父子信息</span></span><br><span class="line"><span class="keyword">SELECT</span> a.`categoryName` <span class="keyword">AS</span> <span class="string">&#x27;父栏目&#x27;</span> ,b.`categoryName` <span class="keyword">AS</span> <span class="string">&#x27;子栏目&#x27;</span></span><br><span class="line"><span class="keyword">FROM</span> `category` <span class="keyword">AS</span> a,`category` <span class="keyword">AS</span> b</span><br><span class="line"><span class="keyword">WHERE</span> a.`categoryid`<span class="operator">=</span>b.`pid`</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询学生所属年级 (学号,学生姓名,年级名称)</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName`,`GradeName`</span><br><span class="line"><span class="keyword">FROM</span> `student` s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `grade` g</span><br><span class="line"><span class="keyword">ON</span> s.`GradeID`<span class="operator">=</span>g.`GradeId`</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询科目所属的年级(科目名称,年级名称)</span></span><br><span class="line"><span class="keyword">SELECT</span> `subjectName`,`GradeName`</span><br><span class="line"><span class="keyword">FROM</span> `subject` <span class="keyword">AS</span> sub</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `grade` <span class="keyword">AS</span> g</span><br><span class="line"><span class="keyword">ON</span> sub.`GradeID`<span class="operator">=</span>sub.`GradeId`</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询参加  数据库结构-1 考试同学(学号,姓名,科目编号,分数)</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`StudentNo`,`StudentName`,`subjectName`,`StudentResult`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">ON</span>  s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectNo`<span class="operator">=</span>sub.`subjectNo`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="分页和查询"><a href="#分页和查询" class="headerlink" title="分页和查询"></a>分页和查询</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ========分页 limit 和 排序 order by==============</span></span><br><span class="line"><span class="comment">-- 排序: 升序ASC ,降序DESC</span></span><br><span class="line"><span class="comment">-- ORDER BY  通过哪个字段排序,怎么排序</span></span><br><span class="line"><span class="comment">-- 查询的结果根据 成绩降序 排序</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`StudentNo`,`StudentName`,`subjectName`,`StudentResult`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">ON</span>  s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectNo`<span class="operator">=</span>sub.`subjectNo`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line"><span class="comment">-- Order by `StudentResult` Desc </span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult` <span class="keyword">ASC</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 分页 为什么分页?</span></span><br><span class="line"><span class="comment">-- 缓解数据库压力 给人更好体验 瀑布流</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 分页 每页只显示2条数据</span></span><br><span class="line"><span class="comment">-- 语法:LIMIT     起始值(n-1)*pagesize     页面大小pagesize  n:当前页   数据总数/页面大小=总页数</span></span><br><span class="line"><span class="comment">-- LIMIT 0,2 第1-2条数据</span></span><br><span class="line"><span class="comment">-- LIMIT 3,2 第3-4条数据</span></span><br><span class="line"><span class="keyword">SELECT</span> s.`StudentNo`,`StudentName`,`subjectName`,`StudentResult`</span><br><span class="line"><span class="keyword">FROM</span> `student` <span class="keyword">AS</span> s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `<span class="keyword">result</span>` <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">ON</span>  s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectNo`<span class="operator">=</span>sub.`subjectNo`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line"><span class="comment">-- Order by `StudentResult` Desc </span></span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult` <span class="keyword">ASC</span></span><br><span class="line"><span class="comment">-- 第一页 limit 0,2  -- 68 70  (1-1)*2</span></span><br><span class="line"><span class="comment">-- 第二页 limit 1,2 -- 70 85  </span></span><br><span class="line"> <span class="comment">-- 第三页  limit 2,2  -- 85 98   (2-1)*2</span></span><br><span class="line"> <span class="comment">-- 第n页  limit (n-1)*pagesize 2为pagesize</span></span><br><span class="line"> <span class="comment">-- 总数</span></span><br><span class="line"> LIMIT <span class="number">3</span>,<span class="number">2</span>  <span class="comment">-- 98</span></span><br><span class="line"> 语法:limit(查询起始下标,pagesize)</span><br></pre></td></tr></table></figure>

<h4 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h4><p>where(这个值是计算出来的)<br>    本质:在where语句中嵌套一个子查询语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ==============where================</span></span><br><span class="line"> <span class="comment">-- 1.查询 高等数学-1 的所有考试结果 (学号,科目编号,成绩) 降序排列 </span></span><br><span class="line"> <span class="comment">-- 方式一 连接查询</span></span><br><span class="line"> <span class="keyword">SELECT</span> `StudentNo`,r.`subjectNo`,`StudentResult`</span><br><span class="line"> <span class="keyword">FROM</span> <span class="keyword">result</span> r</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"> <span class="keyword">ON</span> r.`SubjectNo`<span class="operator">=</span>sub.`subjectNo`</span><br><span class="line"> <span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line"> <span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult` <span class="keyword">DESC</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 方式二 使用子查询()</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`subjectNo`,`StudentResult`</span><br><span class="line"><span class="keyword">FROM</span> `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">WHERE</span> subjectNo <span class="operator">=</span> <span class="keyword">ANY</span>(  <span class="comment">--使用any方法帮助返回多个</span></span><br><span class="line">	<span class="keyword">SELECT</span> subjectNo <span class="keyword">FROM</span> `subject` </span><br><span class="line">	<span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span> <span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line">) </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult` <span class="keyword">DESC</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询所有高等数学-1的学生学号</span></span><br><span class="line"><span class="comment">-- select studentNo from `subject` where `subjectName`=&#x27;高等数学-1&#x27;</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 查询分数不小于80分的学号和姓名</span></span><br><span class="line"> <span class="keyword">SELECT</span>  <span class="keyword">DISTINCT</span> s.`studentNo`,`StudentName`</span><br><span class="line"> <span class="keyword">FROM</span> student s</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"> <span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"> <span class="keyword">WHERE</span> `StudentResult`<span class="operator">&gt;</span><span class="number">80</span> </span><br><span class="line"> </span><br><span class="line"><span class="comment">-- 在这个基础上增加一个科目 高等数学-1</span></span><br><span class="line">  <span class="comment">-- 查询 高等数学-1编号</span></span><br><span class="line"> <span class="keyword">SELECT</span>  <span class="keyword">DISTINCT</span> s.`studentNo`,`StudentName`</span><br><span class="line"> <span class="keyword">FROM</span> student s</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"> <span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"> <span class="keyword">WHERE</span> `StudentResult`<span class="operator">&gt;</span><span class="number">80</span> <span class="keyword">AND</span>  `subjectNo` <span class="operator">=</span><span class="keyword">ANY</span>(</span><br><span class="line"><span class="keyword">SELECT</span> `subjectNo` <span class="keyword">FROM</span> `subject`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询课程为高等数学 -1 且分数不小于80的同学的学号和姓名</span></span><br><span class="line"><span class="keyword">SELECT</span>  <span class="keyword">DISTINCT</span> s.`StudentNo`,`StudentName`</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"><span class="keyword">ON</span> r.`subjectNo`<span class="operator">=</span>sub.`SubjectNo`</span><br><span class="line"><span class="keyword">WHERE</span> `StudentResult`<span class="operator">&gt;</span><span class="number">80</span> <span class="keyword">AND</span> `subjectName`<span class="operator">=</span> <span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 嵌套</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> s.`StudentNo`,`StudentName`</span><br><span class="line"><span class="keyword">FROM</span> student s</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"><span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"><span class="keyword">WHERE</span> `StudentResult`<span class="operator">&gt;</span><span class="number">80</span> <span class="keyword">AND</span> `subjectNo`<span class="operator">=</span> <span class="keyword">ANY</span>(</span><br><span class="line"><span class="keyword">SELECT</span> `subjectNo` <span class="keyword">FROM</span> `subject`</span><br><span class="line"><span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 再改造(由里及外)</span></span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo`,`StudentName` <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> `StudentNo`<span class="keyword">IN</span> (</span><br><span class="line"><span class="keyword">SELECT</span> `StudentNo` <span class="keyword">FROM</span> `<span class="keyword">result</span>` <span class="keyword">WHERE</span> `StudentResult`<span class="operator">&gt;</span><span class="number">80</span> <span class="keyword">AND</span> `subjectNo`<span class="operator">=</span><span class="keyword">ANY</span>(</span><br><span class="line"><span class="keyword">SELECT</span> `subjectNo` <span class="keyword">FROM</span> `subject` <span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;高等数学-1&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">--  练习: 查询 c语言-1 前2名同学的成绩的信息(学号,姓名,分数)  </span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 连接查询</span></span><br><span class="line"> <span class="keyword">SELECT</span> s.`StudentNo`,`StudentName`,`StudentResult`</span><br><span class="line"> <span class="keyword">FROM</span> student s</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"> <span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` sub</span><br><span class="line"> <span class="keyword">ON</span> sub.`subjectNo`<span class="operator">=</span>r.`subjectNo`</span><br><span class="line"> <span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;C语言-1&#x27;</span></span><br><span class="line"> <span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult`<span class="keyword">DESC</span></span><br><span class="line"> LIMIT <span class="number">0</span>,<span class="number">2</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 嵌套查询</span></span><br><span class="line"> <span class="keyword">SELECT</span> s.`StudentNo`,`StudentName`,`StudentResult` </span><br><span class="line"> <span class="keyword">FROM</span> student s</span><br><span class="line"> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="keyword">result</span> r</span><br><span class="line"> <span class="keyword">ON</span> s.`StudentNo`<span class="operator">=</span>r.`StudentNo`</span><br><span class="line"> <span class="keyword">WHERE</span> `subjectNo`<span class="operator">=</span><span class="keyword">ANY</span>( <span class="comment">-- any可返回多条数据</span></span><br><span class="line">	<span class="keyword">SELECT</span> `subjectNo` <span class="keyword">FROM</span> `subject`</span><br><span class="line">	<span class="keyword">WHERE</span> `subjectName`<span class="operator">=</span><span class="string">&#x27;C语言-1&#x27;</span> </span><br><span class="line"> )</span><br><span class="line">  <span class="keyword">ORDER</span> <span class="keyword">BY</span> `StudentResult`<span class="keyword">DESC</span></span><br><span class="line"> LIMIT <span class="number">0</span>,<span class="number">2</span></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">-- ================ 常用函数===============</span></span><br><span class="line"><span class="comment">-- 数学运算</span></span><br><span class="line"> </span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">ABS</span>(<span class="number">-8</span>) <span class="comment">-- 绝对值</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">CEILING</span>(<span class="number">9.4</span>) <span class="comment">-- 向上取整</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">FLOOR</span> (<span class="number">9.4</span>)  <span class="comment">-- 向下取整</span></span><br><span class="line"> <span class="keyword">SELECT</span> RAND()  <span class="comment">-- 返回一个0-1之间随机数</span></span><br><span class="line"> <span class="keyword">SELECT</span> SIGN(<span class="number">-10</span>)  <span class="comment">-- 判断一个数的符号 0-0 负数返回-1 正数返回1</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 字符串函数</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="keyword">CHAR_LENGTH</span>(<span class="string">&#x27;即使再小帆船也能远航&#x27;</span>)  <span class="comment">-- 字符串长度</span></span><br><span class="line"> <span class="keyword">SELECT</span> CONCAT(<span class="string">&#x27;我&#x27;</span>,<span class="string">&#x27;爱&#x27;</span>,<span class="string">&#x27;你&#x27;</span>) <span class="comment">-- 拼接字符串</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="keyword">INSERT</span>(<span class="string">&#x27;喜欢你&#x27;</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;超级喜欢&#x27;</span>) <span class="comment">-- 查询 从某个位置开始替换某个长度</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">LOWER</span>(<span class="string">&#x27;HALEY&#x27;</span>) <span class="comment">-- 小写字母</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">UPPER</span>(<span class="string">&#x27;haley&#x27;</span>) <span class="comment">-- 大写字母</span></span><br><span class="line"> <span class="keyword">SELECT</span> INSTR(<span class="string">&#x27;haley&#x27;</span>,<span class="string">&#x27;h&#x27;</span>)<span class="comment">-- 返回第一次出现字符串的索引(从1开始)</span></span><br><span class="line"> <span class="keyword">SELECT</span> REPLACE(<span class="string">&#x27;哈哈哈呵呵呵&#x27;</span>,<span class="string">&#x27;哈哈&#x27;</span>,<span class="string">&#x27;嘻嘻&#x27;</span>) <span class="comment">-- 替换出现的指定字符串</span></span><br><span class="line"> <span class="keyword">SELECT</span> SUBSTR(<span class="string">&#x27;哈哈哈哈嘻嘻嘻&#x27;</span>,<span class="number">4</span>,<span class="number">3</span>) <span class="comment">-- 返回指定字符串(源字符串,截取位置,截取长度)</span></span><br><span class="line"> <span class="keyword">SELECT</span> REVERSE(<span class="string">&#x27;嘻嘻嘻哈哈哈&#x27;</span>) <span class="comment">-- 反转</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 查询姓刘的同学 名字 赵</span></span><br><span class="line"> <span class="keyword">SELECT</span> REPLACE(studentName,<span class="string">&#x27;李&#x27;</span>,<span class="string">&#x27;赵&#x27;</span>) <span class="keyword">FROM</span> student</span><br><span class="line"> <span class="keyword">WHERE</span> studentname <span class="keyword">LIKE</span> <span class="string">&#x27;李%&#x27;</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 时间和日期函数</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">CURRENT_DATE</span>() <span class="comment">-- 获取当前日期</span></span><br><span class="line"> <span class="keyword">SELECT</span> CURDATE() <span class="comment">-- 获取当前日期</span></span><br><span class="line"> <span class="keyword">SELECT</span> NOW() <span class="comment">-- 获取当前时间</span></span><br><span class="line"> <span class="keyword">SELECT</span> <span class="built_in">LOCALTIME</span>() <span class="comment">-- 获取本地时间</span></span><br><span class="line"> <span class="keyword">SELECT</span> SYSDATE() <span class="comment">-- 系统时间</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(NOW()) </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MONTH</span>(NOW()) </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DAY</span>(NOW()) </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">HOUR</span>(NOW()) </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MINUTE</span>(NOW()) </span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SECOND</span>(NOW()) </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 系统</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SYSTEM_USER</span>()</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">USER</span>()</span><br><span class="line"><span class="keyword">SELECT</span>  VERSION()</span><br></pre></td></tr></table></figure>

<h4 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h4><table>
<thead>
<tr>
<th>函数名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>COUNT()</td>
<td>计数</td>
</tr>
<tr>
<td>SUM()</td>
<td>求和</td>
</tr>
<tr>
<td>AVG()</td>
<td>平均值</td>
</tr>
<tr>
<td>MAX()</td>
<td>最大值</td>
</tr>
<tr>
<td>MIN()</td>
<td>最小值</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>分组和过滤</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ===========聚合函数==============</span></span><br><span class="line"><span class="comment">-- 都能做统计(想查询一个表中有多少个记录 就使用这个count())</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(`BornDate`) <span class="keyword">FROM</span> student; <span class="comment">-- count(指定列(字段,会忽略所有null值))  主键用这个</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> student <span class="comment">-- count(*) 不会忽略所有null值) 本质 计数行数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="number">1</span>) <span class="keyword">FROM</span> <span class="keyword">result</span>  <span class="comment">-- count(1) 不会忽略所有null值) 本质 计数行数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(`StudentResult`) <span class="keyword">AS</span> 总和 <span class="keyword">FROM</span>  `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(`StudentResult`) <span class="keyword">AS</span> 平均分 <span class="keyword">FROM</span>  `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(`StudentResult`) <span class="keyword">AS</span> 最高分 <span class="keyword">FROM</span>  `<span class="keyword">result</span>`</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(`StudentResult`) <span class="keyword">AS</span> 最低分 <span class="keyword">FROM</span>  `<span class="keyword">result</span>`</span><br><span class="line"><span class="comment">-- 查询不同课程平均分,最高分,最低分</span></span><br><span class="line"><span class="comment">-- 核心:(根据不同课程分组)</span></span><br><span class="line"><span class="keyword">SELECT</span> any_value(subjectname),<span class="built_in">AVG</span>(studentresult) <span class="keyword">AS</span> 平均分,<span class="built_in">MAX</span>(studentresult) <span class="keyword">AS</span> 最高分 ,<span class="built_in">MIN</span>(studentresult) <span class="keyword">AS</span> 最低分</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">result</span> <span class="keyword">AS</span> r</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> `subject` <span class="keyword">AS</span> sub</span><br><span class="line"><span class="keyword">ON</span> sub.`subjectNo`<span class="operator">=</span>r.`subjectNo`</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> r.subjectNo <span class="comment">-- 通过什么字段来分组</span></span><br><span class="line"><span class="keyword">HAVING</span> 平均分<span class="operator">&gt;</span><span class="number">70</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="数据库级别md5加密"><a href="#数据库级别md5加密" class="headerlink" title="数据库级别md5加密"></a>数据库级别md5加密</h4><p>主要增强算法复杂度和不可逆性,md5不可逆,具体的值md5是不一样的<br>        md5破解网站原理: 背后有一个字典 md5加密后的值,加密的前值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ==============md5 加密测试===========================</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `testmd5` (</span><br><span class="line">`id`  <span class="type">INT</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">`name` <span class="type">VARCHAR</span> (<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">`pwd` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span> INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"><span class="comment">-- 明文 密码</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> testmd5 <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;lisi&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;wangwu&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 加密</span></span><br><span class="line">UPDATE testmd5 <span class="keyword">SET</span> pwd<span class="operator">=</span>MD5(pwd) <span class="keyword">WHERE</span> id<span class="operator">=</span><span class="number">1</span></span><br><span class="line"></span><br><span class="line">UPDATE testmd5 <span class="keyword">SET</span> pwd<span class="operator">=</span>MD5(pwd)  <span class="comment">-- 加密全部密码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入的时候加密</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> testmd5 <span class="keyword">VALUES</span> (<span class="number">4</span>,<span class="string">&#x27;haley&#x27;</span>,MD5(<span class="string">&#x27;123456&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 如何效验:将用户传递过来的密码 进行md5加密 然后比对加密后的值</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> testmd5 <span class="keyword">WHERE</span> `name` <span class="operator">=</span><span class="string">&#x27;haley&#x27;</span> <span class="keyword">AND</span> pwd<span class="operator">=</span>MD5(<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="select小结"><a href="#select小结" class="headerlink" title="select小结"></a>select小结</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">顺序很重要</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> [去重(<span class="keyword">All</span><span class="operator">/</span><span class="keyword">DISTINCT</span>)] 要查询的字段</span><br><span class="line"><span class="keyword">from</span>  表名 [<span class="keyword">as</span> 别名]</span><br><span class="line"><span class="keyword">Inner</span><span class="operator">/</span><span class="keyword">left</span><span class="operator">/</span><span class="keyword">right</span> <span class="keyword">join</span> 要连接的表 [<span class="keyword">as</span> 别名]</span><br><span class="line"><span class="keyword">where</span> (具体的值,子查询语句)</span><br><span class="line"><span class="keyword">Group</span> <span class="keyword">by</span> (指定结果通过哪个字段来分组)</span><br><span class="line"><span class="keyword">Having</span> (过滤分组的消息必须满足的次要条件,条件和<span class="keyword">where</span>是一样的,位置不变)</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 字段名 () <span class="keyword">desc</span>(降序)<span class="operator">/</span><span class="keyword">asc</span>(升序)</span><br><span class="line">limit startindex,pagesize</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">ALL</span> <span class="operator">|</span> <span class="keyword">DISTINCT</span>]</span><br><span class="line">&#123;* | table.* | [table.field1[as alias1][,table.field2[as alias2]][,...]]&#125;</span><br><span class="line"><span class="keyword">FROM</span> table_name [<span class="keyword">as</span> table_alias]</span><br><span class="line">    [<span class="keyword">left</span> <span class="operator">|</span> <span class="keyword">right</span> <span class="operator">|</span> <span class="keyword">inner</span> <span class="keyword">join</span> table_name2]  <span class="comment">-- 联合查询</span></span><br><span class="line">    [<span class="keyword">WHERE</span> ...]  <span class="comment">-- 指定结果需满足的条件</span></span><br><span class="line">    [<span class="keyword">GROUP</span> <span class="keyword">BY</span> ...]  <span class="comment">-- 指定结果按照哪几个字段来分组</span></span><br><span class="line">    [<span class="keyword">HAVING</span>]  <span class="comment">-- 过滤分组的记录必须满足的次要条件</span></span><br><span class="line">    [<span class="keyword">ORDER</span> <span class="keyword">BY</span> ...]  <span class="comment">-- 指定查询记录按一个或多个条件排序</span></span><br><span class="line">    [LIMIT &#123;[offset,]row_count | row_countOFFSET offset&#125;];</span><br><span class="line">    <span class="comment">--  指定查询的记录从哪条至哪条</span></span><br><span class="line">注意: []代表可选 &#123;&#125;不可选</span><br><span class="line"></span><br><span class="line">业务: 查询:跨数据库 跨表</span><br></pre></td></tr></table></figure>

<h3 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h3><ul>
<li><p>要么都成功,要么都失败</p>
</li>
<li><p>sql执行: A给B转账  A 1000—–200——–&gt; B 200</p>
</li>
<li><p>sql执行: B收到A转账  A 800—–200——–&gt; B 400</p>
</li>
<li><p>将一组sql放在一个批次中执行</p>
</li>
<li><p>事务原则: ACID  原则:</p>
<p>​                                        <strong>原子性(Atomicity)</strong>: 要么都成功,要么都失败</p>
<p>​                                        <strong>一致性</strong>（Consistency）**: 事务前后数据完整性要保持一致</p>
<p>​                                        <strong>隔离性; （Isolation）</strong><br>​                                                        事务的隔离性是多个用户并发访问数据库时，数据库为每一个用户开启的事务，不能被其他事务的操作数据所干扰，多个并发事务之间要相互隔离。</p>
<p>​     ==隔离所导致的一些问题:== </p>
<p>​        脏读： 指一个事务读取了另外一个事务未提交的数据。</p>
<p>​        不可重复读:在一个事务内读取表中的某一行数据，多次读取结果不同。（这个不一定是错误，只是某些场合不对）</p>
<p>​        幻读:是指在一个事务内读取到了别的事务插入的数据，导致前后读取不一致。</p>
<p>​                                        <strong>持久性（Durability）</strong>: 事务一旦提交后则不可逆,被持久化到数据库中</p>
<p>​                链接:<a target="_blank" rel="noopener" href="https://blog.csdn.net/dengjili/article/details/82468576">https://blog.csdn.net/dengjili/article/details/82468576</a></p>
<ul>
<li><p>执行事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- =====================事务================================</span></span><br><span class="line"><span class="comment">-- mysql是默认开启自动提交的</span></span><br><span class="line"><span class="keyword">SET</span> autocommit<span class="operator">=</span><span class="number">0</span> <span class="comment">-- 关闭</span></span><br><span class="line"><span class="keyword">SET</span> autocommit<span class="operator">=</span><span class="number">1</span> <span class="comment">-- 开启(默认的)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 手动处理事务</span></span><br><span class="line"><span class="keyword">SET</span> autocommit<span class="operator">=</span><span class="number">0</span> <span class="comment">-- 关闭自动提交</span></span><br><span class="line"><span class="comment">-- 事务开启</span></span><br><span class="line"><span class="keyword">START</span> TRANSACTION <span class="comment">-- 标记一个事务开始  从这个之后的sql都在同一个事务内</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> xxxx</span><br><span class="line"><span class="keyword">INSERT</span> xxxx</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 提交:持久化(成功)</span></span><br><span class="line"><span class="keyword">COMMIT</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 回滚:回到原来的样子(失败)</span></span><br><span class="line"><span class="keyword">ROLLBACK</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 事务结果(成功)</span></span><br><span class="line"><span class="keyword">SET</span> autocommit<span class="operator">=</span><span class="number">1</span> <span class="comment">-- 开启自动提交</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SAVEPOINT</span> 保存点名称  <span class="comment">-- 设置一个事务保存点</span></span><br><span class="line"><span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> <span class="keyword">SAVEPOINT</span> <span class="comment">-- 回滚到保存点</span></span><br><span class="line"><span class="keyword">RELEASE</span> <span class="keyword">SAVEPOINT</span> <span class="comment">-- 撤销保存点</span></span><br><span class="line"></span><br><span class="line"><span class="type">decimal</span>(<span class="number">10</span>,<span class="number">2</span>)中的“<span class="number">2</span>”表示小数部分的位数，如果插入的值未指定小数部分或者小数部分不足两位则会自动补到<span class="number">2</span>位小数，若插入的值小数部分超过了<span class="number">2</span>为则会发生截断，截取前<span class="number">2</span>位小数。</span><br><span class="line"></span><br><span class="line">“<span class="number">10</span>”指的是整数部分加小数部分的总长度，也即插入的数字整数部分不能超过“<span class="number">10</span><span class="number">-2</span>”位，否则不能成功插入，会报超出范围的错误。</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><p>MySQL官方对索引的定义为：<strong>索引（Index）是帮助MySQL高效获取数据的数据结构。</strong>提取句子主干，就可以得到索引的本质：索引是数据结构。</p>
<h4 id="索引分类"><a href="#索引分类" class="headerlink" title="索引分类"></a>索引分类</h4><p><strong>一个表中主键索引只能有一个，唯一索引可以有多个</strong></p>
<ul>
<li><p>主键索引：PRIMARY KEY</p>
<ul>
<li>唯一标识 ，主键不可重复，只能有一个列作为主键</li>
</ul>
</li>
<li><p>唯一索引：UNIQUE KEY</p>
<ul>
<li>避免重复列出现，唯一索引可以重复，多个列都可以标识唯一索引</li>
</ul>
</li>
<li><p>常规索引：KEY/ INDEX（索引内容不填）</p>
<ul>
<li>默认的，index key 关键字来设置</li>
</ul>
</li>
<li><p>全文索引：FullText（快速定位数据）</p>
<p>基础语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ============索引使用 ===============</span></span><br><span class="line"><span class="comment">-- 在创建表的时候给字段增加索引</span></span><br><span class="line"><span class="comment">-- 创建完毕后 增加索引</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 显示所有索引信息</span></span><br><span class="line"><span class="keyword">SHOW</span> INDEX <span class="keyword">FROM</span> student</span><br><span class="line"><span class="comment">-- 增加一个全文索引（索引名） 列名</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> student <span class="keyword">ADD</span> FULLTEXT INDEX `StudentName`(`StudentName`)</span><br><span class="line"><span class="comment">-- 分析sql执行的状况</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="comment">-- 非全文索引</span></span><br><span class="line">EXPLAIN <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">MATCH</span>(`StudentName`) AGAINST (<span class="string">&#x27;华&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="索引测试"><a href="#索引测试" class="headerlink" title="索引测试"></a>索引测试</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ============索引测试===============</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `app_user`(</span><br><span class="line">`id` <span class="type">BIGINT</span>(<span class="number">20</span>) UNSIGNED <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">`name` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;用户昵称&#x27;</span>,</span><br><span class="line">`email` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;用户邮箱&#x27;</span>,</span><br><span class="line">`phone` <span class="type">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;手机号&#x27;</span>,</span><br><span class="line">`gender` TINYINT(<span class="number">4</span>) UNSIGNED <span class="keyword">DEFAULT</span> <span class="string">&#x27;0&#x27;</span> COMMENT <span class="string">&#x27;性别（男：0，女：1）&#x27;</span>,</span><br><span class="line">`password` <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">`age` TINYINT(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;0&#x27;</span> COMMENT <span class="string">&#x27;年龄&#x27;</span>,</span><br><span class="line">`create_Time` DATETIME <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span>,</span><br><span class="line">`update_Time` <span class="type">TIMESTAMP</span> <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="built_in">CURRENT_TIMESTAMP</span> <span class="keyword">ON</span> UPDATE <span class="built_in">CURRENT_TIMESTAMP</span>,</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 插入100万数据</span></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> log_bin_trust_function_creators<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">DELIMITER $$ <span class="comment">-- 自定义函数之前必须写</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> mockData()</span><br><span class="line"><span class="keyword">RETURNS</span> <span class="type">INT</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">     <span class="keyword">DECLARE</span> num <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">1000000</span>;</span><br><span class="line">     <span class="keyword">DECLARE</span> i <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">0</span>;</span><br><span class="line">     </span><br><span class="line">     WHILE i<span class="operator">&lt;</span>num DO</span><br><span class="line">	<span class="comment">-- 插入语句</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">INSERT</span> <span class="keyword">INTO</span> `app_user`(`name`,`email`,`phone`,`gender`,`password`,`age`)</span><br><span class="line">	<span class="keyword">VALUES</span>(CONCAT(<span class="string">&#x27;用户&#x27;</span>,i),<span class="string">&#x27;243286169@qq.com&#x27;</span>,</span><br><span class="line">	CONCAT(<span class="string">&#x27;18&#x27;</span>,<span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span>((<span class="number">999999999</span><span class="number">-100000000</span>)<span class="operator">+</span><span class="number">100000000</span>)))</span><br><span class="line">	,<span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span><span class="number">2</span>),UUID(),<span class="built_in">FLOOR</span>(RAND()<span class="operator">*</span><span class="number">100</span>)</span><br><span class="line">	);</span><br><span class="line">	<span class="keyword">SET</span> i <span class="operator">=</span> i<span class="operator">+</span><span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">END</span> WHILE;</span><br><span class="line">     <span class="keyword">RETURN</span> i;</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> mockData()</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `app_user` <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;用户9999&#x27;</span><span class="comment">-- 1.204s</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- id_表名_字段名</span></span><br><span class="line"><span class="keyword">CREATE</span> INDEX id_app_user_name <span class="keyword">ON</span> app_user(`name`)</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `app_user` <span class="keyword">WHERE</span> `name`<span class="operator">=</span><span class="string">&#x27;用户9999&#x27;</span><span class="comment">-- 0.002s</span></span><br><span class="line">索引在小数据量的时候，用处不大，在大数据的时候，区别十分明显</span><br></pre></td></tr></table></figure>

<h4 id="索引原则"><a href="#索引原则" class="headerlink" title="索引原则"></a>索引原则</h4><ul>
<li>索引不是越多越好，不要对进程变动的数据加索引</li>
<li>小数据量的表不需要加索引</li>
<li>索引一般加在常用来查询的字段上</li>
<li>索引数据结构: Hash类型  BTREE：INNODB的默认数据结构</li>
<li>阅读：<a target="_blank" rel="noopener" href="https://blog.codinglabs.org/articles/theory-of-mysql-index.html">https://blog.codinglabs.org/articles/theory-of-mysql-index.html</a></li>
</ul>
<h3 id="权限管理和备份"><a href="#权限管理和备份" class="headerlink" title="权限管理和备份"></a>权限管理和备份</h3><h4 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h4><ul>
<li>sqlyog可视化</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sqlyog创建完新用户后 用设置密码登不上sqlyog，再执行下方语句，此时密码为<span class="number">12345</span>去登陆界面即可登录</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;12345&#x27;</span>;</span><br><span class="line">并且创建用户时是时<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>，登录也必须是<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>，不能是localhost</span><br></pre></td></tr></table></figure>

<ul>
<li><p>用户表</p>
<p>用户表：mysql.user<br>代码修改</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建用户 CREATE USER 用户名 </span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span>  <span class="string">&#x27;123456&#x27;</span></span><br><span class="line"><span class="comment">-- 修改密码（修改当前用户密码  可能新版不能用 报错）</span></span><br><span class="line"><span class="keyword">SET</span> PASSWORD <span class="operator">=</span> PASSWORD(<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"><span class="comment">-- 修改密码（修改指定用户密码  新版本可用）</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;12345&#x27;</span>;</span><br><span class="line"><span class="comment">-- 重命名 8.0版本不知道 下边为5.0</span></span><br><span class="line">RENAME <span class="keyword">USER</span> Haley <span class="keyword">TO</span> haley01</span><br><span class="line"><span class="comment">-- 用户授权 GRANT  ALL PRIVILEGES 全部权限 库.表</span></span><br><span class="line"><span class="comment">-- 除了给别人授权其他都能干</span></span><br><span class="line"><span class="keyword">GRANT</span>  <span class="keyword">ALL</span> PRIVILEGES  <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span></span><br><span class="line"><span class="comment">-- 查询权限</span></span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span>  <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>; <span class="comment">-- 查看指定用户权限</span></span><br><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- root用户权限:GRANT  ALL PRIVILEGES  ON *.* TO &#x27;root&#x27;@&#x27;localhost&#x27; with GRANT OPTION</span></span><br><span class="line"><span class="comment">-- 撤销权限 revoke 哪些权限,在哪个库撤销,给谁撤销</span></span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">FROM</span> <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除用户</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> <span class="string">&#x27;Haley&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="MySQL备份"><a href="#MySQL备份" class="headerlink" title="MySQL备份"></a>MySQL备份</h4><p>为什么要备份?</p>
<ul>
<li>保证重要数据不丢失</li>
<li>数据转移</li>
</ul>
<p>MYSql 数据备份的方式</p>
<ul>
<li><p>直接拷贝物理文件</p>
</li>
<li><p>在sqlyog 这种可视化工具中手动导出</p>
<ul>
<li>在想要导出的表或库中,右键,选择备份或导出</li>
</ul>
</li>
<li><p>使用命令行导出,mysqldump  命令行使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">cmd中执行</span><br><span class="line"># mysqldump <span class="operator">-</span>h主机 <span class="operator">-</span>u用户名 <span class="operator">-</span>p密码 数据库 表名 <span class="operator">&gt;</span>物理磁盘位置<span class="operator">/</span>文件名</span><br><span class="line"><span class="comment">-- 导出一张表</span></span><br><span class="line">C:\WINDOWS\system32<span class="operator">&gt;</span>mysqldump <span class="operator">-</span>hlocalhost <span class="operator">-</span>uroot <span class="operator">-</span>p123456hj school student <span class="operator">&gt;</span>C:<span class="operator">/</span><span class="number">1.</span><span class="keyword">sql</span></span><br><span class="line">mysqldump: [Warning] <span class="keyword">Using</span> a password <span class="keyword">on</span> the command line interface can be insecure. <span class="comment">-- 表示成功</span></span><br><span class="line"><span class="comment">-- 导出多张表</span></span><br><span class="line">mysqldump <span class="operator">-</span>hlocalhost <span class="operator">-</span>uroot <span class="operator">-</span>p123456hj school student <span class="keyword">result</span> <span class="operator">&gt;</span>C:<span class="operator">/</span><span class="number">2.</span><span class="keyword">sql</span></span><br><span class="line">mysqldump: [Warning] <span class="keyword">Using</span> a password <span class="keyword">on</span> the command line interface can be insecure.</span><br><span class="line"><span class="comment">-- 导出库</span></span><br><span class="line">C:\WINDOWS\system32<span class="operator">&gt;</span>mysqldump <span class="operator">-</span>hlocalhost <span class="operator">-</span>uroot <span class="operator">-</span>p123456hj school  <span class="operator">&gt;</span>C:<span class="operator">/</span><span class="number">3.</span><span class="keyword">sql</span></span><br><span class="line"><span class="comment">-- 导入 登录情况下 切换到指定数据库</span></span><br><span class="line">mysql<span class="operator">&gt;</span> use school;</span><br><span class="line">Database changed</span><br><span class="line">mysql<span class="operator">&gt;</span> source C:<span class="operator">/</span><span class="number">1.</span><span class="keyword">sql</span></span><br><span class="line"><span class="comment">-- 或者导入</span></span><br><span class="line">mysql <span class="operator">-</span>u用户名 <span class="operator">-</span>p密码 库<span class="operator">&lt;</span> 备份文件</span><br></pre></td></tr></table></figure></li>
</ul>
<p>把数据库给朋友时,sql文件发给别人</p>
<h3 id="规范数据库设计"><a href="#规范数据库设计" class="headerlink" title="规范数据库设计"></a>规范数据库设计</h3><h4 id="设计数据库"><a href="#设计数据库" class="headerlink" title="设计数据库"></a>设计数据库</h4><p>数据库不区分大小写,尽量不用驼峰命名,下划线命名多用</p>
<p>为什么需要设计?<br>==当设计库复杂的时候==</p>
<ul>
<li><p>糟糕数据库: 数据多余,浪费空间   数据库插入和删除麻烦  异常[屏蔽使用外键]</p>
<p>​                    程序性能差</p>
</li>
<li><p>良好数据库设计:节省内存  保证数据库完整 方便开发系统 </p>
</li>
<li><p>软件开发中,关于数据库的设计:</p>
<ul>
<li><p>分析需求:分析业务和需要处理的数据库需求</p>
</li>
<li><p>概要设计:设计关系图 E-R图</p>
</li>
<li><p><strong>设计数据库步骤:(个人博客)</strong></p>
<p><strong>1.收集信息,分析需求</strong>:</p>
<ul>
<li><p>用户表(用户登录注销,用户个人信息,写博客,创建分类)</p>
</li>
<li><p>分类表(文章分类,谁创建的)</p>
</li>
<li><p>文章表(文章的信息)</p>
</li>
<li><p>评论表</p>
</li>
<li><p>友链表:(友链信息)</p>
</li>
<li><p>自定义表:(系统信息,某个关键字,或一些主字段) key:value</p>
</li>
<li><p>说说表</p>
</li>
<li><p><em>2.标识实体(把需求落实到每个字段上</em>*:在sqlyog中建库(blog),见表</p>
</li>
</ul>
<p><strong>3.标识实体之间关系</strong></p>
<p>​    写博客:user-&gt;blog<br>​    创建分类:user-&gt;category<br>​    关注:user-&gt;user</p>
<p>​    友链:links<br>​    评论表:user-&gt;user-blog</p>
<p>系统:bbs crm</p>
</li>
</ul>
<h4 id="三大范式"><a href="#三大范式" class="headerlink" title="三大范式"></a>三大范式</h4><p>为什么需要数据规范化?</p>
<p>​    信息重复,更新异常,插入异常(无法显示正常信息) 删除异常(丢失有效信息)  </p>
<p>三大范式(了解)</p>
<p>链接:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/wsg25/p/9615100.html">https://www.cnblogs.com/wsg25/p/9615100.html</a></p>
<p>​    <strong>第一范式</strong>(1NF)</p>
<p>​    原子性:保证每一列不可再分</p>
<p>​     <strong>第二范式</strong>(2NF):</p>
<p>​        在满足第一范式的前提下,每张表只描述一件事情</p>
<p>   <strong>第三范式(3NF)</strong></p>
<p>​    前提:满足第一和第二范式</p>
<p>​    第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关</p>
<p>(规范数据库的设计)</p>
<p><strong>规范性和性能</strong>:</p>
<p>​    关联查询的表不能超过三张表</p>
<ul>
<li>考虑商业化需求和目标(成本,用户体验) 数据库性能更重要</li>
<li>在规范性能问题时候,需要适当考虑一下规范性</li>
<li>故意给某些表增加冗余字段(从多表查询中变为单表查询)</li>
<li>故意增加计算列(从多表查询中变为单表查询)</li>
</ul>
</li>
</ul>
<h3 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h3><h4 id="数据库驱动"><a href="#数据库驱动" class="headerlink" title="数据库驱动"></a>数据库驱动</h4><p>驱动:声卡,显卡,数据库</p>
<p>作用:<a target="_blank" rel="noopener" href="https://img-blog.csdnimg.cn/20200708013306539.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzOTU2NTM2,size_16,color_FFFFFF,t_70">https://img-blog.csdnimg.cn/20200708013306539.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzOTU2NTM2,size_16,color_FFFFFF,t_70</a></p>
<p>我们的程序会通过数据库驱动，和数据库打交道！</p>
<h4 id="JDBC-1"><a href="#JDBC-1" class="headerlink" title="JDBC"></a>JDBC</h4><p>SUN 公司为了简化开发人员的（对数据库的统一）操作，提供了一个(Java操作数据库的)规范，JDBC</p>
<p>这些规范的实现由具体的厂商去做</p>
<p>对于开发人员来说，我们只需要掌握JDBC的接口操作即可</p>
<p><img src="https://img-blog.csdnimg.cn/20200708013314340.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzOTU2NTM2,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>java.sql</p>
<p>javax.sql</p>
<p>还需要导入数据库驱动包 MySQL-connector-Java-5.1.47.jar(对于MySQL5.0包)</p>
<h4 id="第一个JDBC程序"><a href="#第一个JDBC程序" class="headerlink" title="第一个JDBC程序"></a>第一个JDBC程序</h4><blockquote>
<p>创建测试数据库</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE jdbcStudy <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"> </span><br><span class="line">USE jdbcStudy;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `users`(</span><br><span class="line">id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">NAME <span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">PASSWORD <span class="type">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">email <span class="type">VARCHAR</span>(<span class="number">60</span>),</span><br><span class="line">birthday <span class="type">DATE</span></span><br><span class="line">);</span><br><span class="line"> </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `users`(id,NAME,PASSWORD,email,birthday)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">&#x27;zhansan&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;zs@sina.com&#x27;</span>,<span class="string">&#x27;1980-12-04&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;lisi&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;lisi@sina.com&#x27;</span>,<span class="string">&#x27;1981-12-04&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;wangwu&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;wangwu@sina.com&#x27;</span>,<span class="string">&#x27;1979-12-04&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>1.用idea创建一个普通项目<br>       2.导入数据库驱动: 新建lib文件,粘贴到lib下,add library<br>        3.编写测试代码:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">package com.haley.lesson01;</span><br><span class="line"></span><br><span class="line">import com.mysql.jdbc.Driver;</span><br><span class="line"></span><br><span class="line">import java.sql.<span class="operator">*</span>;</span><br><span class="line"></span><br><span class="line">import <span class="keyword">static</span> java.lang.Class.forName;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>我的第一个jdbc程序</span><br><span class="line">public class JdbcFirstDemo &#123;</span><br><span class="line">    public static void main(String[] args) throws ClassNotFoundException, SQLException &#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">1.</span>加载驱动</span><br><span class="line">            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;); <span class="operator">/</span><span class="operator">/</span>固定写法 加载驱动</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">2.</span>用户信息和url</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span> useUnicode<span class="operator">=</span><span class="literal">true</span><span class="operator">&amp;</span>characterEncoding<span class="operator">=</span>utf8<span class="operator">&amp;</span>useSSL<span class="operator">=</span><span class="literal">true</span></span><br><span class="line">            String url<span class="operator">=</span>&quot;jdbc:mysql://localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&quot;;</span><br><span class="line">            String username<span class="operator">=</span>&quot;root&quot;;</span><br><span class="line">            String password<span class="operator">=</span>&quot;123456hj&quot;;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">3.</span>连接成功,数据库对象 Connection代表数据库</span><br><span class="line">        Connection connection <span class="operator">=</span> DriverManager.getConnection(url, username, password);</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">4.</span>执行<span class="keyword">sql</span>的对象 Statement执行<span class="keyword">sql</span>的对象</span><br><span class="line">        Statement statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">5.</span>执行<span class="keyword">sql</span>的对象去 执行<span class="keyword">sql</span>,可能存在结果,返回结果</span><br><span class="line">        String <span class="keyword">sql</span><span class="operator">=</span>&quot;SELECT * FROM users&quot;;</span><br><span class="line">        ResultSet resultSet <span class="operator">=</span> statement.executeQuery(<span class="keyword">sql</span>);<span class="operator">/</span><span class="operator">/</span>返回的结果集合 结果集合封装了我们全部查询出来的结果</span><br><span class="line">        while(resultSet.next())&#123;</span><br><span class="line">            System.out.println(&quot;id=&quot;<span class="operator">+</span>resultSet.getObject(&quot;id&quot;));</span><br><span class="line">            System.out.println(&quot;name=&quot;<span class="operator">+</span>resultSet.getObject(&quot;NAME&quot;));</span><br><span class="line">            System.out.println(&quot;pwd=&quot;<span class="operator">+</span>resultSet.getObject(&quot;PASSWORD&quot;));</span><br><span class="line">            System.out.println(&quot;email=&quot;<span class="operator">+</span>resultSet.getObject(&quot;email&quot;));</span><br><span class="line">            System.out.println(&quot;birth=&quot;<span class="operator">+</span>resultSet.getObject(&quot;birthday&quot;));</span><br><span class="line">            System.out.println(&quot;===============================&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="number">6.</span>释放连接</span><br><span class="line">        resultSet.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">步骤总结:</span><br><span class="line"><span class="number">1.</span>加载驱动 <span class="number">2.</span>连接数据库DriverManager  <span class="number">3.</span>获取执行<span class="keyword">sql</span>的对象Statement</span><br><span class="line"><span class="number">4.</span>获得返回的结果集合()  <span class="number">5.</span>释放连接</span><br></pre></td></tr></table></figure>

<h4 id="JDBC对象解释"><a href="#JDBC对象解释" class="headerlink" title="JDBC对象解释"></a>JDBC对象解释</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">DriverManager:</span><br><span class="line">        DriverManager.registerDriver(<span class="keyword">new</span> Driver()); 会执行此操作两次</span><br><span class="line">        Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>); <span class="comment">//固定写法 加载驱动</span></span><br><span class="line"></span><br><span class="line">URL:</span><br><span class="line">	 String url=<span class="string">&quot;jdbc:mysql://localhost:3306/jdbcstudy?			useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;serverTime=UTC&quot;</span>;</span><br><span class="line"></span><br><span class="line">        -- mysql默认<span class="number">3306</span>  jdbc:mysql是协议</span><br><span class="line">        <span class="comment">//协议://主机地址:端口号//数据库名?参数1&amp;参数2&amp;参数3</span></span><br><span class="line">        -- oracle 默认<span class="number">1521</span></span><br><span class="line">        <span class="comment">//jdbc:oracle:think@localhost:1521:sid</span></span><br><span class="line">            </span><br><span class="line">connection数据库</span><br><span class="line"> <span class="comment">//数据库设置自动提交</span></span><br><span class="line"> <span class="comment">//事务提交</span></span><br><span class="line"><span class="comment">// 事务回滚</span></span><br><span class="line">        connection.rollback();</span><br><span class="line">        connection.commit();</span><br><span class="line">        connection.setAutoCommit(<span class="keyword">true</span>);<span class="comment">//自动提交;</span></span><br><span class="line"></span><br><span class="line">statement 执行sql的对象   prepareStatement执行SQL对象</span><br><span class="line">        String sql=<span class="string">&quot;SELECT * FROM users&quot;</span>;<span class="comment">//编写sql</span></span><br><span class="line"></span><br><span class="line">     	statement.executeQuery();<span class="comment">//查询操作返回一个结果集 resultSet</span></span><br><span class="line">        statement.execute();<span class="comment">//执行任何SQL</span></span><br><span class="line">        statement.executeUpdate();<span class="comment">//更新,插入,删除,都是用这个,返回一个受影响行数</span></span><br><span class="line"></span><br><span class="line">ResultSet查询的结果集,分装了所有查询结果</span><br><span class="line">    <span class="comment">//获得指定数据类型</span></span><br><span class="line">        resultSet.getObject();<span class="comment">//不知道列类型情况下使用</span></span><br><span class="line">        resultSet.getString();<span class="comment">//知道列类型就会使用指定类型</span></span><br><span class="line">        resultSet.getInt();</span><br><span class="line">        resultSet.getFloat();</span><br><span class="line">        resultSet.getDate();</span><br><span class="line"></span><br><span class="line">遍历,指针</span><br><span class="line">    	resultSet.beforeFirst();<span class="comment">//移动到最前面</span></span><br><span class="line">        resultSet.afterLast();<span class="comment">//移动到最后面</span></span><br><span class="line">        resultSet.next();<span class="comment">//移动到下一个地址</span></span><br><span class="line">        resultSet.previous();<span class="comment">//移动到前一行</span></span><br><span class="line">        resultSet.absolute(row);<span class="comment">//移动到指定行</span></span><br><span class="line"></span><br><span class="line">释放资源</span><br><span class="line">    	resultSet.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();<span class="comment">//释放资源,用完关掉</span></span><br></pre></td></tr></table></figure>

<h4 id="statement对象"><a href="#statement对象" class="headerlink" title="statement对象"></a>statement对象</h4><p>Jdbc中的statement对象用于向数据库发送SQL语句，想完成对数据库的增删改查，只需要通过这个对象向数据库发送增删改查语句即可。</p>
<p>Statement对象的executeUpdate方法，用于向数据库发送增、删、改的sq|语句， executeUpdate执行完后， 将会返回一个整数(即增删改语句导致了数据库几行数据发生了变化)。</p>
<p>Statement.executeQuery方法用于向数据库发生查询语句，executeQuery方法返回代表查询结果的ResultSet对象。</p>
<p>CRUD操作-create</p>
<p>使用executeUpdate(String sql)方法完成数据添加操作，示例操作：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Statement statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">       String <span class="keyword">sql</span> <span class="operator">=</span> &quot;insert into user(...) values(...)&quot;;</span><br><span class="line">       <span class="type">int</span> num <span class="operator">=</span> statement.executeUpdate(<span class="keyword">sql</span>);</span><br><span class="line">       if(num&gt;0)&#123;</span><br><span class="line">           System.out.println(&quot;插入成功&quot;);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>CRUD操作-delete</p>
<p>使用executeUpdate(String sql)方法完成数据删除操作，示例操作：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Statement statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;delete from user where id =1&quot;;</span><br><span class="line">        <span class="type">int</span> num <span class="operator">=</span> statement.executeUpdate(<span class="keyword">sql</span>);</span><br><span class="line">        if(num&gt;0)&#123;</span><br><span class="line">            System.out.println(&quot;删除成功&quot;);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>CURD操作-update</p>
<p>使用executeUpdate(String sql)方法完成数据修改操作，示例操作：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Statement statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;update user set name =&#x27;&#x27; where name = &#x27;&#x27;&quot;;</span><br><span class="line">        <span class="type">int</span> num <span class="operator">=</span> statement.executeUpdate(<span class="keyword">sql</span>);</span><br><span class="line">        if(num&gt;0)&#123;</span><br><span class="line">            System.out.println(&quot;修改成功&quot;);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>CURD操作-read</p>
<p>使用executeUpdate(String sql)方法完成数据查询操作，示例操作：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Statement statement <span class="operator">=</span> connection.createStatement();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from  user where id =1&quot;;</span><br><span class="line">        ResultSet rs<span class="operator">=</span> statement.executeQuery(<span class="keyword">sql</span>);</span><br><span class="line">        if(rs.next())&#123;</span><br><span class="line">            System.out.println(&quot;&quot;);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>代码实现</p>
<p>1.在src下新建并配置db.properties文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">driver=com.mysql.jdbc.Driver</span><br><span class="line">url=jdbc:mysql:<span class="comment">//localhost:3306/jdbcstudy?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;serverTime=UTC</span></span><br><span class="line">username=root</span><br><span class="line">password=123456hj</span><br></pre></td></tr></table></figure>

<p>2.提取工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcUtils</span> </span>&#123;</span><br><span class="line"><span class="comment">//    由于properties返回一个配置对象,在这里提前定义空对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  String driver = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  String url = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  String username = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  String password = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    获取配置文件 将配置信息存入properties对象里边</span></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            InputStream in = JdbcUtils.class.getClassLoader().getResourceAsStream(<span class="string">&quot;db.properties&quot;</span>);</span><br><span class="line">            Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line"></span><br><span class="line"><span class="comment">//                将配置信息存入properties对象里边</span></span><br><span class="line">                properties.load(in);</span><br><span class="line"><span class="comment">//                获取里边某一个资源 返回是一个对象</span></span><br><span class="line">                driver = properties.getProperty(<span class="string">&quot;driver&quot;</span>);</span><br><span class="line">                url = properties.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">                username = properties.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">                password = properties.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//                驱动只要加载一次</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Class.forName(driver);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        获取连接</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">         <span class="keyword">return</span> DriverManager.getConnection(url, username, password);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    释放连接资源</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">(Connection con, Statement st, ResultSet rs)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(rs!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (st!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                st.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(con!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                con.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>​    3.增删改测试</p>
<p>增</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection coon=<span class="keyword">null</span>;</span><br><span class="line">        Statement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            调用JDBCutils包创建connection对象,获取数据库连接</span></span><br><span class="line">             coon = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//             获得sql的执行对象</span></span><br><span class="line">            st=coon.createStatement();</span><br><span class="line"><span class="comment">//            执行sql命令</span></span><br><span class="line">            String sql=<span class="string">&quot;INSERT INTO users(`id`,`NAME`,`PASSWORD`,`email`,`birthday`)&quot;</span> +</span><br><span class="line">                    <span class="string">&quot;VALUES (4,&#x27;haley&#x27;,&#x27;1234567890&#x27;,&#x27;2743286169@qq.com&#x27;,&#x27;2020-01-01&#x27;)&quot;</span>;</span><br><span class="line">            <span class="keyword">int</span> i = st.executeUpdate(sql);<span class="comment">//返回结果 结果为受影响行数</span></span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(coon,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>删:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDelete</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection coon=<span class="keyword">null</span>;</span><br><span class="line">        Statement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            调用JDBCutils包创建connection对象,获取数据库连接</span></span><br><span class="line">            coon = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//             获得sql的执行对象</span></span><br><span class="line">            st=coon.createStatement();</span><br><span class="line"><span class="comment">//            执行sql命令</span></span><br><span class="line">            String sql=<span class="string">&quot;DELETE FROM users WHERE id=4&quot;</span>;</span><br><span class="line">            <span class="keyword">int</span> i = st.executeUpdate(sql);<span class="comment">//返回结果 结果为受影响行数</span></span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(coon,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>改:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestUpdate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection coon=<span class="keyword">null</span>;</span><br><span class="line">        Statement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            调用JDBCutils包创建connection对象,获取数据库连接</span></span><br><span class="line">            coon = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//             获得sql的执行对象</span></span><br><span class="line">            st=coon.createStatement();</span><br><span class="line"><span class="comment">//            执行sql命令</span></span><br><span class="line">            String sql=<span class="string">&quot;UPDATE users SET `NAME`=&#x27;haley&#x27;,`email`=&#x27;2743286169@@qq.com&#x27; WHERE id=1&quot;</span>;</span><br><span class="line">            <span class="keyword">int</span> i = st.executeUpdate(sql);<span class="comment">//返回结果 结果为受影响行数</span></span><br><span class="line">            <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;更新成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(coon,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查询</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSelect</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">        Connection conn=<span class="keyword">null</span>;</span><br><span class="line">        Statement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        conn = JdbcUtils.getConnection();</span><br><span class="line">        st=conn.createStatement();</span><br><span class="line"><span class="comment">//        SQL</span></span><br><span class="line">        String sql=<span class="string">&quot;Select * from users where id=1&quot;</span>;</span><br><span class="line"></span><br><span class="line">         rs = st.executeQuery(sql);<span class="comment">//查询完毕返回结果集合</span></span><br><span class="line">        <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">            System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        JdbcUtils.release(conn,st,rs);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="sql注入问题"><a href="#sql注入问题" class="headerlink" title="sql注入问题"></a>sql注入问题</h4><p>sql存在漏洞，会被攻击导致数据泄露 <strong>本质:SQL会被拼接 or</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson02;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.sql.Statement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SQl</span>注入 </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        正常登录</span></span><br><span class="line"><span class="comment">//        login(&quot;haley&quot;,&quot;123456&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        非正常登录</span></span><br><span class="line">        login(<span class="string">&quot;&#x27;or &#x27;1=1&quot;</span>,<span class="string">&quot;&#x27;or &#x27;1=1&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    登录业务</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title">login</span><span class="params">(String username,String password)</span></span>&#123;</span><br><span class="line">        Connection coon=<span class="keyword">null</span>;</span><br><span class="line">        Statement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            调用JDBCutils包创建connection对象,获取数据库连接</span></span><br><span class="line">            coon = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//             获得sql的执行对象</span></span><br><span class="line">            st=coon.createStatement();</span><br><span class="line"><span class="comment">//            执行sql命令</span></span><br><span class="line"><span class="comment">//            String sql=&quot;SELECT * FROM users WHERE NAME = &#x27;&#x27; or &#x27;1=1&#x27; AND+ `password`=&#x27;&#x27;or &#x27;1=1&#x27;;</span></span><br><span class="line">            String sql=<span class="string">&quot;SELECT * FROM users WHERE NAME = &#x27;&quot;</span>+username+<span class="string">&quot;&#x27; AND&quot;</span>+<span class="string">&quot; `password`=&#x27;&quot;</span>+password+<span class="string">&quot;&#x27;&quot;</span>;</span><br><span class="line">             rs = st.executeQuery(sql);</span><br><span class="line">             <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                 System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">                 System.out.println(rs.getString(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">                 System.out.println(<span class="string">&quot;===================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">             &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(coon,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="PrepareStatement对象"><a href="#PrepareStatement对象" class="headerlink" title="PrepareStatement对象"></a>PrepareStatement对象</h4><p>PrepareStatement可以防止sql注入,并且效率更高<br>        增</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInsert</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pst=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//            区别</span></span><br><span class="line"><span class="comment">//            可以使用问号占位符代替参数</span></span><br><span class="line">            String sql=<span class="string">&quot;INSERT INTO users(`id`,`NAME`,`PASSWORD`,`email`,`birthday`) VALUES (?,?,?,?,?)&quot;</span>;</span><br><span class="line">            pst=connection.prepareStatement(sql);<span class="comment">//预编译SQL,先写sql,然后不执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            手动给参数赋值</span></span><br><span class="line">            pst.setInt(<span class="number">1</span>,<span class="number">4</span>);<span class="comment">//1表示第一个问号,给id赋值</span></span><br><span class="line">            pst.setString(<span class="number">2</span>,<span class="string">&quot;qinjiang&quot;</span>);</span><br><span class="line">            pst.setString(<span class="number">3</span>,<span class="string">&quot;1232112&quot;</span>);</span><br><span class="line">            pst.setString(<span class="number">4</span>,<span class="string">&quot;2743286169@qq.com&quot;</span>);</span><br><span class="line"><span class="comment">//            注意点:sql.Date 数据库 java.sql.Date()</span></span><br><span class="line"><span class="comment">//                  util.Date java new Date().getTime()获得时间戳</span></span><br><span class="line">            pst.setDate(<span class="number">5</span>,<span class="keyword">new</span> java.sql.Date(<span class="keyword">new</span> Date().getTime()));</span><br><span class="line"></span><br><span class="line"><span class="comment">//            执行</span></span><br><span class="line">            <span class="keyword">int</span> i = pst.executeUpdate();<span class="comment">//返回被修改行数</span></span><br><span class="line">            <span class="keyword">if</span> (i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;插入成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection,pst,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>删</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDelete</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pst=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//            区别</span></span><br><span class="line"><span class="comment">//            可以使用问号占位符代替参数</span></span><br><span class="line">            String sql=<span class="string">&quot;delete from users where id=?&quot;</span>;</span><br><span class="line">            pst=connection.prepareStatement(sql);<span class="comment">//预编译SQL,先写sql,然后不执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            手动给参数赋值</span></span><br><span class="line">         pst.setInt(<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//            执行</span></span><br><span class="line">            <span class="keyword">int</span> i = pst.executeUpdate();<span class="comment">//返回被修改行数</span></span><br><span class="line">            <span class="keyword">if</span> (i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection,pst,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>更新</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestUpdate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pst=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//            区别</span></span><br><span class="line"><span class="comment">//            可以使用问号占位符代替参数</span></span><br><span class="line">            String sql=<span class="string">&quot;update users set `NAME`=? where id=?&quot;</span>;</span><br><span class="line">            pst=connection.prepareStatement(sql);<span class="comment">//预编译SQL,先写sql,然后不执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            手动给参数赋值</span></span><br><span class="line">            pst.setString(<span class="number">1</span>,<span class="string">&quot;海伦&quot;</span>);</span><br><span class="line">            pst.setInt(<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="comment">//            执行</span></span><br><span class="line">            <span class="keyword">int</span> i = pst.executeUpdate();<span class="comment">//返回被修改行数</span></span><br><span class="line">            <span class="keyword">if</span> (i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;更新成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection,pst,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>查询</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSelect</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line"></span><br><span class="line">        Connection connection=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pst=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//    获取连接</span></span><br><span class="line">         connection = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line">         String sql=<span class="string">&quot;Select * from users where id=?&quot;</span>;<span class="comment">//编写SQL</span></span><br><span class="line">         pst=connection.prepareStatement(sql);<span class="comment">//预编译</span></span><br><span class="line">         pst.setInt(<span class="number">1</span>,<span class="number">1</span>);<span class="comment">//传递参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        执行查询</span></span><br><span class="line">         rs = pst.executeQuery();<span class="comment">//返回一组键值对对象</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (rs.next())&#123;</span><br><span class="line">            System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        JdbcUtils.release(connection,pst,rs);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>sql注入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.haley.lesson03;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SQl</span>注入 </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        正常登录</span></span><br><span class="line"><span class="comment">//        login(&quot;lisi&quot;,&quot;123456&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        非正常登录</span></span><br><span class="line">        login(<span class="string">&quot;&#x27;&#x27;or 1=1&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    登录业务</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title">login</span><span class="params">(String username,String password)</span></span>&#123;</span><br><span class="line">        Connection coon=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement st=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            调用JDBCutils包创建connection对象,获取数据库连接</span></span><br><span class="line">            coon = JdbcUtils.getConnection();</span><br><span class="line"></span><br><span class="line"><span class="comment">//            PreparedStatement防止sql注入的本质:把传递进来的参数当作字符</span></span><br><span class="line"><span class="comment">//            假设其中存在转义字符,就直接转义,比如说&#x27;</span></span><br><span class="line"><span class="comment">//             获得sql的执行对象</span></span><br><span class="line">            String sql=<span class="string">&quot;SELECT * FROM users where NAME=? and password=?&quot;</span>;<span class="comment">//Mybatis</span></span><br><span class="line"></span><br><span class="line">            st=coon.prepareStatement(sql);<span class="comment">//预编译</span></span><br><span class="line"><span class="comment">//            传参</span></span><br><span class="line">            st.setString(<span class="number">1</span>,username);</span><br><span class="line">            st.setString(<span class="number">2</span>,password);</span><br><span class="line"><span class="comment">//            查询</span></span><br><span class="line">             rs = st.executeQuery();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">                 System.out.println(rs.getString(<span class="string">&quot;NAME&quot;</span>));</span><br><span class="line">                 System.out.println(rs.getString(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">                 System.out.println(<span class="string">&quot;===================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">             &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(coon,st,rs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="使用idea连接数据库"><a href="#使用idea连接数据库" class="headerlink" title="使用idea连接数据库"></a>使用idea连接数据库</h4><p>记得时区:ServerTime:UTC<br>    测试链接后,scheme设置mysql</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_33956536/article/details/107195051">https://blog.csdn.net/qq_33956536/article/details/107195051</a></p>
<h4 id="JDBC操作事务"><a href="#JDBC操作事务" class="headerlink" title="JDBC操作事务"></a>JDBC操作事务</h4><p>==要么都成功,要么都失败==</p>
<p>ACID原则:</p>
<p>原子性 :要么都完成,要么都不完成<br>        一致性 :总数不变<br>        <strong>隔离性 :多个进程互不干扰</strong><br>        持久性:一旦提交不可逆,持久化到数据库</p>
<p>隔离问题:<br>         脏读:一个事务读取了另一个没有提交的事务<br>        不可重复读:在同一个事务内,重复读取表中数据,表数据发生改变<br>        虚读(幻读):在一个事务内,读取到了别人插入的数据,导致前后读出的结果不一致</p>
<p>代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">开启事务  connection.setAutoCommit(<span class="keyword">false</span>);</span><br><span class="line">一组业务执行完毕.提交事务</span><br><span class="line">可以在<span class="keyword">catch</span>中显示定义语句 rollback,但默认失败回滚</span><br><span class="line">    <span class="keyword">package</span> com.haley.lesson04;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.haley.lesson02.utils.JdbcUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTransaction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Connection connection=<span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement pst=<span class="keyword">null</span>;</span><br><span class="line">        ResultSet rs=<span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection=JdbcUtils.getConnection();</span><br><span class="line"><span class="comment">//            执行操作事务</span></span><br><span class="line"><span class="comment">//            关闭数据库的自动提交功能,自动会开启事务</span></span><br><span class="line">            connection.setAutoCommit(<span class="keyword">false</span>);<span class="comment">//开启事务</span></span><br><span class="line"></span><br><span class="line">            String sql1=<span class="string">&quot;update account set money=money-100 where name=&#x27;A&#x27;&quot;</span>;</span><br><span class="line">            pst=connection.prepareStatement(sql1);</span><br><span class="line">            pst.executeUpdate();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            String sql2=<span class="string">&quot;update account set money=money+100 where name=&#x27;B&#x27;&quot;</span>;</span><br><span class="line">            pst=connection.prepareStatement(sql2);</span><br><span class="line">            pst.executeUpdate();</span><br><span class="line"><span class="comment">//            业务完毕 提交事务</span></span><br><span class="line">            connection.commit();</span><br><span class="line">            System.out.println(<span class="string">&quot;操作成功!&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception throwables) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                connection.rollback();<span class="comment">//如果失败则回滚事务</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            JdbcUtils.release(connection,pst,rs);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="数据库连接池"><a href="#数据库连接池" class="headerlink" title="数据库连接池"></a>数据库连接池</h4><p>10.8数据库连接池<br>数据库连接–执行完毕–释放</p>
<p>连接–释放 十分浪费资源</p>
<p>池化技术： 准备一些预先的资源，过来就连接预先准备好的</p>
<p>常用连接数 100</p>
<p>最少连接数：100</p>
<p>最大连接数 ： 120 业务最高承载上限</p>
<p>排队等待，</p>
<p>等待超时：100ms</p>
<p><strong>编写连接池，实现一个接口 DateSource</strong></p>
<p>开源数据源实现(拿来即用)</p>
<p>DBCP</p>
<p>C3P0</p>
<p>Druid: 阿里巴巴</p>
<p>使用了这些数据库连接池之后，我们在项目开发中就不需要编写连接数据库的代码了</p>
<p><strong>DBCP</strong></p>
<p>需要用到的jar包: commons-jdbc-1.4.jar  commons-pool-1.6<br>        地址:<a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/commons-dbcp/commons-dbcp/1.4/">https://repo1.maven.org/maven2/commons-dbcp/commons-dbcp/1.4/</a><br>                <a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/commons-pool/commons-pool/1.6/">https://repo1.maven.org/maven2/commons-pool/commons-pool/1.6/</a></p>
<p><strong>C3P0</strong><br>    需要用到的jar包<br>   c3p0-0.9-5.5:<a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/com/mchange/c3p0/0.9.5.5/">https://repo1.maven.org/maven2/com/mchange/c3p0/0.9.5.5/</a><br>    mchange-commons-java-0.2-19:<a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/com/mchange/mchange-commons-java/0.2.19/">https://repo1.maven.org/maven2/com/mchange/mchange-commons-java/0.2.19/</a></p>
<p>结论</p>
<p>无论使用什么数据源，本质是不变的，DateSource接口(.getconnection不变)不会变，方法就不会</p>
<h2 id="总结依赖配置"><a href="#总结依赖配置" class="headerlink" title="总结依赖配置"></a>总结依赖配置</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## 常用依赖</span></span><br><span class="line"><span class="code">```xml</span></span><br><span class="line"><span class="code"> &lt;dependencies&gt;</span></span><br><span class="line"><span class="code">&lt;!--        要导入Web包--&gt;</span></span><br><span class="line"><span class="code">    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line"><span class="code">    &lt;dependency&gt;</span></span><br><span class="line"><span class="code">        &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span></span><br><span class="line"><span class="code">        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</span></span><br><span class="line"><span class="code">        &lt;version&gt;5.3.4&lt;/version&gt;</span></span><br><span class="line"><span class="code">    &lt;/dependency&gt;</span></span><br><span class="line"><span class="code">&lt;!--        要导入Junit包--&gt;</span></span><br><span class="line"><span class="code">        &lt;dependency&gt;</span></span><br><span class="line"><span class="code">            &lt;groupId&gt;junit&lt;/groupId&gt;</span></span><br><span class="line"><span class="code">            &lt;artifactId&gt;junit&lt;/artifactId&gt;</span></span><br><span class="line"><span class="code">            &lt;version&gt;4.12&lt;/version&gt;</span></span><br><span class="line"><span class="code">        &lt;/dependency&gt;</span></span><br><span class="line"><span class="code">        &lt;!--该依赖主要是针对 @Resource 使用--&gt;</span></span><br><span class="line"><span class="code">        &lt;dependency&gt;</span></span><br><span class="line"><span class="code">            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;</span></span><br><span class="line"><span class="code">            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;</span></span><br><span class="line"><span class="code">            &lt;version&gt;1.2&lt;/version&gt;</span></span><br><span class="line"><span class="code">        &lt;/dependency&gt;</span></span><br><span class="line"><span class="code">        &lt;!--        导入log4j依赖--&gt;</span></span><br><span class="line"><span class="code">        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span></span><br><span class="line"><span class="code">        &lt;dependency&gt;</span></span><br><span class="line"><span class="code">            &lt;groupId&gt;log4j&lt;/groupId&gt;</span></span><br><span class="line"><span class="code">            &lt;artifactId&gt;log4j&lt;/artifactId&gt;</span></span><br><span class="line"><span class="code">            &lt;version&gt;1.2.17&lt;/version&gt;</span></span><br><span class="line"><span class="code">        &lt;/dependency&gt;</span></span><br><span class="line"><span class="code">        &lt;!--        导入Mybatis--&gt;</span></span><br><span class="line"><span class="code">        &lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line"><span class="code">        &lt;dependency&gt;</span></span><br><span class="line"><span class="code">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span></span><br><span class="line"><span class="code">            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span></span><br><span class="line"><span class="code">            &lt;version&gt;3.5.6&lt;/version&gt;</span></span><br><span class="line"><span class="code">        &lt;/dependency&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">    &lt;/dependencies&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">        &lt;!--  在build中配置resources，来防止我们导出失败问题 --&gt;</span></span><br><span class="line"><span class="code">        &lt;build&gt;</span></span><br><span class="line"><span class="code">        &lt;resources&gt;</span></span><br><span class="line"><span class="code">            &lt;resource&gt;</span></span><br><span class="line"><span class="code">                &lt;directory&gt;src/main/resources&lt;/directory&gt;</span></span><br><span class="line"><span class="code">                &lt;includes&gt;</span></span><br><span class="line"><span class="code">                    &lt;include&gt;**/*.properties&lt;/include&gt;</span></span><br><span class="line"><span class="code">                    &lt;include&gt;**/*.xml&lt;/include&gt;</span></span><br><span class="line"><span class="code">                &lt;/includes&gt;</span></span><br><span class="line"><span class="code">                &lt;filtering&gt;true&lt;/filtering&gt;</span></span><br><span class="line"><span class="code">            &lt;/resource&gt;</span></span><br><span class="line"><span class="code">            &lt;resource&gt;</span></span><br><span class="line"><span class="code">                &lt;directory&gt;src/main/java&lt;/directory&gt;</span></span><br><span class="line"><span class="code">                &lt;includes&gt;</span></span><br><span class="line"><span class="code">                    &lt;include&gt;**/*.properties&lt;/include&gt;</span></span><br><span class="line"><span class="code">                    &lt;include&gt;**/*.xml&lt;/include&gt;</span></span><br><span class="line"><span class="code">                &lt;/includes&gt;</span></span><br><span class="line"><span class="code">                &lt;filtering&gt;true&lt;/filtering&gt;</span></span><br><span class="line"><span class="code">            &lt;/resource&gt;</span></span><br><span class="line"><span class="code">        &lt;/resources&gt;</span></span><br><span class="line"><span class="code">        &lt;/build&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"></span><br><span class="line"><span class="section">## 注解说明</span></span><br><span class="line"><span class="bullet">-</span> @Autowired:自动装配通过类型,名字</span><br><span class="line"><span class="code">    如果Autowired不能唯一自动装配属性(完成bean的注入),则需要通过@Qualifier(value=&quot;xxx&quot;)</span></span><br><span class="line"><span class="code">-  **@Nullable** 字段标记了这个注解,说明这个字段可以为null,为空不报错</span></span><br><span class="line"><span class="code">- @Resource:自动装配通过名字,类型</span></span><br><span class="line"><span class="code">- @Component：组件，放在类上，说明这个类被Spring管理了，就是bean,完成bean的注册</span></span><br><span class="line"><span class="code">## 导入的包</span></span><br><span class="line"><span class="code">```xml</span></span><br><span class="line"><span class="code">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="code">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="line"><span class="code">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line"><span class="code">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="line"><span class="code">       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="line"><span class="code">       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="code">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="code">        http://www.springframework.org/schema/context</span></span><br><span class="line"><span class="code">        https://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="line"><span class="code">        http://www.springframework.org/schema/aop</span></span><br><span class="line"><span class="code">        https://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;</span></span><br><span class="line"><span class="code">&lt;!--    开启注解的支持--&gt;</span></span><br><span class="line"><span class="code">    &lt;context:annotation-config/&gt;</span></span><br><span class="line"><span class="code">&lt;/beans&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure>

<h2 id="数据库properties配置"><a href="#数据库properties配置" class="headerlink" title="数据库properties配置"></a>数据库properties配置</h2><p>db.properties</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">driver = com.mysql.cj.jdbc.Driver</span><br><span class="line">url= jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;serverTime=UTC</span><br><span class="line">#username= root</span><br><span class="line">password= 123456hj</span><br></pre></td></tr></table></figure>

<p>logfj.properties</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#将等级为DEBUG的日志信息输出到console和file这两个目的地，console和file的定义在下面的代码</span><br><span class="line">log4j.rootLogger=DEBUG,console,file</span><br><span class="line"></span><br><span class="line">#控制台输出的相关设置</span><br><span class="line">log4j.appender.console = org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.console.Target = System.out</span><br><span class="line">log4j.appender.console.Threshold=DEBUG</span><br><span class="line">log4j.appender.console.layout = org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.console.layout.ConversionPattern=[%c]-%m%n</span><br><span class="line">#文件输出的相关设置</span><br><span class="line">log4j.appender.file = org.apache.log4j.RollingFileAppender</span><br><span class="line">log4j.appender.file.File=./log/haley.log</span><br><span class="line">log4j.appender.file.MaxFileSize=10mb</span><br><span class="line">log4j.appender.file.Threshold=DEBUG</span><br><span class="line">log4j.appender.file.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.file.layout.ConversionPattern=[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span><br><span class="line">#日志输出级别</span><br><span class="line">log4j.logger.org.mybatis=DEBUG</span><br><span class="line">log4j.logger.java.sql=DEBUG</span><br><span class="line">log4j.logger.java.sql.Statement=DEBUG</span><br><span class="line">log4j.logger.java.sql.ResultSet=DEBUG</span><br><span class="line">log4j.logger.java.sq1.PreparedStatement=DEBUG</span><br></pre></td></tr></table></figure>







<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>MySQL 服务正在启动 . MySQL 服务无法启动。 服务没有报告任何错误</p>
<p>netstat -aon|findstr “3306”</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/koloumi/article/details/83117497">https://blog.csdn.net/koloumi/article/details/83117497</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/03/30/%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E6%97%A5%E5%BF%97/" rel="next" title="注册登录日志">
                <i class="fa fa-chevron-left"></i> 注册登录日志
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/03/30/mybatis%E6%80%BB%E7%BB%93/" rel="prev" title="mybatis总结">
                mybatis总结 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Mysql"><span class="nav-number">1.</span> <span class="nav-text">Mysql</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9D%E8%AF%86mysql"><span class="nav-number">1.1.</span> <span class="nav-text">初识mysql</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL%E5%91%BD%E4%BB%A4"><span class="nav-number">1.2.</span> <span class="nav-text">MySQL命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.3.</span> <span class="nav-text">使用数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.3.1.</span> <span class="nav-text">操作数据库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%97%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.3.2.</span> <span class="nav-text">数据库列类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AD%97%E6%AE%B5%E5%B1%9E%E6%80%A7"><span class="nav-number">1.3.3.</span> <span class="nav-text">数据库的字段属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="nav-number">1.3.4.</span> <span class="nav-text">创建数据库表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%9A%84%E7%B1%BB%E5%9E%8B-%E9%92%88%E5%AF%B9MySQL5-0"><span class="nav-number">1.3.5.</span> <span class="nav-text">数据表的类型(针对MySQL5.0)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="nav-number">1.3.6.</span> <span class="nav-text">修改和删除表</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mysql%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86"><span class="nav-number">1.4.</span> <span class="nav-text">mysql数据管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%96%E9%94%AE-%E4%BA%86%E8%A7%A3"><span class="nav-number">1.4.1.</span> <span class="nav-text">外键(了解)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DML%E8%AF%AD%E8%A8%80-%E5%85%A8%E8%AE%B0%E4%BD%8F"><span class="nav-number">1.4.2.</span> <span class="nav-text">DML语言(全记住)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Insert-%E6%B7%BB%E5%8A%A0"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">Insert(添加)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#update-%E4%BF%AE%E6%94%B9"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">update(修改)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#delete"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">delete</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE-%E6%9C%80%E9%87%8D%E7%82%B9"><span class="nav-number">1.5.</span> <span class="nav-text">查询数据(最重点)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%87%E5%AE%9A%E6%9F%A5%E8%AF%A2%E5%AD%97%E6%AE%B5"><span class="nav-number">1.5.1.</span> <span class="nav-text">指定查询字段</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#where%E6%9D%A1%E4%BB%B6%E5%AD%90%E5%8F%A5"><span class="nav-number">1.5.2.</span> <span class="nav-text">where条件子句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.5.3.</span> <span class="nav-text">模糊查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%81%94%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.5.4.</span> <span class="nav-text">联表查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5-%E4%BA%86%E8%A7%A3"><span class="nav-number">1.5.5.</span> <span class="nav-text">自连接(了解)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E9%A1%B5%E5%92%8C%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.5.6.</span> <span class="nav-text">分页和查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.5.7.</span> <span class="nav-text">子查询</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">1.6.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="nav-number">1.6.1.</span> <span class="nav-text">常用函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="nav-number">1.6.2.</span> <span class="nav-text">聚合函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BA%A7%E5%88%ABmd5%E5%8A%A0%E5%AF%86"><span class="nav-number">1.6.3.</span> <span class="nav-text">数据库级别md5加密</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#select%E5%B0%8F%E7%BB%93"><span class="nav-number">1.6.4.</span> <span class="nav-text">select小结</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1"><span class="nav-number">1.7.</span> <span class="nav-text">事务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95"><span class="nav-number">1.8.</span> <span class="nav-text">索引</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E5%88%86%E7%B1%BB"><span class="nav-number">1.8.1.</span> <span class="nav-text">索引分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E6%B5%8B%E8%AF%95"><span class="nav-number">1.8.2.</span> <span class="nav-text">索引测试</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E5%8E%9F%E5%88%99"><span class="nav-number">1.8.3.</span> <span class="nav-text">索引原则</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%92%8C%E5%A4%87%E4%BB%BD"><span class="nav-number">1.9.</span> <span class="nav-text">权限管理和备份</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="nav-number">1.9.1.</span> <span class="nav-text">用户管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MySQL%E5%A4%87%E4%BB%BD"><span class="nav-number">1.9.2.</span> <span class="nav-text">MySQL备份</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%84%E8%8C%83%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="nav-number">1.10.</span> <span class="nav-text">规范数据库设计</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.10.1.</span> <span class="nav-text">设计数据库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E5%A4%A7%E8%8C%83%E5%BC%8F"><span class="nav-number">1.10.2.</span> <span class="nav-text">三大范式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JDBC"><span class="nav-number">1.11.</span> <span class="nav-text">JDBC</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A9%B1%E5%8A%A8"><span class="nav-number">1.11.1.</span> <span class="nav-text">数据库驱动</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JDBC-1"><span class="nav-number">1.11.2.</span> <span class="nav-text">JDBC</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AAJDBC%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.11.3.</span> <span class="nav-text">第一个JDBC程序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JDBC%E5%AF%B9%E8%B1%A1%E8%A7%A3%E9%87%8A"><span class="nav-number">1.11.4.</span> <span class="nav-text">JDBC对象解释</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#statement%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.11.5.</span> <span class="nav-text">statement对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sql%E6%B3%A8%E5%85%A5%E9%97%AE%E9%A2%98"><span class="nav-number">1.11.6.</span> <span class="nav-text">sql注入问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PrepareStatement%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.11.7.</span> <span class="nav-text">PrepareStatement对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8idea%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.11.8.</span> <span class="nav-text">使用idea连接数据库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JDBC%E6%93%8D%E4%BD%9C%E4%BA%8B%E5%8A%A1"><span class="nav-number">1.11.9.</span> <span class="nav-text">JDBC操作事务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="nav-number">1.11.10.</span> <span class="nav-text">数据库连接池</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93%E4%BE%9D%E8%B5%96%E9%85%8D%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">总结依赖配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93properties%E9%85%8D%E7%BD%AE"><span class="nav-number">3.</span> <span class="nav-text">数据库properties配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98"><span class="nav-number">4.</span> <span class="nav-text">问题</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">haley06</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
